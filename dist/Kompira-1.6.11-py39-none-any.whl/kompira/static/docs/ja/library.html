
<!DOCTYPE html>

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>5. Kompira 標準ライブラリ &#8212; Kompira 1.6.11 ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxdoc.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/translations.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="next" title="6. 他システムとの連携" href="coordination.html" />
    <link rel="prev" title="4. Kompira ジョブフロー言語リファレンス" href="reference.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="coordination.html" title="6. 他システムとの連携"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="reference.html" title="4. Kompira ジョブフロー言語リファレンス"
             accesskey="P">前へ</a> |</li>
<li class="nav-item nav-item-0"><a href="index.html">Kompira 1.6.11 ドキュメント</a> [<a href="../en/library.html">en</a>|<a href="./kompira.pdf" target="_blank">pdf</a>] &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">5. </span>Kompira 標準ライブラリ</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="kompira">
<h1><span class="section-number">5. </span>Kompira 標準ライブラリ<a class="headerlink" href="#kompira" title="この見出しへのパーマリンク">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">著者<span class="colon">:</span></dt>
<dd class="field-odd"><p>Kompira 開発チーム</p>
</dd>
</dl>
<p>このライブラリリファレンスマニュアルでは、Kompira に標準で付属している
ライブラリについて説明します。</p>
<section id="id1">
<h2><span class="section-number">5.1. </span>組み込み関数/ジョブ<a class="headerlink" href="#id1" title="この見出しへのパーマリンク">¶</a></h2>
<p>Kompiraのジョブには組み込みジョブ、組み込み関数としてあらかじめ定義され
ているものがあります。</p>
<p>組み込みジョブは、ジョブマネージャを介さないローカルな組み込みジョブと、
ジョブマネージャによって実行されるリモートの組み込みジョブの2種類に分け
られます。</p>
<section id="id2">
<h3><span class="section-number">5.1.1. </span>ローカル組み込みジョブ<a class="headerlink" href="#id2" title="この見出しへのパーマリンク">¶</a></h3>
<p>ローカル組み込みジョブは、ジョブマネージャが動作していなくても実行可能
なジョブです。</p>
<dl class="kompira local_job">
<dt class="sig sig-object kompira" id="local_job-self">
<span class="sig-name descname"><span class="pre">self</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#local_job-self" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>自分自身のジョブフローを最初から再実行します。再実行のとき、そのジョ
ブフローのパラメータは変更しません。また、多重度指定されているジョブ
フローの場合、ロックを保持したまま再実行します。</p>
</dd></dl>

<span class="target" id="lib-print"></span><dl class="kompira local_job">
<dt class="sig sig-object kompira" id="local_job-print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">...</span></span></em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#local_job-print" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>コンソールに message 文字列を出力し、改行します。</p>
<p>複数の引数を与えた場合、複数のメッセージ文字列を空白文字で区切って出
力します。引数を全て省略すると、改行だけします。</p>
</dd></dl>

<dl class="kompira local_job">
<dt class="sig sig-object kompira" id="local_job-sleep">
<span class="sig-name descname"><span class="pre">sleep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#local_job-sleep" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスを timeout で指定した秒数だけスリープします。timeout が日時
型の場合は、その日時までスリープします。</p>
</dd></dl>

<dl class="kompira local_job">
<dt class="sig sig-object kompira" id="local_job-exit">
<span class="sig-name descname"><span class="pre">exit</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">status=0</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">result=''</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">error=''</span></span></em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#local_job-exit" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスを終了します。status で終了ステータスコードを指定することも
できます。result でプロセス終了時の実行結果を指定します。error で、
エラーメッセージを指定することもできます。</p>
</dd></dl>

<dl class="kompira local_job">
<dt class="sig sig-object kompira" id="local_job-return">
<span class="sig-name descname"><span class="pre">return</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">result=''</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">status=0</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">error=''</span></span></em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#local_job-return" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ジョブフローの呼び出し元に制御を戻します。result で実行結果を指定し
ます。status で終了ステータスコードを指定することもできます。error
でエラーメッセージを指定することもできます。</p>
</dd></dl>

<dl class="kompira local_job">
<dt class="sig sig-object kompira" id="local_job-abort">
<span class="sig-name descname"><span class="pre">abort</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#local_job-abort" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>コンソールにメッセージを出力し、ジョブを異常終了させます。終了ステー
タスコードは 1 にセットされます。</p>
</dd></dl>

<dl class="kompira local_job">
<dt class="sig sig-object kompira" id="local_job-assert">
<span class="sig-name descname"><span class="pre">assert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#local_job-assert" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>value が真であることを確かめ、そうでない場合には、コンソールに
message を出力し異常終了します。</p>
</dd></dl>

<dl class="kompira local_job">
<dt class="sig sig-object kompira" id="local_job-detach">
<span class="sig-name descname"><span class="pre">detach</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#local_job-detach" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>実行中の自身のプロセスを親プロセスから切り離します。これによって、
親プロセス側は子プロセスの終了を待たずに処理を先に進めることができ
ます。</p>
</dd></dl>

<dl class="kompira local_job">
<dt class="sig sig-object kompira" id="local_job-suspend">
<span class="sig-name descname"><span class="pre">suspend</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#local_job-suspend" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>実行中のプロセスを一時停止状態にします。</p>
</dd></dl>

<dl class="kompira local_job">
<dt class="sig sig-object kompira" id="local_job-urlopen">
<span class="sig-name descname"><span class="pre">urlopen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">...options</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#local_job-urlopen" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>options には、<em>user</em>, <em>password</em>, <em>data</em>, <em>params</em>, <em>files</em>,
<em>timeout</em>, <em>encode</em>, <em>http_method</em>, <em>verify</em>, <em>quiet</em>, <em>headers</em>,
<em>cookies</em>, <em>charset</em>, <em>binary</em>, <em>proxies</em> を指定することができます。</p>
<p>引数で指定した url に対して、HTTPリクエストを送信し、結果を取得します。</p>
<p>user, password を指定すると、Basic認証によるアクセスを行います。</p>
<p>data には POST リクエストで送信するデータを辞書型で指定することができます。
送信データは encode 引数で指定した方式でエンコードされます。</p>
<p>params に辞書を渡すと URL のクエリ文字列として展開されます。
例えば以下のように呼び出すと、実際にアクセスする URL は
<code class="docutils literal notranslate"><span class="pre">http://example.com?key1=value1&amp;key2=value2</span></code> となります。:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>urlopen(url=&#39;http://example.com&#39;, params={key1=&#39;value1&#39;, key2=&#39;value2&#39;})
</pre></div>
</div>
<p>files には、アップロードするファイルを渡すことができます。ファイルは
nameとdataというフィールドを持つ辞書，ファイル名とコンテンツのリスト，
Kompiraサーバ上のファイル名，または添付ファイルフィールド，のいずれか
の形式で指定することができます。:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>files={file={name=&#39;filename&#39;, data=&#39;content&#39;}}
files={file=[&#39;filename&#39;, &#39;content&#39;]}
files={file=&quot;/tmp/filename.xls&quot;}
files={file=./attached_file.attached1}
</pre></div>
</div>
<p>なお、ここで files に渡す辞書のキー（上では file）は送信先 form の
ファイルフィールドの名前に合わせて指定してください。
複数ファイルを受け付けるファイルフィールドに対しては、リスト形式で
フィールド名とファイルを並べて渡すこともできます。:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>files=[[&#39;file&#39;, {name=&#39;filename1&#39;, data=&#39;content1&#39;}],
       [&#39;file&#39;, {name=&#39;filename2&#39;, data=&#39;content2&#39;}]]
</pre></div>
</div>
<p>この場合は、内側のフィールド名とファイルもリストで指定してください。
files が指定された場合は multipart/form-data 形式でエンコードされます。</p>
<p>timeout には、タイムアウトするまでの時間を秒単位で指定します。</p>
<p>encode には、エンコードタイプとして &quot;json&quot;を指定することができます。
data が指定され encode が &quot;json&quot; のとき、HTTP リクエストの
Content-Type: ヘッダには自動的に application/json が設定されます。
encode引数を省略した場合、送信データは
application/x-www-form-urlencoded 形式でエンコードされます。
files が指定されている時に encode に &quot;json&quot; を指定するとエラーになります。</p>
<p>http_method には、HTTPリクエストのメソッドを 'GET', 'POST', 'PUT',
'DELETE', 'HEAD' のいずれかから指定します。http_method を省略したとき、
data または files が指定されている場合は POST メソッド、
指定されていない場合は GET メソッドとなります。</p>
<p>verify に true を指定すると、指定した URL が https アクセスである時
に SSL 証明書のチェックを行います。不正な SSL 証明書を検出すると
urlopen ジョブはエラーになります。verify のデフォルト値は false で
す。</p>
<p>quiet に true を指定すると、verify オプションが true 時に、https ア
クセスした際に表示される警告メッセージを抑止します。</p>
<p>headers には、HTTPリクエストに設定するヘッダ情報を辞書型の値で渡す
ことができます。</p>
<p>cookies には、サーバに渡すクッキーを辞書型の値で渡します。</p>
<p>charset には、レスポンスとして期待する文字コードを指定することがで
きます。</p>
<p>プロキシサーバ経由で HTTP リクエストを送信する必要がある場合は、以
下の例の用にプロキシサーバの URL の辞書を proxies パラメータに渡し
ます。:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[proxies = {&#39;http&#39;: &#39;http://10.10.1.10:3128&#39;, &#39;https&#39;: &#39;http://10.10.1.10:1080&#39;}] -&gt;
urlopen(&#39;http://www.kompira.jp&#39;, proxies=proxies)
</pre></div>
</div>
<p>取得したコンテンツがバイナリであるかどうかは Content-Type で判断し
ます。Content-Type が image|audio|video で始まるとき、または
octet|binary を含む時はバイナリと判断します。ただし binary に true
を指定すると、Content-Type によらずコンテンツをバイナリとして扱いま
す</p>
<p>この組み込みジョブは、以下の要素を持つ辞書型の値を返します。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>フィールド名</p></th>
<th class="head"><p>意味</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>url</p></td>
<td><p>レスポンスのURL</p></td>
</tr>
<tr class="row-odd"><td><p>code</p></td>
<td><p>結果ステータスコード</p></td>
</tr>
<tr class="row-even"><td><p>version</p></td>
<td><p>HTTPバージョン（HTTP 1.1 なら 11 という数値になります）</p></td>
</tr>
<tr class="row-odd"><td><p>text</p></td>
<td><p>レスポンスの内容（エンコード情報をもとにレスポンス本文をテキストにデコードしたもの。
ただし、バイナリコンテンツの場合は空文字になります）</p></td>
</tr>
<tr class="row-even"><td><p>content</p></td>
<td><p>レスポンスの内容（バイナリのままのレスポンスの本文）</p></td>
</tr>
<tr class="row-odd"><td><p>body</p></td>
<td><p>レスポンスの内容（コンテンツがバイナリであると判断したとき content と同じ値になり、
テキストであると判断したときは text と同じ値になります）</p></td>
</tr>
<tr class="row-even"><td><p>encoding</p></td>
<td><p>エンコード情報</p></td>
</tr>
<tr class="row-odd"><td><p>headers</p></td>
<td><p>レスポンスに含まれるヘッダ情報（辞書型）</p></td>
</tr>
<tr class="row-even"><td><p>cookies</p></td>
<td><p>サーバから渡されたクッキー値（辞書型）</p></td>
</tr>
<tr class="row-odd"><td><p>history</p></td>
<td><p>リダイレクトがあった場合にその履歴情報（リスト型）</p></td>
</tr>
<tr class="row-even"><td><p>binary</p></td>
<td><p>バイナリコンテンツであるかの真偽値</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="kompira local_job">
<dt class="sig sig-object kompira" id="local_job-mailto">
<span class="sig-name descname"><span class="pre">mailto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subject</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">...options</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#local_job-mailto" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>options には、<em>cc</em>, <em>bcc</em>, <em>reply_to</em>, <em>html_content</em>,
<em>attach_files</em>, <em>parents</em>, <em>headers</em>, <em>charset</em>, <em>reply_to_all</em>,
<em>inline_content</em>, <em>placeholder</em>, <em>as_string</em>, <em>smtp_server</em> を指定することができ
ます。</p>
<p>メールを送信します。</p>
<p>to には、送信先メールアドレスを文字列で指定します。複数アドレスに送
信したい場合、送信先メールアドレスを要素に持つリストで指定します。
from には、送信元のメールアドレスを指定します。
subject には、メール表題の文字列を指定します。
body には、メール本文の文字列を指定します。
cc と bcc には、Cc/Bcc先メールアドレスをそれぞれ指定します。複数ア
ドレスを指定したい場合は、リストを渡します。
reply_to には、返信先のメールアドレスを指定します。</p>
<p>html_content を指定すると HTML 形式(text/html)のメールを送信します。
html_content を省略または null を指定した場合、body をテキスト形式
(text/plain)で持ったメールを送信します。body および html_content の
両方を null にすると、mailto ジョブはエラーになります。
attach_files には、メールに添付するファイルオブジェクト、もしくはファ
イルオブジェクトの一覧を渡すことができます。</p>
<p>parents に親メッセージ（mail_parseした結果の辞書）を渡すと、そのメッ
セージに対する返信としてのメールを送信します。このときメールヘッダ
In-Reply-To: および References: が適切に設定されます。また宛先とし
て親メッセージの（設定されていれば） Reply-To: または From: に設定
されたアドレスが設定されます。複数の親メッセージを参照する場合はリ
ストで渡してください。
parents でメールを返信する際に reply_to_all を true を指定すると、
「全員に返信」扱いとして親メッセージの To: と Cc: に指定された宛先
を引き継いで設定します。</p>
<p>headers に辞書を渡すと、辞書の各キーをヘッダ項目としてメールヘッダ
に追加します。</p>
<p>charset で送信時の文字コードを指定できます。省略時は UTF-8 です。</p>
<p>inline_content に true を指定すると添付ファイルをインライン展開しま
す。このときメール本体の MIME mixed サブタイプは &quot;related&quot; となり、
各添付ファイルの Content-Disposition ヘッダは &quot;inline&quot; となります。
また、メール本文(body, html_content)中に &quot;%{Content-ID#num}&quot;（num
部分は attache_files で指定した添付ファイルのインデックス）または
&quot;%{Content-ID:filename}&quot;（filename部分は添付ファイルのファイル名）
と指定されたプレースホルダがある場合、各添付ファイルに自動的に割り
当てられた Content-ID （両端の'&lt;'と'&gt;'を取り除いたもの）に置換され
ます。例えば、attach_files で画像ファイルを１つ添付し、
html_content に '&lt;img src=&quot;cid:%{Content-ID#0}&quot; /&gt;' という記述を含
んでおくと、対応したメールクライアントではその記述部分に添付した画
像ファイルがインラインで表示されるようになります。</p>
<p>as_string に true を指定するとメールを実際に送信するかわりに、メー
ルヘッダを含むメッセージ全体を文字列化します。結果の文字列は
$RESULT で参照できます。</p>
<p>smtp_server に SMTP サーバ型オブジェクトを渡すと、その SMTP サーバ
を利用してメール送信を行います。引数を省略した場合は、システム設定
で指定されている SMTP サーバが用いられます。null を渡した場合は、
システム設定によらず localhost (Kompiraがインストールされているサー
バ) 上で稼働している SMTP サーバを用いてメール送信します。</p>
<p>mailto ジョブで送信したメールの User-Agent ヘッダは &quot;Kompira ver
X.XX&quot; となります。&quot;X.XX&quot; の部分は Kompira のバージョンが入ります。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>from が省略された場合、次の優先順位で送信元のメールアドレスを決定します。</p>
<ol class="arabic simple">
<li><p>プロセスオーナーのメールアドレス</p></li>
<li><p>/system/config の管理者メールアドレス</p></li>
<li><p><a class="reference external" href="mailto:webmaster&#37;&#52;&#48;localhost">webmaster<span>&#64;</span>localhost</a></p></li>
</ol>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.10 で変更: </span>mailto() に指定したアドレスリスト to, cc, bcc が不正な (RFC 2822 に準拠していない) 形式であった場合は、mailto() のエラーとなるようになりました。</p>
</div>
</dd></dl>

<dl class="kompira local_job">
<dt class="sig sig-object kompira" id="local_job-download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#local_job-download" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>添付ファイルフィールド (File, Array&lt;File&gt;, Dictionary&lt;File&gt;型のフィールド) のファイルを指定したパスにダウンロードします。</p>
<p>from_file には、ダウンロード元の添付ファイルフィールドオブジェクトを指定します。
to_path には、ダウンロード先のファイルパスを指定します。ダウンロー
ド先はジョブマネージャの動作しているサーバ上のファイルシステムにな
ります。ダウンロード先のファイルパスがディレクトリを指している場合、
ファイル名は添付ファイルのファイル名となります。</p>
<p>以下はKompiraオブジェクト/root/Packageのattachedフィールドに添付さ
れたファイルをローカルの/tmpディレクトリにダウンロードします。:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>download(from_file=/root/Package.attached, to_path=&#39;/tmp/&#39;)
</pre></div>
</div>
</dd></dl>

<dl class="kompira local_job">
<dt class="sig sig-object kompira" id="local_job-upload">
<span class="sig-name descname"><span class="pre">upload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_field</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">to_subscript</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#local_job-upload" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>添付ファイルフィールド (File, Array&lt;File&gt;, Dictionary&lt;File&gt;型のフィールド) に指定したファイルをアップロードします。
実行結果として添付ファイルのファイル名を返します。</p>
<p>from_path には、ダウンロード元のファイルパスを指定します。
to_object には、添付先のKompiraオブジェクトを指定し、to_field で添付先Kompiraオブジェクトの添付ファイルフィールド名を指定します。
添付ファイルフィールドが配列 (Array&lt;File&gt;) や 辞書 (Dictionary&lt;File&gt;) の場合は、to_subscript に配列のインデックスや辞書のキーを指定できます。
to_subscript を省略すると、配列ではファイルを追加し、辞書ではファイル名をキーとして扱います。</p>
<p>以下はローカルに置かれたファイル/tmp/foo.tar.gzを/root/Packageオブジェクトのattachedフィールドにアップロードします。:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>upload(from_path=&#39;/tmp/foo.tar.gz&#39;, to_object=/root/Package, to_field=&#39;attached&#39;)
</pre></div>
</div>
</dd></dl>

</section>
<section id="id3">
<h3><span class="section-number">5.1.2. </span>リモート組み込みジョブ<a class="headerlink" href="#id3" title="この見出しへのパーマリンク">¶</a></h3>
<p>リモート組み込みジョブは、ジョブマネージャを介して動作する組み込みのジョ
ブです。ジョブマネージャが動作していない場合は、ジョブマネージャが起動
するまで実行が待ち状態となります。</p>
<p>また、リモート組み込みジョブでは、制御変数からリモートホストの接続情報
を参照します。</p>
<dl class="kompira remote_job">
<dt class="sig sig-object kompira" id="remote_job-put">
<span class="sig-name descname"><span class="pre">put</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_path</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Array"><span class="pre">Array</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#remote_job-put" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ジョブマネージャが動作しているホストからリモートホストにファイルを
転送します。結果は転送先のファイルパスのリストを返します。</p>
<p>local_path には、転送元のファイルパスを指定します。ワイルドカードを
用いて複数ファイルを転送することも可能です。local_pathを相対パス指
定した場合、ジョブマネージャが動作しているディレクトリ(通常はルート
ディレクトリ)からの相対パスとなります。</p>
<p>remote_path には、転送先のディレクトリパスもしくはファイルパスを指
定します。remote_pathを相対パス指定した場合、ログインユーザーのホー
ムディレクトリからの相対パス、もしくは、__dir__制御変数で指定したパ
スからの相対パスとなります。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>転送するファイルのファイル名に転送先で利用できない文字が含まれる場合は、転送処理全体を失敗としてユーザにエラーを返します。
転送先が Windows の場合 <code class="docutils literal notranslate"><span class="pre">/:*?&quot;&lt;&gt;|</span></code> がファイル名に利用できないため、これらの文字を含む場合はエラーになります。
ディレクトリ単位など複数ファイルを転送している途中で一部のファイルの転送に失敗した場合も、転送処理全体が失敗となりますが、先行して転送できたファイルについては転送先に残ることに注意してください。</p>
</div>
</dd></dl>

<dl class="kompira remote_job">
<dt class="sig sig-object kompira" id="remote_job-get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remote_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_path</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Array"><span class="pre">Array</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#remote_job-get" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>リモートホストからジョブマネージャが動作しているホストにファイルを
転送します。結果は転送先のファイルパスのリストを返します。</p>
<p>remote_path には、転送元のファイルパスを指定します。ワイルドカード
を用いて複数ファイルを転送することも可能です。</p>
<p>local_path には、転送先(ジョブマネージャ側)のファイルパスか、ディレ
クトリパスを指定します。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>Windows とのファイル転送においてファイル名にキャレット文字 <code class="docutils literal notranslate"><span class="pre">^</span></code> を含んでいると転送に失敗する場合があります。</p>
</div>
</dd></dl>

<dl class="kompira remote_job">
<dt class="sig sig-object kompira" id="remote_job-reboot">
<span class="sig-name descname"><span class="pre">reboot</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">wait=120</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#remote_job-reboot" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>リモートホストを再起動します。</p>
<p>wait には、リモートホストが再起動するまで待つ最大時間を指定(単位は
秒)します。</p>
<p>rebootジョブは、sudoジョブが実行できるユーザでなければ実行できませ
ん。</p>
</dd></dl>

</section>
<section id="library-functions">
<span id="id4"></span><h3><span class="section-number">5.1.3. </span>組み込み関数<a class="headerlink" href="#library-functions" title="この見出しへのパーマリンク">¶</a></h3>
<p>組み込み関数は、Kompiraの式として使用できる関数です。</p>
<p>式の中に記述する他に、組み込みジョブと同じように単独で使用することもできます。
単独で使用した場合、結果は$RESULTに挿入されます。</p>
<p>なお、コロン（:）の右側は、関数が返す結果の型を示しています。</p>
<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-now">
<span class="sig-name descname"><span class="pre">now</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Datetime"><span class="pre">Datetime</span></a></em><a class="headerlink" href="#function-now" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のローカルな日時を返します。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-current">
<span class="sig-name descname"><span class="pre">current</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#virtual_model-Process"><span class="pre">Process</span></a></em><a class="headerlink" href="#function-current" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在実行している自身のプロセスオブジェクトを取得します。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-channel">
<span class="sig-name descname"><span class="pre">channel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#type_object-Channel"><span class="pre">Channel</span></a></em><a class="headerlink" href="#function-channel" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>データを複数プロセス間で送受信するためのオンメモリのチャネルオブジェ
クトを作成します。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-datetime">
<span class="sig-name descname"><span class="pre">datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt_str_or_date</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">dt_fmt_or_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Datetime"><span class="pre">Datetime</span></a></em><a class="headerlink" href="#function-datetime" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>dt_str_or_date で指定された文字列から日時型データに変換します。
dt_fmt_or_time で、フォーマット文字列を指定することも可能です。
dt_str_or_date に日付型データを渡し、dt_fmt_or_time に時刻型データを渡すことで、
これらを合わせた日時型データを構成することができます。
zone で、タイムゾーンIDを指定することが可能です。</p>
<p>フォーマットの書式指定は、C言語のstrftime()関数に準じています。
以下に例を示します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[dt = datetime(&#39;2015年1月1日10時30分05秒&#39;, &#39;%Y年%m月%d日%H時%M分%S秒&#39;, &#39;Asia/Tokyo&#39;)] -&gt;
print(dt) -&gt;
[dt2 = datetime(dt.date, dt.time)] -&gt;
print(dt2)
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>dt_fmt を省略した場合、日付文字列のフォーマットは以下のような ISO 8601 形式として変換を試みます。</p>
<p>YYYY-MM-DD[T ]hh:mm(:ss(.mmmmmm)?)?([Z]|[+-]hh(:)?mm)?</p>
<p>日付けと時刻のセパレータは、Tまたは空白が使えます。秒、マイクロ秒、タイムゾーンの指定は省略可能です。</p>
<p>zone を省略した場合、ローカルのタイムゾーンが指定されたとみなされます。</p>
</div>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-date">
<span class="sig-name descname"><span class="pre">date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date_str</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">dt_fmt</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Date"><span class="pre">Date</span></a></em><a class="headerlink" href="#function-date" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>date_str で指定された文字列から日付データに変換します。
dt_fmtで、フォーマット文字列を指定することも可能です。</p>
<p>フォーマットの書式指定は、C言語のstrftime()関数に準じています。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-time">
<span class="sig-name descname"><span class="pre">time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_str</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">dt_fmt</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Time"><span class="pre">Time</span></a></em><a class="headerlink" href="#function-time" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>time_str で指定された文字列から時刻データに変換します。
dt_fmtで、フォーマット文字列を指定することも可能です。</p>
<p>フォーマットの書式指定は、C言語のstrftime()関数に準じています。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-timedelta">
<span class="sig-name descname"><span class="pre">timedelta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">days=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hours=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minutes=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seconds=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">microseconds=0</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Timedelta"><span class="pre">Timedelta</span></a></em><a class="headerlink" href="#function-timedelta" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>経過時間を表すデータを作成します。timedelta型の値とdatetime型の値は
加算や減算が可能です。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-int">
<span class="sig-name descname"><span class="pre">int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x=0</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#function-int" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>引数 x で与えられた文字列を整数型に変換します。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-float">
<span class="sig-name descname"><span class="pre">float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x=0.0</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Float"><span class="pre">Float</span></a></em><a class="headerlink" href="#function-float" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>数または文字列 x から生成された浮動小数点数を返します。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-pattern">
<span class="sig-name descname"><span class="pre">pattern</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typ='r'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode=''</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Pattern"><span class="pre">Pattern</span></a></em><a class="headerlink" href="#function-pattern" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列 pattern で与えられるパターンオブジェクトを生成します。
typ はパターンの種別を表し、'r' (正規表現パターン)、'g' (glob パターン)、'e' (完全一致パターン) のいずれかを指定することができます。
mode に 'i' を指定すると大小文字を区別しないパターン照合となります。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-path">
<span class="sig-name descname"><span class="pre">path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_or_obj</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">...</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#function-path" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>パス名を表す文字列 str_or_obj から実際のKompiraオブジェクトを返します。
str_or_obj には文字列の配列を指定することができます。配列、もしくは複数の
引数を与えた場合、各要素を結合しパス名として解釈します。</p>
<p>以下の例はルートディレクトリ直下のオブジェクトを列挙します。
使用例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ for p in path(&#39;/&#39;) | print(p) }
</pre></div>
</div>
<p>str_or_obj に相対パスを指定した場合は、このジョブフローがあるディレクトリ
から相対位置にあるKompira オブジェクトを参照します。以下の例は、こ
のジョブフローがあるディレクトリのパスを表示します。</p>
<p>使用例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>print(path(&#39;.&#39;))
</pre></div>
</div>
<p>また、str_or_obj には Kompira オブジェクトを指定することもできます。以下
の例では、パラメータ 'dir' で指定された Kompira オブジェクトの親ディ
レクトリに含まれるオブジェクト、すなわち 'dir' で指定されたオブジェ
クトと同一階層にある Kompira オブジェクトを列挙します。</p>
<p>使用例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>|dir = /home/guest|
{ for sibling in path(dir, &#39;..&#39;) | print(sibling) }
</pre></div>
</div>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-user">
<span class="sig-name descname"><span class="pre">user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#virtual_model-User"><span class="pre">User</span></a></em><a class="headerlink" href="#function-user" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ユーザー名 user を持つ User オブジェクトを返します。user に整数値を
与えると、その値をユーザ ID として持つ User オブジェクトを返します。
User オブジェクトを与えると、それをそのまま返します。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-group">
<span class="sig-name descname"><span class="pre">group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#virtual_model-Group"><span class="pre">Group</span></a></em><a class="headerlink" href="#function-group" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>グループ名 group を持つ Group オブジェクトを返します。group に整数
値を与えると、その値をグループ ID として持つ Group オブジェクトを返
します。Group オブジェクトを与えると、それをそのまま返します。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-string">
<span class="sig-name descname"><span class="pre">string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#function-string" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクト obj を文字列に変換します。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-bytes">
<span class="sig-name descname"><span class="pre">bytes</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">encoding='utf-8'</span></span></em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Binary"><span class="pre">Binary</span></a></em><a class="headerlink" href="#function-bytes" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>bが整数値の場合、各バイト値が0で長さbのバイナリ(バイト列)を生成します。
bが文字列の場合、encodingで指定されたエンコーディングで符号化されたバイナリを生成します。
bが0-255までの整数を各要素とする配列の場合、対応するバイナリを生成します。
bがバイナリの場合、その値をそのまま返します。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-type">
<span class="sig-name descname"><span class="pre">type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#function-type" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクト obj の型名を返します。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-decode">
<span class="sig-name descname"><span class="pre">decode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">encoding='utf-8'</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#function-decode" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>バイナリデータ data を encoding で指定された文字コード系で文字列に
デコードします。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-encode">
<span class="sig-name descname"><span class="pre">encode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">encoding='utf-8'</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Binary"><span class="pre">Binary</span></a></em><a class="headerlink" href="#function-encode" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列 message を encoding で指定された文字コード系でバイナリデータ
にエンコードします。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-length">
<span class="sig-name descname"><span class="pre">length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#function-length" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>obj で渡された配列の長さを取得します。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-has_key">
<span class="sig-name descname"><span class="pre">has_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#function-has_key" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>obj で渡された辞書データやオブジェクトに、指定されたキー key でフィー
ルドアクセス可能かどうかをチェックします。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-json_parse">
<span class="sig-name descname"><span class="pre">json_parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">strict=false</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">any</span></em><a class="headerlink" href="#function-json_parse" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>JSON形式で直列化された文字列を Kompira のオブジェクトに変換します。</p>
<p>使用例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[str = &#39;[1,2,3,true,&quot;foo&quot;,&quot;bar&quot;]&#39;]
-&gt; [obj = json_parse(str)]
-&gt; { for elem in obj | print(elem) }
</pre></div>
</div>
<p>strict が true の場合、制御文字が文字列に含まれているとエラーになります。
strict が false の場合、制御文字を文字列に含めることができます。
ここで言う制御文字とは、'\t', '\n', '\r', '\0' を含む 0-31 の範囲のコードを持つ文字のことです。</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.2.post3 で追加: </span>パラメータ strict が追加されました。</p>
</div>
<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-json_dump">
<span class="sig-name descname"><span class="pre">json_dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">ensure_ascii=true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent=null</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#function-json_dump" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Kompira のオブジェクトをJSON形式で直列化された文字列に変換します。</p>
<p>ensure_ascii が true の場合、出力では入力された全ての非 ASCII 文字はエスケープされます。
ensure_ascii が false の場合、これらの文字はそのまま出力されます。</p>
<p>indent が非負の整数または文字列であれば、JSON の配列要素と辞書要素はそのインデントレベルで見やすく変換されます。
インデントレベルが 0 か負数または &quot;&quot; であれば改行だけが挿入されます。</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.2.post3 で追加: </span>パラメータ ensure_ascii, indent が追加されました。</p>
</div>
<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-mail_parse">
<span class="sig-name descname"><span class="pre">mail_parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Dictionary"><span class="pre">Dictionary</span></a></em><a class="headerlink" href="#function-mail_parse" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>MIME形式の文字列をKompiraの辞書オブジェクトに変換します。</p>
<p>メールのヘッダ情報に加え、'Body'キーでメールの本文に、'Filename'キー
でファイル名にアクセスすることができます。(添付ファイルが存在しない
場合は'Filename'キーはnullとなります)</p>
<p>メールの本文は、Content-TypeがText/plainで、かつ添付ファイルでない
場合に限りutf-8形式のエンコードされます。</p>
<p>Content-Typeがmultipartである場合は、'Is-Multipart'キーがtrueにな
り、'Body'キーの要素がKompira辞書オブジェクトの配列となります。</p>
</dd></dl>

<dl class="kompira function">
<dt class="sig sig-object kompira" id="function-iprange">
<span class="sig-name descname"><span class="pre">iprange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Array"><span class="pre">Array</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#function-iprange" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>CIDR表記のネットワークアドレスをIPネットワークオブジェクトに変換します。</p>
<p>使用例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ for ip in iprange(&#39;192.168.0.1/24&#39;) |
    [__host__ = ip] -&gt;
    [&#39;hostname&#39;] -&gt;&gt; []
}
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>組み込みジョブ iprange() は近い将来廃止される予定です。</p>
</div>
</dd></dl>

</section>
</section>
<section id="base_object-Object">
<span id="id5"></span><h2><span class="section-number">5.2. </span>Kompiraオブジェクト<a class="headerlink" href="#base_object-Object" title="この見出しへのパーマリンク">¶</a></h2>
<p>Kompira が扱う様々なデータは、ディレクトリ構造を備えた Kompira のファイ
ルシステム上に Kompira オブジェクトとして格納されます。Kompira オブジェ
クトは、その型毎に固有のフィールドやメソッドを備えており、ジョブフロー
上から操作することが可能です。</p>
<section id="fields-types">
<span id="id6"></span><h3><span class="section-number">5.2.1. </span>フィールド型<a class="headerlink" href="#fields-types" title="この見出しへのパーマリンク">¶</a></h3>
<p>Kompira オブジェクトのフィールドで使用できる型は以下のとおりです。なお、
コロン（:）の右側は、当該フィールドをジョブフローから参照した場合のデー
タの型を示しています。</p>
<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-String">
<span class="sig-name descname"><span class="pre">String</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><a class="headerlink" href="#field_type-String" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列のフィールドを表します。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-Binary">
<span class="sig-name descname"><span class="pre">Binary</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Binary"><span class="pre">Binary</span></a><a class="headerlink" href="#field_type-Binary" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>バイナリのフィールドを表します。16進表記で入力します。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-Integer">
<span class="sig-name descname"><span class="pre">Integer</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Integer"><span class="pre">Integer</span></a><a class="headerlink" href="#field_type-Integer" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>整数のフィールドを表します。整数以外の値は入力できません。未入力の
場合は、null 値となります。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-Float">
<span class="sig-name descname"><span class="pre">Float</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Float"><span class="pre">Float</span></a><a class="headerlink" href="#field_type-Float" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>浮動小数点数のフィールドを表します。整数を入力すると浮動小数点に変換されます。
未入力の場合は、null 値となります。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-Boolean">
<span class="sig-name descname"><span class="pre">Boolean</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a><a class="headerlink" href="#field_type-Boolean" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>真偽値のフィールドを表します。フォーム上ではチェックボックスとして
表示され、チェック時が true、未チェック時が false に対応します。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-Enum">
<span class="sig-name descname"><span class="pre">Enum</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><a class="headerlink" href="#field_type-Enum" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>選択肢フィールドを表します。選択肢の一覧はフィールド修飾子によって
規定します。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-Text">
<span class="sig-name descname"><span class="pre">Text</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><a class="headerlink" href="#field_type-Text" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>テキストフィールドを表します。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-LargeText">
<span class="sig-name descname"><span class="pre">LargeText</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><a class="headerlink" href="#field_type-LargeText" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>大きめのテキストフィールドを表します。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-Password">
<span class="sig-name descname"><span class="pre">Password</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><a class="headerlink" href="#field_type-Password" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>パスワードフィールドを表します。フィールド表示時に文字列は隠されます。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-File">
<span class="sig-name descname"><span class="pre">File</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-File"><span class="pre">File</span></a><a class="headerlink" href="#field_type-File" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>添付ファイルフィールドを表します。添付ファイルのアップロードやダウ
ンロードができるようになります。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-Object">
<span class="sig-name descname"><span class="pre">Object</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a><a class="headerlink" href="#field_type-Object" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Kompira オブジェクトフィールドを表します。Kompira オブジェクトを選
択肢の中から選べるようになります。フィールド修飾子を指定することで、
特定の型を持つオブジェクトや、特定のディレクトリ下にあるオブジェク
トに選択肢を制限することも可能です。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-Datetime">
<span class="sig-name descname"><span class="pre">Datetime</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Datetime"><span class="pre">Datetime</span></a><a class="headerlink" href="#field_type-Datetime" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>日時フィールドを表します。入力する日時情報の形式は以下のとおりです。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>フォーマット</p></th>
<th class="head"><p>例</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>%Y-%m-%d %H:%M:%S</p></td>
<td><p>2006-10-25 14:30:59</p></td>
</tr>
<tr class="row-odd"><td><p>%Y-%m-%d %H:%M</p></td>
<td><p>2006-10-25 14:30</p></td>
</tr>
<tr class="row-even"><td><p>%Y-%m-%d</p></td>
<td><p>2006-10-25</p></td>
</tr>
<tr class="row-odd"><td><p>%m/%d/%Y %H:%M:%S</p></td>
<td><p>10/25/2006 14:30:59</p></td>
</tr>
<tr class="row-even"><td><p>%m/%d/%Y %H:%M</p></td>
<td><p>10/25/2006 14:30</p></td>
</tr>
<tr class="row-odd"><td><p>%m/%d/%Y</p></td>
<td><p>10/25/2006</p></td>
</tr>
<tr class="row-even"><td><p>%m/%d/%y %H:%M:%S</p></td>
<td><p>10/25/06 14:30:59</p></td>
</tr>
<tr class="row-odd"><td><p>%m/%d/%y %H:%M</p></td>
<td><p>10/25/06 14:30</p></td>
</tr>
<tr class="row-even"><td><p>%m/%d/%y</p></td>
<td><p>10/25/06</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-Date">
<span class="sig-name descname"><span class="pre">Date</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Date"><span class="pre">Date</span></a><a class="headerlink" href="#field_type-Date" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>日付フィールドを表します。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-Time">
<span class="sig-name descname"><span class="pre">Time</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Time"><span class="pre">Time</span></a><a class="headerlink" href="#field_type-Time" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>時刻フィールドを表します。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-IPAddress">
<span class="sig-name descname"><span class="pre">IPAddress</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><a class="headerlink" href="#field_type-IPAddress" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>IPアドレスフィールドを表します。IPv4アドレス形式の入力に対応しています。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-EMail">
<span class="sig-name descname"><span class="pre">EMail</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><a class="headerlink" href="#field_type-EMail" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>メールアドレスフィールドを表します。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-URL">
<span class="sig-name descname"><span class="pre">URL</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><a class="headerlink" href="#field_type-URL" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>URLフィールドを表します。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-Array">
<span class="sig-name descname"><span class="pre">Array</span></span><span class="p"><span class="pre">&lt;</span></span><span class="pre">T</span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Array"><span class="pre">Array</span></a><a class="headerlink" href="#field_type-Array" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>各要素の型がTの配列フィールドを表します。複数のT型の要素を入力できます。
(ArrayはArray&lt;Strring&gt;フィールドと同義です)</p>
<p>型変数Tに指定できる型は、String、Binary、Integer、Float、Boolean、Enum、Password、
Object、Datetime、Date、Time、IPAddress、EMail、URLのみとなります。</p>
</dd></dl>

<dl class="kompira field_type">
<dt class="sig sig-object kompira" id="field_type-Dictionary">
<span class="sig-name descname"><span class="pre">Dictionary</span></span><span class="p"><span class="pre">&lt;</span></span><span class="pre">T</span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Dictionary"><span class="pre">Dictionary</span></a><a class="headerlink" href="#field_type-Dictionary" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>辞書フィールドを表します。複数のキーと値を入力できます。値の型はTとなります。
(DictionaryはDictionary&lt;String&gt;フィールドと同義です)</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.0 で追加: </span>Binary、Float、Array&lt;T&gt;、Dictionary&lt;T&gt;フィールドが新たに追加されました。</p>
</div>
</section>
<section id="lib-qualifier">
<span id="id7"></span><h3><span class="section-number">5.2.2. </span>フィールド修飾子<a class="headerlink" href="#lib-qualifier" title="この見出しへのパーマリンク">¶</a></h3>
<p>フィールド修飾子は、フィールド型に対してさらに細かいフィールド表示の制
御や制約を加えます。フィールド修飾子は以下に示すようなJSONオブジェクト
の形式で記述します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;&lt;フィールド修飾子名1&gt;&quot; : &lt;値1&gt;, &quot;&lt;フィールド修飾子名2&gt;&quot; : &lt;値2&gt;, ... }
</pre></div>
</div>
<p>フィールド修飾子は以下の種類があります。</p>
<p>なお、コロン（:）の右側は、各フィールド修飾子で記述する型を示しています。</p>
<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-default">
<span class="sig-name descname"><span class="pre">default</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">any</span></em><a class="headerlink" href="#field_qualifier-default" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: any</li>
</ul>
<p>フィールドのデフォルト値を指定します。</p>
<p>デフォルト値は <a class="reference internal" href="#fields-types"><span class="std std-ref">フィールドの型</span></a> に応じた形式で記述する必要があります。</p>
<p>たとえば、String 型であれば文字列で、Integer 型であれば整数で記述します。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;default&quot;: &quot;string data&quot; }
{ &quot;default&quot;: 123456 }
</pre></div>
</div>
<p>DateTime 型、Date 型、Time 型については、それぞれ Kompira が datetime(), date(), time() 関数で解析できる形式で文字列で記述します。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;default&quot;: &quot;2023-05-12 23:21:45&quot; }
{ &quot;default&quot;: &quot;2023-09-26&quot; }
{ &quot;default&quot;: &quot;17:43:01&quot; }
</pre></div>
</div>
<p>Array&lt;T&gt; 型および Dictionary&lt;T&gt; 型でもデフォルト値を指定することができます。
Array&lt;T&gt; 型では配列で、Dictionary&lt;T&gt; 型では辞書でデフォルト値を指定します。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;default&quot;: [value1, value2, ...] }
{ &quot;default&quot;: {&quot;key1&quot;: value1, &quot;key2&quot;: value2, ...} }
</pre></div>
</div>
<p>このとき、配列や辞書の各要素のデフォルト値については、要素の <a class="reference internal" href="#fields-types"><span class="std std-ref">型 T</span></a> に応じた形式で記述する必要があります。
デフォルト値の記述がフィールドの型と合っていない場合は、デフォルト値の指定は無効となり適用されません。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>File 型、Array&lt;File&gt; 型、Dictionary&lt;File&gt; 型ではデフォルト値の指定に対応していません。</p>
</div>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-invisible">
<span class="sig-name descname"><span class="pre">invisible</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#field_qualifier-invisible" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: any</li>
</ul>
<p>フォームやビューからフィールドを隠します。</p>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-help_text">
<span class="sig-name descname"><span class="pre">help_text</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#field_qualifier-help_text" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: any</li>
</ul>
<p>フィールドについての説明を記述します。
この修飾子を指定した場合、オブジェクトの編集時に指定したテキストが表示されます。</p>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-object">
<span class="sig-name descname"><span class="pre">object</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Array"><span class="pre">Array</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Dictionary"><span class="pre">Dictionary</span></a></em><a class="headerlink" href="#field_qualifier-object" title="この定義へのパーマリンク">¶</a></dt>
<dt class="sig sig-object kompira" id="field_qualifier-directory">
<span class="sig-name descname"><span class="pre">directory</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Array"><span class="pre">Array</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Dictionary"><span class="pre">Dictionary</span></a></em><a class="headerlink" href="#field_qualifier-directory" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: <a class="reference internal" href="#field_type-Object">Object</a></li>
</ul>
<p>オブジェクト型フィールドにおいて、選択肢を絞り込みます。</p>
<p>修飾子 &quot;object&quot; では、型オブジェクトのパスを記述するとその型を持つオブジェクトが選択肢として表示されます。また、ディレクトリやテーブルのパスを指定すると、そのオブジェクトの子オブジェクトが選択肢として表示されます。以下にジョブフロー型のオブジェクトを選択肢とする例を示します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;object&quot; : &quot;/system/types/Jobflow&quot; }
</pre></div>
</div>
<p>修飾子 &quot;directory&quot; では、ディレクトリやテーブルのパスを記述すると、その子孫オブジェクトが選択肢として表示されます。以下に /user 配下にある全てのオブジェクトを選択肢とする例を示します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;directory&quot; : &quot;/user&quot; }
</pre></div>
</div>
<p>先頭に &quot;~&quot; または &quot;~(ユーザ名)&quot; と記述したパスを指定すると、その部分がユーザのホームディレクトリに展開されます。ユーザ名を省略した場合はログイン中のユーザが対象になります。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;object&quot; : &quot;~&quot; }
{ &quot;directory&quot; : &quot;~&quot; }
</pre></div>
</div>
<p>これらの修飾子では、配列形式で複数のオブジェクトを指定することができます。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;object&quot; : [&quot;~&quot;, &quot;/user&quot;] }
{ &quot;directory&quot; : [&quot;~&quot;, &quot;/user&quot;] }
</pre></div>
</div>
<p>複数のディレクトリや型オブジェクトが指定されている場合は、それぞれで OR 条件となります。
ディレクトリと型オブジェクトが指定されている場合は、AND 条件となります。</p>
<p>修飾子 &quot;object&quot; と修飾子 &quot;directory&quot; を合わせて指定することで、あるディレクトリ配下にある特定の型のオブジェクトを選択させる、といったことが可能になります。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;object&quot; : &quot;/system/types/NodeInfo&quot;, &quot;directory&quot; : &quot;~&quot; }
</pre></div>
</div>
<p>存在しないまたは読み込み権限のないオブジェクトを指定した場合は無効になります。有効なパスを1つも記述していない場合は、選択肢が空になります。これは、いずれにも合致しない条件で絞り込まれた、という意味となります。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;object&quot; : &quot;/invalid_path&quot; }
{ &quot;directory&quot; : &quot;/invalid_path&quot; }
</pre></div>
</div>
<p>null が指定されている場合は、絞り込みをしないことになります。これは修飾子を指定していないことと同じ意味となります。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;object&quot; : null }
{ &quot;directory&quot; : null }
</pre></div>
</div>
<p>このフィールドにおける選択肢の絞り込み条件を固定ではなく、他のオブジェクトの状態によって切り替えたい場合、以下に示すいくつかの方法があります。</p>
<p id="lib-qualifier-reference-field">別のオブジェクトが持つ Object 型フィールドに記録されたオブジェクトをもとに、このフィールドの選択肢の絞り込み条件を切り替えたい場合は、以下のようにパス表記に続けて <code class="docutils literal notranslate"><span class="pre">[reference_field]</span></code> とフィールド名を指定することができます。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;object&quot; : &quot;/foo/bar/SomeObject[reference_field]&quot; }
{ &quot;directory&quot; : &quot;/foo/bar/SomeObject[reference_field]&quot; }
</pre></div>
</div>
<p>この場合、reference_field という名前のフィールドを「参照フィールド」と言います。</p>
<p>参照フィールドに記録されたオブジェクトが、この修飾子 &quot;object&quot; または &quot;directory&quot; として適用されることになります。ただし、参照フィールドにディレクトリやテーブルまたは型オブジェクトが記録されていないと、修飾子として指定するオブジェクトとしては有効ではないことに注意してください。</p>
<p>なお、Config 型オブジェクトの設定項目としての Object 型フィールドを参照したい場合は、Config 型オブジェクトのパス指定に <code class="docutils literal notranslate"><span class="pre">.data</span></code> という属性名を付与する必要があります。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;object&quot; : &quot;/foo/bar/SomeConfig.data[reference_field]&quot; }
{ &quot;directory&quot; : &quot;/foo/bar/SomeConfig.data[reference_field]&quot; }
</pre></div>
</div>
<p id="lib-qualifier-depend-field">同じオブジェクト内の別の Object 型フィールドの選択に応じて、このフィールドで絞り込む選択肢を切り替えたい場合は、以下のようにパス表記の代わりに <code class="docutils literal notranslate"><span class="pre">$[depend_field]</span></code> とフィールド名を指定することができます。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;object&quot; : &quot;$[depend_field]&quot; }
{ &quot;directory&quot; : &quot;$[depend_field]&quot; }
</pre></div>
</div>
<p>この場合、depend_field という名前のフィールドを「依存フィールド」と言います。</p>
<p>依存フィールドで選択されたオブジェクトが、この修飾子 &quot;object&quot; または &quot;directory&quot; として適用されることになります。編集画面においては、依存フィールドを選択すると、このフィールドの選択肢が切り替わるためにその時点の選択は一旦リセットされます。</p>
<p>ただし依存フィールドで選択されたオブジェクトがディレクトリやテーブルまたは型オブジェクトでない場合、修飾子として指定するオブジェクトとしては有効でないことに注意してください。依存フィールド側にも、型を限定するフィールド修飾子を指定しておくことを推奨します。</p>
<p>また、依存フィールドで選択したオブジェクトが Object 型フィールドを持っているとき、そのフィールドに記録されているオブジェクトを参照フィールドとして指定することもできます。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;object&quot; : &quot;$[depend_field][reference_field]&quot; }
{ &quot;directory&quot; : &quot;$[depend_field][reference_field]&quot; }
</pre></div>
</div>
<p>依存フィールドで選択された別のオブジェクトが持つ参照フィールドに記録されたオブジェクトが、この修飾子 &quot;object&quot; または &quot;directory&quot; として適用されることになります。ただし、上記と同様に参照フィールドにディレクトリやテーブルまたは型オブジェクトが記録されていないと、修飾子として指定するオブジェクトとしては有効ではないことに注意してください。</p>
<p id="lib-qualifier-switch-case">別の Enum 型または Object 型フィールドの選択に応じて、このフィールドで絞り込む選択肢を切り替える別の方法を選ぶこともできます。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;object&quot; : {
    &quot;switch&quot; : &quot;$[depend_field]&quot;,
    &quot;case&quot; : {
      &quot;Directory&quot;: [&quot;/system/types/Directory&quot;, &quot;/system/types/Table&quot;],
      &quot;Jobflow&quot;: &quot;/system/types/Jobflow&quot;,
      &quot;*&quot;: null
    }
  }
}
</pre></div>
</div>
<p>この形式では &quot;switch&quot; 部と &quot;case&quot; 部が必要になります。&quot;switch&quot; 部は前述の依存フィールドまたは参照フィールドと同様に記述します。&quot;case&quot; 部は辞書形式で、パターンをキーに、マッチした場合に適用する修飾子を値として、複数の組を記述することができます。この場合、&quot;switch&quot; 部に記述された依存フィールドまたは参照フィールドの値を参照して、&quot;case&quot; 部のキーに記述されたパターンにマッチするか上から順番に評価されます。いずれかのパターンにマッチした場合、対応する値がこの修飾子として適用されます。</p>
<p>いずれのパターンにもマッチしなかった場合はこの修飾子としては無効になり、別の修飾子で有効な絞り込みが指定されていない限り、このフィールドの選択肢は空となります。上の例では、&quot;case&quot; 部の最後に任意にマッチするパターン &quot;*&quot; を指定することで、無効にならないようにしています。</p>
<p id="lib-qualifier-switch-case-pattern-type">デフォルトでは、パターン部は glob パターンで記述することができ、大文字小文字を区別します。パターンの種類は &quot;case_pattern_type&quot; で &quot;exact&quot;, &quot;glob&quot;, &quot;regex&quot; のいずれかを指定することができます。また &quot;case_ignorecase&quot; に true を指定すると、大文字小文字を区別しないようになります。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;object&quot; : {
    &quot;switch&quot; : &quot;$[depend_field]&quot;,
    &quot;case&quot; : {
      &quot;[0-9a-f]+\\.bin&quot;: ...
    },
    &quot;case_pattern_type&quot;: &quot;regex&quot;,
    &quot;case_ignorecase&quot;: true
  }
}
</pre></div>
</div>
<p>JSON 形式でフィールド修飾子として regex パターンを記述する場合は、エスケープ文字 <code class="docutils literal notranslate"><span class="pre">\\</span></code> を <code class="docutils literal notranslate"><span class="pre">\\\\</span></code> とする必要があることに注意してください。</p>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-filter">
<span class="sig-name descname"><span class="pre">filter</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Dictionary"><span class="pre">Dictionary</span></a></em><a class="headerlink" href="#field_qualifier-filter" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: <a class="reference internal" href="#field_type-Object">Object</a></li>
</ul>
<p>オブジェクト型フィールドにおいて、選択肢を絞り込みます。
修飾子 &quot;object&quot; および &quot;directory&quot; による絞り込みに加えて、ここで指定した絞り込み条件が適用されます。
絞り込み条件は <a class="reference internal" href="#directory-find"><span class="std std-ref">Directory.find()</span></a> メソッドのパラメータを辞書形式で指定できます。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;directory&quot; : &quot;/user&quot;,
  &quot;filter&quot; : {
    &quot;type_object&quot; : &quot;/system/types/TypeObject&quot;,
    &quot;abspath__contains&quot; : &quot;kompira&quot;
  }
}
</pre></div>
</div>
<p>なお、修飾子 &quot;object&quot; で型オブジェクトを指定していて、かつ、修飾子 &quot;filter&quot; でも &quot;type_object&quot;
で型オブジェクトを指定している場合は、OR 条件として適用されます。</p>
<p>ただし、修飾子 &quot;filter&quot; の &quot;type_object&quot; による型オブジェクト指定では、
&quot;~&quot; または &quot;~(ユーザ名)&quot; によるホームディレクトリの展開は行なわれないので注意してください。</p>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-order_by">
<span class="sig-name descname"><span class="pre">order_by</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#field_qualifier-order_by" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: <a class="reference internal" href="#field_type-Object">Object</a></li>
</ul>
<p>オブジェクト型フィールドにおいて、ソート順を指定します。
ソート順には一般オブジェクトに共通の属性名 (abspath, display_name など) を指定することができます。
また、&quot;-abspath&quot; などと先頭に &quot;-&quot; を記述するとソート結果が逆順となります。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;object&quot; : &quot;/system/types/NodeInfo&quot;, &quot;order_by&quot; : &quot;abspath&quot; }
</pre></div>
</div>
<p>省略した場合は、修飾子 &quot;object&quot; または &quot;directory&quot; で指定されたディレクトリに設定されたソート順が適用されます。
ただし、複数のディレクトリが指定されている場合の動作は未定義となりますので、修飾子 &quot;order_by&quot; で明示的に指定してください。</p>
<p>フィールド値による並び順の指定には対応していません。
また、不正なソート順を指定した場合は無視されます。</p>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-no_empty">
<span class="sig-name descname"><span class="pre">no_empty</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#field_qualifier-no_empty" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: <a class="reference internal" href="#field_type-Object">Object</a></li>
</ul>
<p>Object型フィールドの入力フォームにおいて、空の選択肢を許さないよう
にします。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;object&quot; : &quot;/system/types/TypeObject&quot;, &quot;no_empty&quot; : true }
</pre></div>
</div>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-enum">
<span class="sig-name descname"><span class="pre">enum</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Array"><span class="pre">Array</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Dictionary"><span class="pre">Dictionary</span></a></em><a class="headerlink" href="#field_qualifier-enum" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: <a class="reference internal" href="#field_type-Enum">Enum</a></li>
</ul>
<p>Enum型フィールドにおいて、選択肢となる文字列の一覧を指定します。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;enum&quot; : [&quot;サーバー&quot;, &quot;スイッチ&quot;, &quot;ルーター&quot;] }
</pre></div>
</div>
<p>格納されるデータと表示名を別にする場合は、[&quot;&lt;データ&gt;&quot;, &quot;&lt;表示名&gt;&quot;]
のペアを用いて、以下のように指定することもできます。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;enum&quot; : [[&quot;SV&quot;, &quot;サーバー&quot;], [&quot;SW&quot;, &quot;スイッチ&quot;], [&quot;RT&quot;, &quot;ルーター&quot;]] }
</pre></div>
</div>
<p>このフィールドにおける選択肢を固定ではなく、他のオブジェクトの状態によって切り替えたい場合、以下に示すいくつかの方法があります。</p>
<p>別のオブジェクトが持つ Array または Dictionary 型フィールドに記録された値を、このフィールドの選択肢として切り替えたい場合は、以下のように <a class="reference internal" href="#lib-qualifier-reference-field"><span class="std std-ref">参照フィールド</span></a> として指定することができます。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;enum&quot; : &quot;/foo/bar/SomeObject[reference_field]&quot; }
</pre></div>
</div>
<p>参照フィールドに記録された値が、この修飾子 &quot;enum&quot; として適用されることになります。参照フィールドが配列の場合はそのまま選択肢となります。参照フィールドが辞書の場合、その各要素のキーがデータとして値が表示名として、選択肢となります。</p>
<p>ただし、存在しないオブジェクトまたは読み込み権限の無いオブジェクトを指定した場合、およびオブジェクトが指定した参照フィールドを持っていない場合は、選択肢は空になります。</p>
<p>なお、Config 型オブジェクトの設定項目としての Array または Dictionary 型フィールドを参照したい場合は、Config 型オブジェクトのパス指定に <code class="docutils literal notranslate"><span class="pre">.data</span></code> という属性名を付与する必要があります。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;enum&quot; : &quot;/foo/bar/SomeConfig.data[reference_field]&quot; }
</pre></div>
</div>
<p>同じオブジェクト内の別の Object 型フィールドで選択したオブジェクトが Array または Dictionary 型フィールドを持っている場合は、以下のように <a class="reference internal" href="#lib-qualifier-depend-field"><span class="std std-ref">依存フィールド</span></a> とともに参照フィールドを指定することができます。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;enum&quot; : &quot;$[depend_field][reference_field]&quot; }
</pre></div>
</div>
<p>依存フィールドで選択された別のオブジェクトが持つ参照フィールドに記録された値をもとに、このフィールドの選択肢が切り替わります。編集画面においては、依存フィールドを選択すると、このフィールドの選択肢が切り替わるためにその時点の選択は一旦リセットされます。</p>
<p>別の Enum 型または Object 型フィールドの選択に応じて、このフィールドの選択肢を切り替える別の方法を選ぶこともできます。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;enum&quot; : {
    &quot;switch&quot; : &quot;$[depend_field]&quot;,
    &quot;case&quot; : {
      &quot;Server&quot;: [&quot;Server-A&quot;, &quot;Server-B&quot;, &quot;Server-C&quot;],
      &quot;Switch&quot;: [&quot;Switch-A&quot;, &quot;Switch-B&quot;, &quot;Switch-C&quot;],
      &quot;Router&quot;: [&quot;Router-A&quot;, &quot;Router-B&quot;, &quot;Router-C&quot;],
      &quot;*&quot;: [&quot;Unknown&quot;]
    }
  }
}
</pre></div>
</div>
<p>この形式では &quot;switch&quot; 部と &quot;case&quot; 部が必要になります。&quot;switch&quot; 部は前述の依存フィールドまたは参照フィールドと同様に記述します。&quot;case&quot; 部は辞書形式で、パターンをキーに、マッチした場合に適用する修飾子を値として、複数の組を記述することができます。この場合、&quot;switch&quot; 部に記述された依存フィールドまたは参照フィールドの値を参照して、&quot;case&quot; 部のキーに記述されたパターンにマッチするか上から順番に評価されます。いずれかのパターンにマッチした場合、対応する値がこの修飾子として適用されます。</p>
<p>いずれのパターンにもマッチしなかった場合はこの修飾子としては無効になり、このフィールドの選択肢は空となります。上の例では、&quot;case&quot; 部の最後に任意にマッチするパターン &quot;*&quot; を指定することで、無効にならないようにしています。</p>
<p>デフォルトでは、パターン部は glob パターンで記述することができます。object フィールド修飾子と同様に <a class="reference internal" href="#lib-qualifier-switch-case-pattern-type"><span class="std std-ref">case_pattern_type</span></a> でパターン種別を指定することもできます。</p>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-pattern">
<span class="sig-name descname"><span class="pre">pattern</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#field_qualifier-pattern" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: <a class="reference internal" href="#field_type-String">String</a></li>
</ul>
<p>文字列型フィールドの入力フォームにおいて、入力可能なパターンを正規表現で指定します。</p>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-min_length">
<span class="sig-name descname"><span class="pre">min_length</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#field_qualifier-min_length" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: <a class="reference internal" href="#field_type-String">String</a></li>
</ul>
<p>文字列型フィールドの入力フォームにおいて、最小長および最大長を指定します。</p>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-max_length">
<span class="sig-name descname"><span class="pre">max_length</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#field_qualifier-max_length" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: <a class="reference internal" href="#field_type-String">String</a></li>
</ul>
<p>文字列型フィールドの入力フォームにおいて、最小長および最大長を指定します。</p>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-strip">
<span class="sig-name descname"><span class="pre">strip</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#field_qualifier-strip" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: <a class="reference internal" href="#field_type-String">String</a><span class="p">,</span><span class="w"> </span><a class="reference internal" href="#field_type-Text">Text</a><span class="p">,</span><span class="w"> </span><a class="reference internal" href="#field_type-LargeText">LargeText</a><span class="p">,</span><span class="w"> </span><a class="reference internal" href="#field_type-Password">Password</a></li>
</ul>
<p>入力された文字列の両端の空白文字を削除します。デフォルトは false です。</p>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-key_strip">
<span class="sig-name descname"><span class="pre">key_strip</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#field_qualifier-key_strip" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: <a class="reference internal" href="#field_type-Dictionary">Dictionary</a><span class="p">&lt;</span>T<span class="p">&gt;</span></li>
</ul>
<p>辞書型フィールドにおいて、入力されたキー文字列の両端の空白文字を削除します。デフォルトは false です。</p>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-min_value">
<span class="sig-name descname"><span class="pre">min_value</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#field_qualifier-min_value" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: <a class="reference internal" href="#field_type-Integer">Integer</a><span class="p">,</span><span class="w"> </span><a class="reference internal" href="#field_type-Float">Float</a></li>
</ul>
<p>整数型、および、浮動小数型フィールドの入力フォームにおいて、最小値を指定します。</p>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-max_value">
<span class="sig-name descname"><span class="pre">max_value</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#field_qualifier-max_value" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: <a class="reference internal" href="#field_type-Integer">Integer</a><span class="p">,</span><span class="w"> </span><a class="reference internal" href="#field_type-Float">Float</a></li>
</ul>
<p>整数型、および、浮動小数型フィールドの入力フォームにおいて、最大値を指定します。</p>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-file_accept">
<span class="sig-name descname"><span class="pre">file_accept</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#field_qualifier-file_accept" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: <a class="reference internal" href="#field_type-File">File</a></li>
</ul>
<p>ファイル型フィールドにおいて、選択可能なファイル種別を指定します。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;file_accept&quot; : &quot;.xls&quot; }
</pre></div>
</div>
<p>複数のファイル種別を指定する場合は、リストで指定します。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;file_accept&quot; : [&quot;.png&quot;, &quot;.jpg&quot;] }
</pre></div>
</div>
</dd></dl>

<dl class="kompira field_qualifier">
<dt class="sig sig-object kompira" id="field_qualifier-schemes">
<span class="sig-name descname"><span class="pre">schemes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#field_qualifier-schemes" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>対象フィールド: <a class="reference internal" href="#field_type-URL">URL</a></li>
</ul>
<p>URL型フィールドの入力フォームにおいて、許容するスキームを文字列、または、文字列のリストで指定します。
デフォルトは、http, https, ftp, ftps です。</p>
<p>例</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ &quot;schemes&quot;: &quot;https&quot; }

{ &quot;schemes&quot;: [&quot;ldap&quot;, &quot;ldaps&quot;] }
</pre></div>
</div>
<p>なお、URL型フィールドに入力したURLに含まれるスキーム文字列は自動的に小文字に変換して保存されるため、
schemes 修飾子で指定するスキーム文字列は小文字で指定するようにしてください。</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>Array&lt;T&gt; や Dictionary&lt;T&gt; フィールドでは、要素である <a class="reference internal" href="#fields-types"><span class="std std-ref">T 型</span></a> に対する修飾子を指定することが可能です。
ただし default 修飾子のみは配列や辞書全体に適用されます。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.5.1 で追加: </span>新しいフィールド修飾子: pattern, min_length, max_length, min_value, max_value, file_accept が追加されました。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.2.post5 で追加: </span>新しいフィールド修飾子: strip, key_strip が追加されました。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.4 で追加: </span>新しいフィールド修飾子: filter, order_by が追加されました。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.4 で追加: </span>object, directory または enum 修飾子で、依存フィールドおよび参照フィールドの指定ができるようになりました。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.4 で追加: </span>object, directory または enum 修飾子で、&quot;switch&quot; および &quot;case&quot; によってパターンに応じて適用する修飾子を指定できるようになりました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.4 で変更: </span>object または directory 修飾子で指定されたオブジェクトに設定されたソート順が適用されるようになりました。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.8 で追加: </span>新しいフィールド修飾子: schemes が追加されました。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.9 で追加: </span>Array&lt;T&gt; 型および Dictionary&lt;T&gt; 型でもデフォルト値を指定できるようになりました。</p>
</div>
</section>
<section id="lib-property">
<span id="id8"></span><h3><span class="section-number">5.2.3. </span>プロパティ<a class="headerlink" href="#lib-property" title="この見出しへのパーマリンク">¶</a></h3>
<p>Kompira オブジェクトは、以下のプロパティを提供しています。</p>
<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.id">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#property-Object.id" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトの ID の値です。オブジェクト IDは、オブジェクト生成時
に自動で割り当てられる一意な整数値です。更新はできません。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.abspath">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">abspath</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Object.abspath" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトの絶対パスの値です。更新はできません。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.name">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Object.name" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクト名の値です。オブジェクト名に使用できる文字列の形式は、
Kompira ジョブフロー言語における識別子と同じです。同じディレクト
リ中に同名のオブジェクトを作成することはできません。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.description">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Object.description" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトを説明する文字列となります。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.display_name">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">display_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Object.display_name" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトの表示名です。表示名の文字列にはオブジェクト名のよう
な形式の制限はありません。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.field_names">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">field_names</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Array"><span class="pre">Array</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#property-Object.field_names" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトが備えるフィールド名の一覧です。リスト型の値となりま
す。更新はできません。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.owner">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">owner</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#virtual_model-User"><span class="pre">User</span></a></em><a class="headerlink" href="#property-Object.owner" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトの所有ユーザーです。ユーザーオブジェクトとなります。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.created">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">created</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Datetime"><span class="pre">Datetime</span></a></em><a class="headerlink" href="#property-Object.created" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトの作成日時です。日時型の値となります。更新はできません。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.updated">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">updated</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Datetime"><span class="pre">Datetime</span></a></em><a class="headerlink" href="#property-Object.updated" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトの更新日時です。日時型の値となります。更新はできません。
フィールド修飾子で invisible=true と設定されたフィールドだけが更新される場面では、Object.updated は更新されません。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.parent_object">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">parent_object</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#property-Object.parent_object" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトの親オブジェクト、すなわちディレクトリ（もしくはテー
ブル）オブジェクトです。更新はできません。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.children">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">children</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-LazyArray"><span class="pre">LazyArray</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#property-Object.children" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトの子オブジェクト一覧となる検索結果を返します。
オブジェクトが、テーブルかディレクトリ以外の場合など、子オブジェクトを持たない場合は、空の結果となります。
更新はできません。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.type_object">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">type_object</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#type_object-TypeObject"><span class="pre">TypeObject</span></a></em><a class="headerlink" href="#property-Object.type_object" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトの型オブジェクトです。更新はできません。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.type_name">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">type_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Object.type_name" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトの型名です。更新はできません。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.user_permissions">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">user_permissions</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Dictionary"><span class="pre">Dictionary</span></a><span class="p"><span class="pre">&lt;</span></span><span class="pre">Permission</span><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#property-Object.user_permissions" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ユーザパーミッション情報です。writable, readable, executable をキー
に持つ辞書型のオブジェクトとなります。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Object.group_permissions">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">group_permissions</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Dictionary"><span class="pre">Dictionary</span></a><span class="p"><span class="pre">&lt;</span></span><span class="pre">Permission</span><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#property-Object.group_permissions" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>グループパーミッション情報です。writable, readable, executable,
priority をキーに持つ辞書型のオブジェクトとなります。</p>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.8 で変更: </span>プロパティ children を LazyArray 型に変更しました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.9 で変更: </span>invisible なフィールドだけが更新される場面では、Object.updated を更新しないようになりました。</p>
</div>
</section>
<section id="lib-method">
<span id="id9"></span><h3><span class="section-number">5.2.4. </span>メソッド<a class="headerlink" href="#lib-method" title="この見出しへのパーマリンク">¶</a></h3>
<p>Kompira オブジェクトは、以下のメソッドを提供しています。</p>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Object.delete">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#method-Object.delete" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトを削除します。</p>
</dd></dl>

<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Object.update">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">key1=val1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key2=val2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">...</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#method-Object.update" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトのフィールド key1, key2, ... の値を val1, val2, ... に更新します。</p>
</dd></dl>

<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Object.rename">
<span class="sig-prename descclassname"><span class="pre">Object.</span></span><span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#method-Object.rename" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトの名前を name に変更します。</p>
</dd></dl>

</section>
</section>
<section id="builtin-type-object">
<span id="id10"></span><h2><span class="section-number">5.3. </span>組み込み型オブジェクト<a class="headerlink" href="#builtin-type-object" title="この見出しへのパーマリンク">¶</a></h2>
<p>このセクションでは、Kompira にあらかじめ組み込まれている標準の型オブジェ
クトについて説明します。</p>
<p>Kompiraのオブジェクトは、型オブジェクトで示される型を持ちます。例えば、
ジョブフローオブジェクトは、ジョブフロー型を持ちますし、ディレクトリオ
ブジェクトはディレクトリ型を持ちます。Kompiraでは、ジョブフロー型やディ
レクトリ型といった型もオブジェクトとして定義されているので、これらも型
オブジェクトという型を持っています。ちなみに、型オブジェクトの型は型オ
ブジェクトです。</p>
<p>Kompira のオブジェクトは、その型に特有のフィールドやメソッドを備えてい
ます。</p>
<section id="typeobject">
<span id="type_object-TypeObject"></span><h3><span class="section-number">5.3.1. </span>型オブジェクト (TypeObject)<a class="headerlink" href="#typeobject" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/TypeObject">型オブジェクト型</a> はその型に属するKompira
オブジェクトのフィールドやメソッドを定義します。新しく型オブジェクトを
定義することで、ユーザーは Kompira オブジェクトの型を自由に追加すること
ができます。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>既存の型にフィールドを追加したり、不要なフィールドを削除したりなど、
型オブジェクトを変更する場合、Kompiraでは、以下のような規則にしたがっ
て処理されます。</p>
<ul class="simple">
<li><p>変更後の型オブジェクトで削除されたフィールドは無視され、アクセス不
可能となる。</p></li>
<li><p>変更後の型オブジェクトで新たに追加されたフィールドは自動的にnull値
で初期化される。</p></li>
</ul>
</div>
<section id="id12">
<h4><span class="section-number">5.3.1.1. </span>フィールド<a class="headerlink" href="#id12" title="この見出しへのパーマリンク">¶</a></h4>
<p>型オブジェクト型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-TypeObject.extend">
<span class="sig-prename descclassname"><span class="pre">TypeObject.</span></span><span class="sig-name descname"><span class="pre">extend</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-TypeObject.extend" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">拡張モジュール</span></li>
</ul>
<p>型オブジェクトが参照する Python の拡張モジュールパスを指定します。
デフォルトは、kompira.extends となります。</p>
<p>型オブジェクトの振る舞いやビューを拡張する場合、拡張モデルモジュー
ル models.py と拡張ビューモジュール views.py を Python モジュールと
して作成し、ここで指定したパスの下に配置します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-TypeObject.fieldNames">
<span class="sig-prename descclassname"><span class="pre">TypeObject.</span></span><span class="sig-name descname"><span class="pre">fieldNames</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-TypeObject.fieldNames" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">フィールド名の列</span></li>
</ul>
<p>この型のオブジェクトが持つフィールド名の一覧を配列として指定します。
フィールド名で使用できる文字列の規則は、ジョブフロー言語の識別子と
同じです。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-TypeObject.fieldDisplayNames">
<span class="sig-prename descclassname"><span class="pre">TypeObject.</span></span><span class="sig-name descname"><span class="pre">fieldDisplayNames</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-TypeObject.fieldDisplayNames" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">フィールド表示名の列</span></li>
</ul>
<p>この型のオブジェクトが持つフィールド表示名の一覧を配列として指定し
ます。フィールド表示名には任意の文字列を使用することができます。配
列要素の順序は、フィールド名の列と対応させる必要があります。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-TypeObject.fieldTypes">
<span class="sig-prename descclassname"><span class="pre">TypeObject.</span></span><span class="sig-name descname"><span class="pre">fieldTypes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-TypeObject.fieldTypes" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">フィールド型の列</span></li>
</ul>
<p>この型のオブジェクトが持つフィールド型の一覧を配列として指定します。
配列要素の順序は、フィールド名の列と対応させる必要があります。</p>
</dd></dl>

</section>
<section id="id13">
<h4><span class="section-number">5.3.1.2. </span>メソッド<a class="headerlink" href="#id13" title="この見出しへのパーマリンク">¶</a></h4>
<p>型オブジェクト型に特有のメソッドは特に定義されていません。</p>
</section>
</section>
<section id="directory">
<span id="type_object-Directory"></span><h3><span class="section-number">5.3.2. </span>ディレクトリ (Directory)<a class="headerlink" href="#directory" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/Directory">ディレクトリ型</a> は、ディレクトリオブジェク
トの型を規定します。ディレクトリオブジェクトの下に複数の異なる型の
Kompiraオブジェクトを持つことができます。これによって、Unix のファイル
システムと同様に Kompira オブジェクトも階層構造を持つことができます。</p>
<section id="id15">
<h4><span class="section-number">5.3.2.1. </span>フィールド<a class="headerlink" href="#id15" title="この見出しへのパーマリンク">¶</a></h4>
<p>ディレクトリ型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Directory.orderBy">
<span class="sig-prename descclassname"><span class="pre">Directory.</span></span><span class="sig-name descname"><span class="pre">orderBy</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-Directory.orderBy" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ソート順</span></li>
</ul>
<p>このディレクトリの一覧画面で表示するオブジェクトの並び順を指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Directory.pageSize">
<span class="sig-prename descclassname"><span class="pre">Directory.</span></span><span class="sig-name descname"><span class="pre">pageSize</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#type_field-Directory.pageSize" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ページサイズ</span></li>
<li><a class="reference internal" href="#field_qualifier-min_value">最小値</a><span class="p">:</span><span class="w"> </span>10</li>
<li><a class="reference internal" href="#field_qualifier-max_value">最大値</a><span class="p">:</span><span class="w"> </span>1000</li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>25</li>
</ul>
<p>このディレクトリの一覧画面で表示するオブジェクトの個数を指定します。</p>
</dd></dl>

</section>
<section id="dir-method">
<span id="id16"></span><h4><span class="section-number">5.3.2.2. </span>メソッド<a class="headerlink" href="#dir-method" title="この見出しへのパーマリンク">¶</a></h4>
<p>ディレクトリ型には以下のメソッドが定義されています。</p>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Directory.add">
<span class="sig-prename descclassname"><span class="pre">Directory.</span></span><span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_obj</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#method-Directory.add" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ディレクトリの下に、name で指定された名前を持つ type_obj 型の
Kompiraオブジェクトを追加します。data には辞書型のデータを渡すこと
ができ、これによって、オブジェクトのフィールド値を初期化することができます。
data に渡した辞書に含まれるフィールドは与えられた値でフィールドデータが作成されますが、
辞書に含まれないフィールドについてはフィールドデータが作成されません。
data パラメータを省略する、または data=null を指定すると、すべてのフィールドデータが作成されません。
これは、省略されたフィールドはデータベース上にレコードが作成されないことを意味します。</p>
<p>レコードが存在しないフィールドについて、オブジェクトの詳細画面やジョブフローでのフィールド値の参照では、
そのフィールドのデフォルト値が参照されます。しかし、<a class="reference internal" href="#directory-find"><span class="std std-ref">Directory.find()</span></a> などではフィールド値による絞り込み
が出来ないことに注意してください。</p>
<p>$RESULT には新規追加されたオブジェクトが格納されます。overwrite 引数に true を渡した場合、同名のオブジェクトがディレクト
リの下に存在している場合でも、エラーにはならずオブジェクトを更新します。</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.9 で追加: </span>Array&lt;T&gt; 型および Dictionary&lt;T&gt; 型オブジェクトに対するデフォルト値の挙動が追加されました。</p>
</div>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Directory.move">
<span class="sig-prename descclassname"><span class="pre">Directory.</span></span><span class="sig-name descname"><span class="pre">move</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#method-Directory.move" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ディレクトリの下に obj で指定されたオブジェクトを移動します。name
が指定された場合、移動対象のオブジェクトの名前が name に変更されま
す。</p>
</dd></dl>

<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Directory.copy">
<span class="sig-prename descclassname"><span class="pre">Directory.</span></span><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#method-Directory.copy" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ディレクトリの下に obj で指定されたオブジェクトを複製します。name
が指定された場合、複製されたオブブジェクトの名前は name に変更され
ます。obj がディレクトリやテーブルの場合、子オブジェクトは再帰的に
複製されます。$RESULT には新規作成されたオブジェクトが格納されます。</p>
</dd></dl>

<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Directory.has_child">
<span class="sig-prename descclassname"><span class="pre">Directory.</span></span><span class="sig-name descname"><span class="pre">has_child</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#method-Directory.has_child" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ディレクトリの下に name で指定された子オブジェクトが存在すれば
true を返し、存在しなければ、false を返します。</p>
</dd></dl>

<span class="target" id="directory-find"></span><dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Directory.find">
<span class="sig-prename descclassname"><span class="pre">Directory.</span></span><span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-LazyArray"><span class="pre">LazyArray</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#method-Directory.find" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ディレクトリの配下で params で指定したフィルタリング条件に該当するオブジェクトの検索結果を返します。
オブジェクトの属性でフィルタリングする場合は、 params に <code class="docutils literal notranslate"><span class="pre">&lt;属性名&gt;=&lt;値&gt;</span></code> を指定します。</p>
<p>例えば型オブジェクトの一覧を取得する場合は、以下のように指定します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.find(type_object=/system/types/TypeObject)]
</pre></div>
</div>
<p>また、属性名にルックアップを付与することでより細かなフィルタリング条件を指定できます。
ルックアップを付与する場合は params に <code class="docutils literal notranslate"><span class="pre">&lt;属性名&gt;__&lt;ルックアップ&gt;=&lt;値&gt;</span></code> を指定します。</p>
<p>例えばパスに kompira を含むオブジェクトを指定する場合は、以下のように指定します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.find(abspath__contains=&#39;kompira&#39;)]
</pre></div>
</div>
<p>指定できるルックアップとフィルタリング方法は以下のとおりです。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ルックアップ</p></th>
<th class="head"><p>フィルタリング方式</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">iexact</span></code></p></td>
<td><p>属性が指定した値に一致する。<code class="docutils literal notranslate"><span class="pre">iexact</span></code> では大小文字を区別しない。</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">contains</span></code>, <code class="docutils literal notranslate"><span class="pre">icontains</span></code></p></td>
<td><p>属性が指定した値を含む。<code class="docutils literal notranslate"><span class="pre">icontains</span></code> では大小文字を区別しない。</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">startswith</span></code>, <code class="docutils literal notranslate"><span class="pre">istartswith</span></code></p></td>
<td><p>属性が指定した値で始まる。<code class="docutils literal notranslate"><span class="pre">istartswith</span></code> では大小文字を区別しない。</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">endswith</span></code>, <code class="docutils literal notranslate"><span class="pre">iendswith</span></code></p></td>
<td><p>属性が指定した値で終わる。<code class="docutils literal notranslate"><span class="pre">iendswith</span></code> では大小文字を区別しない。</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">regex</span></code>, <code class="docutils literal notranslate"><span class="pre">iregex</span></code></p></td>
<td><p>属性が指定した正規表現にマッチする。<code class="docutils literal notranslate"><span class="pre">iregex</span></code> では大文字小文字区別しない。</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">gt</span></code>, <code class="docutils literal notranslate"><span class="pre">gte</span></code></p></td>
<td><p>属性が指定した値より大きい(<code class="docutils literal notranslate"><span class="pre">gt</span></code>)、または、属性が指定した値以上である(<code class="docutils literal notranslate"><span class="pre">gte</span></code>)。</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lt</span></code>, <code class="docutils literal notranslate"><span class="pre">lte</span></code></p></td>
<td><p>属性が指定した値より小さい(<code class="docutils literal notranslate"><span class="pre">lt</span></code>)、または、属性が指定した値以下である(<code class="docutils literal notranslate"><span class="pre">lte</span></code>)。</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">in</span></code></p></td>
<td><p>属性が指定した値に含まれる。</p></td>
</tr>
</tbody>
</table>
<p>仮想オブジェクト以外の一般のオブジェクトにおける属性値によるフィルタリングでは、属性によって指定できるルックアップが異なります。
属性の一覧と指定できるルックアップは以下のとおりです。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>属性</p></th>
<th class="head"><p>指定できるルックアップ</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>owner</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">in</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>abspath</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">iexact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code>, <code class="docutils literal notranslate"><span class="pre">icontains</span></code>, <code class="docutils literal notranslate"><span class="pre">startswith</span></code>,
<code class="docutils literal notranslate"><span class="pre">istartswith</span></code>, <code class="docutils literal notranslate"><span class="pre">endswith</span></code>, <code class="docutils literal notranslate"><span class="pre">iendswith</span></code>, <code class="docutils literal notranslate"><span class="pre">regex</span></code>, <code class="docutils literal notranslate"><span class="pre">iregex</span></code></p></td>
</tr>
<tr class="row-even"><td><p>display_name</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">iexact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code>, <code class="docutils literal notranslate"><span class="pre">icontains</span></code>, <code class="docutils literal notranslate"><span class="pre">startswith</span></code>,
<code class="docutils literal notranslate"><span class="pre">istartswith</span></code>, <code class="docutils literal notranslate"><span class="pre">endswith</span></code>, <code class="docutils literal notranslate"><span class="pre">iendswith</span></code>, <code class="docutils literal notranslate"><span class="pre">regex</span></code>, <code class="docutils literal notranslate"><span class="pre">iregex</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>description</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">iexact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code>, <code class="docutils literal notranslate"><span class="pre">icontains</span></code>, <code class="docutils literal notranslate"><span class="pre">startswith</span></code>,
<code class="docutils literal notranslate"><span class="pre">istartswith</span></code>, <code class="docutils literal notranslate"><span class="pre">endswith</span></code>, <code class="docutils literal notranslate"><span class="pre">iendswith</span></code>, <code class="docutils literal notranslate"><span class="pre">regex</span></code>, <code class="docutils literal notranslate"><span class="pre">iregex</span></code></p></td>
</tr>
<tr class="row-even"><td><p>created</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">gt</span></code>, <code class="docutils literal notranslate"><span class="pre">gte</span></code>, <code class="docutils literal notranslate"><span class="pre">lt</span></code>, <code class="docutils literal notranslate"><span class="pre">lte</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>updated</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">gt</span></code>, <code class="docutils literal notranslate"><span class="pre">gte</span></code>, <code class="docutils literal notranslate"><span class="pre">lt</span></code>, <code class="docutils literal notranslate"><span class="pre">lte</span></code></p></td>
</tr>
<tr class="row-even"><td><p>type_object</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">in</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>parent_object</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">in</span></code></p></td>
</tr>
</tbody>
</table>
<p>また、仮想オブジェクトでは、属性のデータ型によって指定できるルックアップが異なります。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>属性の型</p></th>
<th class="head"><p>指定できるルックアップ</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>文字列型</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">iexact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code>, <code class="docutils literal notranslate"><span class="pre">icontains</span></code>, <code class="docutils literal notranslate"><span class="pre">startswith</span></code>,
<code class="docutils literal notranslate"><span class="pre">istartswith</span></code>, <code class="docutils literal notranslate"><span class="pre">endswith</span></code>, <code class="docutils literal notranslate"><span class="pre">iendswith</span></code>, <code class="docutils literal notranslate"><span class="pre">regex</span></code>, <code class="docutils literal notranslate"><span class="pre">iregex</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>整数型</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">gt</span></code>, <code class="docutils literal notranslate"><span class="pre">gte</span></code>, <code class="docutils literal notranslate"><span class="pre">lt</span></code>, <code class="docutils literal notranslate"><span class="pre">lte</span></code></p></td>
</tr>
<tr class="row-even"><td><p>日時型</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">gt</span></code>, <code class="docutils literal notranslate"><span class="pre">gte</span></code>, <code class="docutils literal notranslate"><span class="pre">lt</span></code>, <code class="docutils literal notranslate"><span class="pre">lte</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>オブジェクト型</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-even"><td><p>ユーザ型</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>真偽型</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
</tbody>
</table>
<p>なお、ルックアップを指定していないときは <code class="docutils literal notranslate"><span class="pre">exact</span></code> が適用されます。属性は複数指定することができます。</p>
<p>また、 <code class="docutils literal notranslate"><span class="pre">type_object</span></code> 属性フィルタリングによって型オブジェクトが指定されている場合、フィールド値によるフィルタリング条件も指定できます。フィールド値でフィルタリングする場合は、params に <code class="docutils literal notranslate"><span class="pre">fields={&lt;フィールド名&gt;=&lt;値&gt;}</span></code> 、もしくは <code class="docutils literal notranslate"><span class="pre">fields={&lt;フィールド名&gt;__&lt;ルックアップ&gt;=&lt;値&gt;}</span></code> で指定します。</p>
<p>型オブジェクトが指定されていない状況でフィールド値によるフィルタリングを指定するとエラーとなります。</p>
<p>例えばソースコードに urlopen を含むジョブフローを指定する場合は、以下のように指定します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.find(type_object=/system/types/Jobflow, fields={source__contains=&#39;urlopen&#39;})]
</pre></div>
</div>
<p>フィールド値によるフィルタリングで使用できるルックアップは以下のようになります。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>フィールドの型</p></th>
<th class="head"><p>指定できるルックアップ</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>文字列型</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">iexact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code>, <code class="docutils literal notranslate"><span class="pre">icontains</span></code>, <code class="docutils literal notranslate"><span class="pre">startswith</span></code>,
<code class="docutils literal notranslate"><span class="pre">istartswith</span></code>, <code class="docutils literal notranslate"><span class="pre">endswith</span></code>, <code class="docutils literal notranslate"><span class="pre">iendswith</span></code>, <code class="docutils literal notranslate"><span class="pre">regex</span></code>, <code class="docutils literal notranslate"><span class="pre">iregex</span></code>, <code class="docutils literal notranslate"><span class="pre">in</span></code>, <code class="docutils literal notranslate"><span class="pre">range</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>整数型</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">isnull</span></code>, <code class="docutils literal notranslate"><span class="pre">gt</span></code>, <code class="docutils literal notranslate"><span class="pre">gte</span></code>, <code class="docutils literal notranslate"><span class="pre">lt</span></code>, <code class="docutils literal notranslate"><span class="pre">lte</span></code>, <code class="docutils literal notranslate"><span class="pre">in</span></code>, <code class="docutils literal notranslate"><span class="pre">range</span></code></p></td>
</tr>
<tr class="row-even"><td><p>真偽値型</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>日時型</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">isnull</span></code>, <code class="docutils literal notranslate"><span class="pre">gt</span></code>, <code class="docutils literal notranslate"><span class="pre">gte</span></code>, <code class="docutils literal notranslate"><span class="pre">lt</span></code>, <code class="docutils literal notranslate"><span class="pre">lte</span></code>, <code class="docutils literal notranslate"><span class="pre">range</span></code></p></td>
</tr>
<tr class="row-even"><td><p>オブジェクト型</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">isnull</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>添付ファイル型</p></td>
<td><p>(文字列型と同じ、ファイル名がフィルタ対象になります)</p></td>
</tr>
<tr class="row-even"><td><p>配列型</p></td>
<td><p>(文字列型と同じ、配列の値がフィルタ対象になります)</p></td>
</tr>
<tr class="row-odd"><td><p>辞書型</p></td>
<td><p>(文字列型と同じ、辞書の値がフィルタ対象になります)</p></td>
</tr>
</tbody>
</table>
<p>フィールド値においても、ルックアップを指定していないときは <code class="docutils literal notranslate"><span class="pre">exact</span></code> が適用されます。またフィールド値のフィルタリングも複数指定することができます。</p>
<p>find メソッドは標準では結果のオブジェクト一覧は当該ディレクトリに設定された並び順で得られます。明示的に並び順を指定したい場合は params に <code class="docutils literal notranslate"><span class="pre">order_by=&lt;属性名&gt;</span></code> と指定することができます。以下の例では作成日時の古い順になります。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.find(order_by=&#39;created&#39;)]
</pre></div>
</div>
<p>order_by で並び順を指定できる属性は以下の通りです。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>属性</p></th>
<th class="head"><p>適用される並び順</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id</p></td>
<td><p>オブジェクトの ID 順</p></td>
</tr>
<tr class="row-odd"><td><p>owner</p></td>
<td><p>所有者の ID 順</p></td>
</tr>
<tr class="row-even"><td><p>abspath</p></td>
<td><p>絶対パス順</p></td>
</tr>
<tr class="row-odd"><td><p>display_name</p></td>
<td><p>表示名順</p></td>
</tr>
<tr class="row-even"><td><p>description</p></td>
<td><p>説明順</p></td>
</tr>
<tr class="row-odd"><td><p>created</p></td>
<td><p>作成日時順 (古い順)</p></td>
</tr>
<tr class="row-even"><td><p>updated</p></td>
<td><p>更新日時順 (古い順)</p></td>
</tr>
<tr class="row-odd"><td><p>type_object</p></td>
<td><p>型オブジェクトの ID 順</p></td>
</tr>
<tr class="row-even"><td><p>parent_object</p></td>
<td><p>親オブジェクトの ID 順</p></td>
</tr>
</tbody>
</table>
<p>並び順を逆にしたい場合は先頭に <code class="docutils literal notranslate"><span class="pre">-</span></code> を付けて指定します。以下の例では更新日時の新しい順になります。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.find(order_by=&#39;-updated&#39;)]
</pre></div>
</div>
<p>カンマで区切って複数の並び順を指定することができます。先に指定した属性の値が同じ場合に、後で指定した属性の値の順に並びます。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.find(order_by=&#39;type_object,created&#39;)]
</pre></div>
</div>
<p>また、<code class="docutils literal notranslate"><span class="pre">type_object</span></code> 属性フィルタリングによって型オブジェクトが指定されている場合は、フィールド値による並び順を指定することもできます。フィールド値で並び替えする場合は、params に <code class="docutils literal notranslate"><span class="pre">order_by=field:&lt;フィールド名&gt;</span></code> で指定します。フィールド値による並び順を逆にしたい場合は <code class="docutils literal notranslate"><span class="pre">order_by=-field:&lt;フィールド名&gt;</span></code> のように指定してください。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.find(type_object=/system/types/Wiki, order_by=&#39;field:wikitext&#39;)]
</pre></div>
</div>
<p>フィールド値による並び順を指定すると基本的にはそのフィールドの型が示す値、すなわち数値や文字列で並び替えられます。
ただし、ファイル型フィールドについてはファイル名で並び替えられます。</p>
<p>order_by で並び順を指定できるフィールドは、<code class="docutils literal notranslate"><span class="pre">Password</span></code> / <code class="docutils literal notranslate"><span class="pre">Array&lt;T&gt;</span></code> / <code class="docutils literal notranslate"><span class="pre">Dictionary&lt;T&gt;</span></code> 以外の型のフィールドです。
並び替えに対応していない <code class="docutils literal notranslate"><span class="pre">Password</span></code> / <code class="docutils literal notranslate"><span class="pre">Array&lt;T&gt;</span></code> / <code class="docutils literal notranslate"><span class="pre">Dictionary&lt;T&gt;</span></code> 型のフィールドを order_by に指定した場合はエラーになります。</p>
<p>カンマで区切って複数のフィールドによる並び順を指定することができます。先に指定したフィールドの値が同じ場合に、後で指定したフィールドの値の順に並びます。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.find(type_object=/system/types/Wiki, order_by=&#39;field:style,field:wikitext&#39;)]
</pre></div>
</div>
<p>フィールドと属性を組み合わせて並び順を指定することもできます。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.find(type_object=/system/types/Wiki, order_by=&#39;field:style,created&#39;)]
</pre></div>
</div>
<p>find メソッドは標準では条件と一致するすべてのオブジェクトの一覧を返しますが、場合によっては多数のオブジェクトが該当して扱いにくい場合もあります。取得するオブジェクトの最大の個数を制限したい場合は params に <code class="docutils literal notranslate"><span class="pre">limit=&lt;個数&gt;</span></code> を指定することができます。以下の例では最大で最初の 10 個のオブジェクトを返します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.find(limit=10)]
</pre></div>
</div>
<p>取得するオブジェクトの先頭位置を指定したい場合は params に <code class="docutils literal notranslate"><span class="pre">offset=&lt;先頭位置&gt;</span></code> で指定することができます。先頭位置は 0 始まりで指定します。以下の例では 11 番目から最大で 10 個のオブジェクトを返します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.find(offset=10, limit=10)]
</pre></div>
</div>
<p>なお、指定した先頭位置が該当するオブジェクトの実際の個数より大きくてもエラーにはならず、空の一覧が結果として得られます。</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.6post1 で追加: </span>オブジェクト属性のフィルタリングで parent_object が指定できるようになりました。
order_by に description と parent_object 属性が指定できるようになりました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.8 で変更: </span>find() メソッドの結果を LazyArray 型に変更しました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.9.post4 で変更: </span>find() メソッドでフィールド値による並び順を複数指定できるようになりました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.10 で変更: </span>find() メソッドで並び替えに対応していない <code class="docutils literal notranslate"><span class="pre">Password</span></code> / <code class="docutils literal notranslate"><span class="pre">Array&lt;T&gt;</span></code> / <code class="docutils literal notranslate"><span class="pre">Dictionary&lt;T&gt;</span></code> 型のフィールドを order_by に指定した場合にエラーになるようになりました。</p>
</div>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Directory.glob">
<span class="sig-prename descclassname"><span class="pre">Directory.</span></span><span class="sig-name descname"><span class="pre">glob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-LazyArray"><span class="pre">LazyArray</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#method-Directory.glob" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ディレクトリの配下で pattern で指定したフィルタリング条件に該当するオブジェクトの検索結果を返します。
パターンは次の形式で記述します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;&lt;オブジェクト名&gt;&quot;
</pre></div>
</div>
<p>オブジェクト名は glob パターンで指定します。例えば名前が kompira で始まるオブジェクトを指定する場合は以下のようになります。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.glob(&quot;kompira*&quot;)]
</pre></div>
</div>
<p>また、オブジェクト名に加えて次の要素を指定することが可能です。</p>
<ul class="simple">
<li><p>パス</p></li>
<li><p>型オブジェクト</p></li>
<li><p>所有者</p></li>
<li><p>属性値フィルタリング</p></li>
<li><p>フィールド値フィルタリング</p></li>
</ul>
<p>パスを指定した場合そのパスの下のオブジェクトを返します。パターンは次の形式で記述します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;&lt;パス&gt;/&lt;オブジェクト名&gt;&quot;
</pre></div>
</div>
<p>パスには /* と /** を指定できます。それぞれ任意の１段のディレクトリと任意の深さのディレクトリにマッチします。</p>
<p>例えば、パスに user が含まれ、名前が kompira で始まるオブジェクトを指定する場合は以下のようになります。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.glob(&quot;/**/user/**/kompira*&quot;)]
</pre></div>
</div>
<p>型オブジェクトを指定した場合その型オブジェクトを持つオブジェクトを返します。パターンは次の形式で記述します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;&lt;オブジェクト名&gt;.&lt;型オブジェクト名&gt;&quot;
</pre></div>
</div>
<p>例えば、ジョブフロー型のすべてのオブジェクトを指定する場合は以下のようになります。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.glob(&quot;*.Jobflow&quot;)]
</pre></div>
</div>
<p>所有者を指定した場合所有するオブジェクトを返します。パターンは次の形式で記述します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;&lt;オブジェクト名&gt;@&lt;所有者&gt;&quot;
</pre></div>
</div>
<p>例えば、rootが所有するすべてのオブジェクトを指定する場合は以下のようになります。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.glob(&quot;*@root&quot;)]
</pre></div>
</div>
<p>属性値フィルタリングを指定した場合、マッチするオブジェクトを返します。パターンは次の形式で記述します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;&lt;オブジェクト名&gt;(&lt;属性値&gt;=&lt;値&gt;)&quot; もしくは &quot;&lt;オブジェクト名&gt;(&lt;属性値&gt;_&lt;ルックアップ&gt;=&lt;値&gt;)&quot;
</pre></div>
</div>
<p>属性値に指定できるルックアップの一覧はfindメソッドをご参照下さい。</p>
<p>例えば、表示名に kompira が含まれるオブジェクトを指定する場合は以下のようになります。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.glob(&quot;*(diplay_name__contains=&#39;kompira&#39;)&quot;)]
</pre></div>
</div>
<p>フィールド値フィルタリングを指定した場合、マッチするオブジェクトを返します。パターンは次の形式で記述します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;&lt;オブジェクト名&gt;[&lt;フィールド値&gt;=&lt;値&gt;]&quot; もしくは &quot;&lt;オブジェクト名&gt;[&lt;フィールド値&gt;_&lt;ルックアップ&gt;=&lt;値&gt;]&quot;
</pre></div>
</div>
<p>フィールド値に指定できるルックアップの一覧ははfindメソッドをご参照下さい。</p>
<p>例えば、ソースコードに urlopen が含まれるオブジェクトを指定する場合は以下のようになります。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result = /.glob(&quot;*[source__contains=&#39;urlopen&#39;]&quot;)]
</pre></div>
</div>
<p>またこれらは組み合わせて指定することができます。すべて指定した場合のパターンは次のようになります。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;&lt;パス&gt;/&lt;オブジェクト名&gt;.&lt;型オブジェクト名&gt;@&lt;所有者&gt;(&lt;属性フィルタリング&gt;)[&lt;フィールドフィルタリング&gt;]&quot;
</pre></div>
</div>
<dl class="simple">
<dt>例えば、下のようなオブジェクトを指定する場合は次のようになります。</dt><dd><ul class="simple">
<li><p>/user/appの下にあるオブジェクト</p></li>
<li><p>rootが所持</p></li>
<li><p>名前がkompiraから始まる</p></li>
<li><p>ジョブフロー</p></li>
<li><p>表示名にこんぴらが含まれる</p></li>
<li><p>多重度が1以下</p></li>
</ul>
</dd>
</dl>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[result =
/.glob(&quot;/user/app/**/kompira*.Jobflow
@root(display_name__contains=&#39;こんぴら&#39;)[multiplicity__lt=1]&quot;)]
</pre></div>
</div>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.8 で変更: </span>glob() メソッドの結果を LazyArray 型に変更しました。</p>
</div>
</section>
</section>
<section id="license">
<span id="type_object-License"></span><h3><span class="section-number">5.3.3. </span>ライセンス (License)<a class="headerlink" href="#license" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/License">ライセンス型</a> は Kompira のライセンスファイル
を管理するオブジェクトを定義します。</p>
<section id="id18">
<h4><span class="section-number">5.3.3.1. </span>フィールド<a class="headerlink" href="#id18" title="この見出しへのパーマリンク">¶</a></h4>
<p>ライセンス型には固有のフィールドは定義されていません。</p>
</section>
<section id="id19">
<h4><span class="section-number">5.3.3.2. </span>メソッド<a class="headerlink" href="#id19" title="この見出しへのパーマリンク">¶</a></h4>
<p>ライセンス型には固有のメソッドは定義されていません。</p>
</section>
<section id="id20">
<h4><span class="section-number">5.3.3.3. </span>プロパティ<a class="headerlink" href="#id20" title="この見出しへのパーマリンク">¶</a></h4>
<p>ライセンス型オブジェクトは、以下のプロパティを提供しています。</p>
<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-License.node_count">
<span class="sig-prename descclassname"><span class="pre">License.</span></span><span class="sig-name descname"><span class="pre">node_count</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#property-License.node_count" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在使用中のノード数を取得します。</p>
</dd></dl>

</section>
</section>
<section id="virtual">
<span id="type_object-Virtual"></span><h3><span class="section-number">5.3.4. </span>仮想オブジェクト (Virtual)<a class="headerlink" href="#virtual" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/Virtual">仮想オブジェクト型</a> のオブジェクトは、プロセ
スやインシデントなど、Kompiraの特殊オブジェクトを定義するための実装モ
ジュールを指定します。</p>
<section id="id22">
<h4><span class="section-number">5.3.4.1. </span>フィールド<a class="headerlink" href="#id22" title="この見出しへのパーマリンク">¶</a></h4>
<p>仮想オブジェクト型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Virtual.virtual">
<span class="sig-prename descclassname"><span class="pre">Virtual.</span></span><span class="sig-name descname"><span class="pre">virtual</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-Virtual.virtual" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">実装モジュール</span></li>
</ul>
<p>特殊オブジェクトのPythonの実装モジュールのパスを指定します。</p>
</dd></dl>

</section>
<section id="id23">
<h4><span class="section-number">5.3.4.2. </span>メソッド<a class="headerlink" href="#id23" title="この見出しへのパーマリンク">¶</a></h4>
<p>仮想オブジェクト型に特有のメソッドは特に定義されていません。</p>
</section>
</section>
<section id="jobflow">
<span id="type_object-Jobflow"></span><h3><span class="section-number">5.3.5. </span>ジョブフロー(Jobflow)<a class="headerlink" href="#jobflow" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/Jobflow">ジョブフロー型</a> はジョブフローオブジェクトの
型を規定します。</p>
<section id="id25">
<h4><span class="section-number">5.3.5.1. </span>フィールド<a class="headerlink" href="#id25" title="この見出しへのパーマリンク">¶</a></h4>
<p>ジョブフロー型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Jobflow.source">
<span class="sig-prename descclassname"><span class="pre">Jobflow.</span></span><span class="sig-name descname"><span class="pre">source</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-LargeText"><span class="pre">LargeText</span></a></em><a class="headerlink" href="#type_field-Jobflow.source" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ソース</span></li>
</ul>
<p>ジョブフローのソースコード文字列です。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Jobflow.code">
<span class="sig-prename descclassname"><span class="pre">Jobflow.</span></span><span class="sig-name descname"><span class="pre">code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-LargeText"><span class="pre">LargeText</span></a></em><a class="headerlink" href="#type_field-Jobflow.code" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">コード</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>ジョブフローのソースをコンパイルした結果の中間コード文字列が格納さ
れます。ブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Jobflow.parameters">
<span class="sig-prename descclassname"><span class="pre">Jobflow.</span></span><span class="sig-name descname"><span class="pre">parameters</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Dictionary"><span class="pre">Dictionary</span></a></em><a class="headerlink" href="#type_field-Jobflow.parameters" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">パラメータ</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>ジョブフローのパラメータのデフォルト値をコンパイルした結果の中間コー
ド文字列が、パラメータの辞書として格納されます。不可視設定されてい
るため、ブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Jobflow.executable">
<span class="sig-prename descclassname"><span class="pre">Jobflow.</span></span><span class="sig-name descname"><span class="pre">executable</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-Jobflow.executable" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">実行可能</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>ジョブフローが実行可能な場合は true となります。コンパイルエラーな
どで、ジョブフローが実行できない場合には false が格納されます。ブラ
ウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Jobflow.errors">
<span class="sig-prename descclassname"><span class="pre">Jobflow.</span></span><span class="sig-name descname"><span class="pre">errors</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Dictionary"><span class="pre">Dictionary</span></a></em><a class="headerlink" href="#type_field-Jobflow.errors" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">エラー</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>コンパイル時のエラーメッセージが、対応するソースコードの行番号をキー
とした辞書に格納されます。ブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Jobflow.compilerVersion">
<span class="sig-prename descclassname"><span class="pre">Jobflow.</span></span><span class="sig-name descname"><span class="pre">compilerVersion</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-Jobflow.compilerVersion" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">コンパイラバージョン</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>ジョブフローのコンパイルに用いられたコンパイラのバージョン文字列が
格納されます。ブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Jobflow.multiplicity">
<span class="sig-prename descclassname"><span class="pre">Jobflow.</span></span><span class="sig-name descname"><span class="pre">multiplicity</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#type_field-Jobflow.multiplicity" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">多重度</span></li>
</ul>
<p>ジョブフローの多重度を設定します。多重度の数を超えるジョブフロープ
ロセスが同時にこのジョブフローを呼び出した場合、そのプロセスは他の
プロセスがこのジョブフロー呼び出しを完了するまで待たされます。
多重度を 0 以下の値に設定した場合、多重度は無制限と解釈されます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Jobflow.defaultCheckpointMode">
<span class="sig-prename descclassname"><span class="pre">Jobflow.</span></span><span class="sig-name descname"><span class="pre">defaultCheckpointMode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-Jobflow.defaultCheckpointMode" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">デフォルトチェックポイントモード</span></li>
</ul>
<p>ジョブフローのデフォルトのチェックポイントモードを指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Jobflow.defaultMonitoringMode">
<span class="sig-prename descclassname"><span class="pre">Jobflow.</span></span><span class="sig-name descname"><span class="pre">defaultMonitoringMode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Enum"><span class="pre">Enum</span></a></em><a class="headerlink" href="#type_field-Jobflow.defaultMonitoringMode" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">デフォルト監視モード</span></li>
<li><a class="reference internal" href="#field_qualifier-enum">選択肢</a><span class="p">:</span><span class="w"> </span>&quot;NOTHING&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;MAIL&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;ABORT_MAIL&quot;</li>
</ul>
<p>ジョブフローのデフォルトの監視モードを指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Jobflow.compiledDatetime">
<span class="sig-prename descclassname"><span class="pre">Jobflow.</span></span><span class="sig-name descname"><span class="pre">compiledDatetime</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Datetime"><span class="pre">Datetime</span></a></em><a class="headerlink" href="#type_field-Jobflow.compiledDatetime" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">コンパイル日時</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>ジョブフローのコンパイル日時が格納されます。ブラウザ上から編集することはできません。</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>多重度が指定されているジョブフローを呼び出すと、ジョブフロープロセス
はロックを獲得します。ジョブフロー呼び出しから戻るか、もしくはジョブ
フローが終了すると、ロックが解放されます。ロックは再帰的に獲得可能で
す。したがって、多重度指定されているジョブフローを再帰的に呼び出した
場合でも、そのプロセスの実行がブロックすることはありません。</p>
<p>多重度指定されたジョブフローの中で別のジョブフローを末尾で呼び出した
場合、獲得したロックは解放されます。</p>
</div>
</section>
<section id="id26">
<h4><span class="section-number">5.3.5.2. </span>メソッド<a class="headerlink" href="#id26" title="この見出しへのパーマリンク">¶</a></h4>
<p>ジョブフロー型に特有のメソッドは特に定義されていません。</p>
</section>
</section>
<section id="channel">
<span id="type_object-Channel"></span><h3><span class="section-number">5.3.6. </span>チャネル (Channel)<a class="headerlink" href="#channel" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/Channel">チャネル型</a> は、チャネルオブジェクトの型を規
定します。チャネルオブジェクトを用いて、異なるジョブフロープロセス同士
でメッセージの送受信を同期的に行うことができます。</p>
<p>アクションを指定することで、メッセージを受信したときの動作を指定することができます。</p>
<section id="id28">
<h4><span class="section-number">5.3.6.1. </span>フィールド<a class="headerlink" href="#id28" title="この見出しへのパーマリンク">¶</a></h4>
<p>チャネル型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Channel.message_queue">
<span class="sig-prename descclassname"><span class="pre">Channel.</span></span><span class="sig-name descname"><span class="pre">message_queue</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#field_type-Binary"><span class="pre">Binary</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#type_field-Channel.message_queue" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">メッセージキュー</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>チャネルに送信されたメッセージが格納されるキューです。
ブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Channel.event_queue">
<span class="sig-prename descclassname"><span class="pre">Channel.</span></span><span class="sig-name descname"><span class="pre">event_queue</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#field_type-Binary"><span class="pre">Binary</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#type_field-Channel.event_queue" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">イベントキュー</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>チャネルでメッセージの受信を待っているイベントが格納されるキューです。
ブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Channel.action_type">
<span class="sig-prename descclassname"><span class="pre">Channel.</span></span><span class="sig-name descname"><span class="pre">action_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Enum"><span class="pre">Enum</span></a></em><a class="headerlink" href="#type_field-Channel.action_type" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">アクション種別</span></li>
<li><a class="reference internal" href="#field_qualifier-enum">選択肢</a><span class="p">:</span><span class="w"> </span>&quot;NoAction&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;ExecuteJobflow&quot;</li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>&quot;NoAction&quot;</li>
</ul>
<p>チャネルがメッセージを受信したときに動作するアクションの種別を指定します。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>アクション種別</p></th>
<th class="head"><p>アクションの動作</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NoAction</p></td>
<td><p>何もしない</p></td>
</tr>
<tr class="row-odd"><td><p>ExecuteJobflow</p></td>
<td><p>アクションターゲットで指定したジョブフローを実行する</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Channel.action_target">
<span class="sig-prename descclassname"><span class="pre">Channel.</span></span><span class="sig-name descname"><span class="pre">action_target</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#type_field-Channel.action_target" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">アクションターゲット</span></li>
<li><a class="reference internal" href="#field_qualifier-object">オブジェクトによる選択肢</a><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#type_field-Channel.action_type">action_type</a> フィールドに依存します</li>
</ul>
<p>アクション種別に応じて、処理対象となるアクションターゲットを指定します。
アクション種別が ExecuteJobflow の場合、実行するジョブフローを指定します。
そのジョブフローは第一パラメータに受信したメッセージを渡して、チャネルオブジェクトの所有者をユーザとして実行されます。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>アクション種別が ExecuteJobflow のときに指定するジョブフローは、
パラメータが少なくとも1つは必要で、2つめ以降のパラメータがある場合はデフォルト値定義が必要です。</p>
</div>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.6 で変更: </span>新しいフィールド action_type, action_target が追加されました。</p>
</div>
</section>
<section id="id29">
<h4><span class="section-number">5.3.6.2. </span>メソッド<a class="headerlink" href="#id29" title="この見出しへのパーマリンク">¶</a></h4>
<p>チャネル型には以下のメソッドが定義されています。</p>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Channel.send">
<span class="sig-prename descclassname"><span class="pre">Channel.</span></span><span class="sig-name descname"><span class="pre">send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#method-Channel.send" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>チャネルにメッセージ message を送信します。</p>
</dd></dl>

<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Channel.pop_message">
<span class="sig-prename descclassname"><span class="pre">Channel.</span></span><span class="sig-name descname"><span class="pre">pop_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index=0</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">any</span></em><a class="headerlink" href="#method-Channel.pop_message" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>チャネルのメッセージキューから指定したインデックス（省略時は先頭）のメッセージを取得します。
取得したメッセージはメッセージキューから削除されます。</p>
<p>インデックスに負の値を指定すると、末尾からの位置を指定することになります。
メッセージが存在しないインデックスを指定した場合は実行時エラーになります（イベントジョブと異なりメッセージの受信を待ちません）。</p>
</dd></dl>

<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Channel.peek_message">
<span class="sig-prename descclassname"><span class="pre">Channel.</span></span><span class="sig-name descname"><span class="pre">peek_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index=0</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#method-Channel.peek_message" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>チャネルのメッセージキューから指定したインデックス（省略時は先頭）のメッセージを参照します。
参照したメッセージはメッセージキューから削除されずに残ります。</p>
<p>結果はリストで、1つめの要素には参照したメッセージの ID が格納され、2つめの要素は参照したメッセージ自体が格納されます。
これは、<a class="reference internal" href="reference.html#job-eventjob"><span class="std std-ref">イベントジョブ</span></a> で peek_mode=true を指定したときの結果と同じ構造になります。</p>
<p>インデックスに負の値を指定すると、末尾からの位置を指定することになります。
メッセージが存在しないインデックスを指定した場合は実行時エラーになります（イベントジョブと異なりメッセージの受信を待ちません）。</p>
<p>メッセージ ID はチャネルごとに個別のメッセージを識別する ID で、後述する delete_message() メソッドで利用します。
別のチャネルオブジェクトでは同じメッセージ ID が使われることがありますので、メッセージ ID がシステムユニークではないことに注意してください。</p>
</dd></dl>

<span class="target" id="channel-delete-message"></span><dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Channel.delete_message">
<span class="sig-prename descclassname"><span class="pre">Channel.</span></span><span class="sig-name descname"><span class="pre">delete_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*msgid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#method-Channel.delete_message" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>チャネルのメッセージキューから指定したメッセージ ID に対応するメッセージを削除します。
メッセージ ID は複数指定することが出来ます。</p>
<p>存在しないメッセージ ID を指定した場合は実行時エラーになります。</p>
</dd></dl>

<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Channel.clear_messages">
<span class="sig-prename descclassname"><span class="pre">Channel.</span></span><span class="sig-name descname"><span class="pre">clear_messages</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#method-Channel.clear_messages" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>チャネルのメッセージキューを空にします。</p>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.7 で変更: </span>新しいメソッド pop_message, peek_message, delete_message, clear_messages が追加されました。</p>
</div>
</section>
<section id="id30">
<h4><span class="section-number">5.3.6.3. </span>プロパティ<a class="headerlink" href="#id30" title="この見出しへのパーマリンク">¶</a></h4>
<p>チャネル型オブジェクトは、以下のプロパティを提供しています。</p>
<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Channel.message_count">
<span class="sig-prename descclassname"><span class="pre">Channel.</span></span><span class="sig-name descname"><span class="pre">message_count</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#property-Channel.message_count" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>メッセージキューに溜まっているメッセージの数を示します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Channel.event_count">
<span class="sig-prename descclassname"><span class="pre">Channel.</span></span><span class="sig-name descname"><span class="pre">event_count</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#property-Channel.event_count" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>イベントキューに溜まっているイベントの数を示します。</p>
</dd></dl>

</section>
</section>
<section id="wiki-wiki">
<span id="type_object-Wiki"></span><h3><span class="section-number">5.3.7. </span>Wikiページ (Wiki)<a class="headerlink" href="#wiki-wiki" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/Wiki">Wikiページ型</a> は、Wikiページオブジェクトの型を規
定します。Kompira の Wikiページオブジェクトは、Wiki
Creole/Markdown/Textile 記法をサポートしています。</p>
<section id="id31">
<h4><span class="section-number">5.3.7.1. </span>フィールド<a class="headerlink" href="#id31" title="この見出しへのパーマリンク">¶</a></h4>
<p>Wikiページ型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Wiki.wikitext">
<span class="sig-prename descclassname"><span class="pre">Wiki.</span></span><span class="sig-name descname"><span class="pre">wikitext</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-LargeText"><span class="pre">LargeText</span></a></em><a class="headerlink" href="#type_field-Wiki.wikitext" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">Wikiテキスト</span></li>
</ul>
<p>wikiページのテキストを格納します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Wiki.style">
<span class="sig-prename descclassname"><span class="pre">Wiki.</span></span><span class="sig-name descname"><span class="pre">style</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Enum"><span class="pre">Enum</span></a></em><a class="headerlink" href="#type_field-Wiki.style" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">スタイル</span></li>
<li><a class="reference internal" href="#field_qualifier-enum">選択肢</a><span class="p">:</span><span class="w"> </span>&quot;Creole&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;Markdown&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;Textile&quot;</li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>&quot;Creole&quot;</li>
</ul>
<p>wikiページの記法を Creole, Markdown, Textile の中から選択します。</p>
</dd></dl>

</section>
<section id="id32">
<h4><span class="section-number">5.3.7.2. </span>メソッド<a class="headerlink" href="#id32" title="この見出しへのパーマリンク">¶</a></h4>
<p>Wikiページ型に特有のメソッドは特に定義されていません。</p>
</section>
</section>
<section id="scriptjob">
<span id="type_object-ScriptJob"></span><h3><span class="section-number">5.3.8. </span>スクリプトジョブ (ScriptJob)<a class="headerlink" href="#scriptjob" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/ScriptJob">スクリプトジョブ型</a> は、スクリプトジョブオ
ブジェクトの型を規定します。</p>
<section id="id34">
<h4><span class="section-number">5.3.8.1. </span>フィールド<a class="headerlink" href="#id34" title="この見出しへのパーマリンク">¶</a></h4>
<p>スクリプトジョブ型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-ScriptJob.source">
<span class="sig-prename descclassname"><span class="pre">ScriptJob.</span></span><span class="sig-name descname"><span class="pre">source</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-LargeText"><span class="pre">LargeText</span></a></em><a class="headerlink" href="#type_field-ScriptJob.source" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ソース</span></li>
</ul>
<p>スクリプトのソーステキストを格納します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-ScriptJob.ext">
<span class="sig-prename descclassname"><span class="pre">ScriptJob.</span></span><span class="sig-name descname"><span class="pre">ext</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-ScriptJob.ext" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">拡張子</span></li>
</ul>
<p>スクリプトの拡張子を設定します。Windowsサーバ上でスクリプトを実行す
る場合、スクリプトの拡張子を適切に設定する必要があります。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-ScriptJob.multiplicity">
<span class="sig-prename descclassname"><span class="pre">ScriptJob.</span></span><span class="sig-name descname"><span class="pre">multiplicity</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#type_field-ScriptJob.multiplicity" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">多重度</span></li>
</ul>
<p>スクリプトジョブの多重度を設定します。多重度の数を超えるジョブフロー
プロセスが同時にこのスクリプトジョブを呼び出した場合、そのプロセス
は他のプロセスがこのスクリプトジョブ呼び出しを完了するまで待たされ
ます。多重度を 0 以下の値に設定した場合、多重度は無制限と解釈されま
す。</p>
</dd></dl>

</section>
<section id="id35">
<h4><span class="section-number">5.3.8.2. </span>メソッド<a class="headerlink" href="#id35" title="この見出しへのパーマリンク">¶</a></h4>
<p>スクリプトジョブ型に特有のメソッドは特に定義されていません。</p>
</section>
</section>
<section id="environment">
<span id="type_object-Environment"></span><h3><span class="section-number">5.3.9. </span>環境変数 (Environment)<a class="headerlink" href="#environment" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/Environment">環境変数型</a> は、環境変数オブジェクトの型
を規定します。ユーザー設定の環境変数の項目に、環境変数オブジェクトを設
定すると、そのユーザーがジョブフローを実行した場合、環境変数辞書が$ENV
に格納され、辞書のに格納されている各値をジョブフローから参照することが
できるようになります。</p>
<section id="id37">
<h4><span class="section-number">5.3.9.1. </span>フィールド<a class="headerlink" href="#id37" title="この見出しへのパーマリンク">¶</a></h4>
<p>環境変数型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Environment.environment">
<span class="sig-prename descclassname"><span class="pre">Environment.</span></span><span class="sig-name descname"><span class="pre">environment</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Dictionary"><span class="pre">Dictionary</span></a></em><a class="headerlink" href="#type_field-Environment.environment" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">環境変数</span></li>
</ul>
<p>環境変数辞書を格納します。</p>
</dd></dl>

</section>
<section id="id38">
<h4><span class="section-number">5.3.9.2. </span>メソッド<a class="headerlink" href="#id38" title="この見出しへのパーマリンク">¶</a></h4>
<p>環境変数型に特有のメソッドは特に定義されていません。</p>
</section>
</section>
<section id="template">
<span id="type_object-Template"></span><h3><span class="section-number">5.3.10. </span>テンプレート (Template)<a class="headerlink" href="#template" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/Template">テンプレート型</a> は、テンプレートオブジェクト
の型を規定します。</p>
<section id="id40">
<h4><span class="section-number">5.3.10.1. </span>フィールド<a class="headerlink" href="#id40" title="この見出しへのパーマリンク">¶</a></h4>
<p>テンプレート型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Template.template">
<span class="sig-prename descclassname"><span class="pre">Template.</span></span><span class="sig-name descname"><span class="pre">template</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-LargeText"><span class="pre">LargeText</span></a></em><a class="headerlink" href="#type_field-Template.template" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">テンプレート</span></li>
</ul>
<p>テンプレート文字列を格納します。</p>
</dd></dl>

</section>
<section id="id41">
<h4><span class="section-number">5.3.10.2. </span>メソッド<a class="headerlink" href="#id41" title="この見出しへのパーマリンク">¶</a></h4>
<p>テンプレート型に特有のメソッドは特に定義されていません。</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">バージョン 1.4.7 で非推奨: </span>替わりにテキスト型オブジェクトを使用してください。</p>
</div>
</section>
</section>
<section id="table">
<span id="type_object-Table"></span><h3><span class="section-number">5.3.11. </span>テーブル (Table)<a class="headerlink" href="#table" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/Table">テーブル型</a> は、テーブルオブジェクトの型を規定
します。テーブルオブジェクトは、ディレクトリオブジェクトのように、複数
の子オブジェクトを持つことができます。ただし、子オブジェクトの型は固定
されます。</p>
<section id="id43">
<h4><span class="section-number">5.3.11.1. </span>フィールド<a class="headerlink" href="#id43" title="この見出しへのパーマリンク">¶</a></h4>
<p>テーブル型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Table.typeObject">
<span class="sig-prename descclassname"><span class="pre">Table.</span></span><span class="sig-name descname"><span class="pre">typeObject</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#type_field-Table.typeObject" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">オブジェクト型</span></li>
<li><a class="reference internal" href="#field_qualifier-object">オブジェクトによる選択肢</a><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#type_object-TypeObject">TypeObject</a></li>
<li><a class="reference internal" href="#field_qualifier-no_empty">選択必須フィールド</a></li>
</ul>
<p>このテーブルに格納する子オブジェクトの型を指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Table.relatedObject">
<span class="sig-prename descclassname"><span class="pre">Table.</span></span><span class="sig-name descname"><span class="pre">relatedObject</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#type_field-Table.relatedObject" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">関連オブジェクト</span></li>
<li><a class="reference internal" href="#field_qualifier-object">オブジェクトによる選択肢</a><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#type_object-Jobflow">Jobflow</a><span class="w"> </span><span class="p">|</span><span class="w"> </span><a class="reference internal" href="#type_object-Form">Form</a></li>
</ul>
<p>このテーブルのメニューから実行できるジョブフローやフォームを指定し
ます。テーブル一覧から選択したオブジェクトに対して、ジョブフローや
フォームを実行できるようになります。
ジョブフロー実行の場合は、ジョブフローの最初のパラメータに選択され
たオブジェクトリストが渡されます。フォーム実行の場合、objects パラ
メータに選択されたオブジェクトリストが渡されます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Table.displayList">
<span class="sig-prename descclassname"><span class="pre">Table.</span></span><span class="sig-name descname"><span class="pre">displayList</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-Table.displayList" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">表示フィールド一覧</span></li>
</ul>
<p>テーブルのビューで表示させる子オブジェクトのフィールド名を配列で指
定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Table.orderBy">
<span class="sig-prename descclassname"><span class="pre">Table.</span></span><span class="sig-name descname"><span class="pre">orderBy</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-Table.orderBy" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ソート順</span></li>
</ul>
<p>このテーブルの一覧画面で表示するオブジェクトの並び順を指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Table.pageSize">
<span class="sig-prename descclassname"><span class="pre">Table.</span></span><span class="sig-name descname"><span class="pre">pageSize</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#type_field-Table.pageSize" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ページサイズ</span></li>
<li><a class="reference internal" href="#field_qualifier-min_value">最小値</a><span class="p">:</span><span class="w"> </span>10</li>
<li><a class="reference internal" href="#field_qualifier-max_value">最大値</a><span class="p">:</span><span class="w"> </span>1000</li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>25</li>
</ul>
<p>このテーブルの一覧画面で表示するオブジェクトの個数を指定します。</p>
</dd></dl>

</section>
<section id="id44">
<h4><span class="section-number">5.3.11.2. </span>メソッド<a class="headerlink" href="#id44" title="この見出しへのパーマリンク">¶</a></h4>
<p>テーブル型のメソッドはディレクトリ型が提供する<a class="reference internal" href="#dir-method"><span class="std std-ref">メソッド</span></a>と同じですが、
add メソッドでは type_obj パラメータは省略可能となり、find メソッドでは型オブジェクトの特定が不要になります。</p>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Table.add">
<span class="sig-prename descclassname"><span class="pre">Table.</span></span><span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">type_obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#method-Table.add" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>テーブルの下に、name で指定された名前を持つ テーブルのオブジェクト
型フィールドで指定された型のKompiraオブジェクトを追加します。dataに
は辞書型のデータを渡すことができ、これによって、オブジェクトのフィー
ルド値を初期化することができます。overwrite 引数に true を渡した場
合、同名のオブジェクトがテーブルの下に存在している場合でも、エラー
にはならずオブジェクトを更新します。</p>
</dd></dl>

<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Table.find">
<span class="sig-prename descclassname"><span class="pre">Table.</span></span><span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-LazyArray"><span class="pre">LazyArray</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#method-Table.find" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>テーブルの配下で params で指定したフィルタリング条件に該当するオブジェクトの検索結果を返します。
基本的には <a class="reference internal" href="#directory-find"><span class="std std-ref">Directory.find()</span></a> メソッドと同じですが、フィールド値によるフィルタリングまたはフィールド値による並び替えの指定する場合でも、<code class="docutils literal notranslate"><span class="pre">type_object</span></code> 属性フィルタリングによる型オブジェクトの特定は不要になります。</p>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.8 で変更: </span>find() メソッドの結果を LazyArray 型に変更しました。</p>
</div>
</section>
</section>
<section id="realm">
<span id="type_object-Realm"></span><h3><span class="section-number">5.3.12. </span>管理領域 (Realm)<a class="headerlink" href="#realm" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/Realm">管理領域型</a> は、管理領域オブジェクトの型を規定
します。管理領域オブジェクトを定義することにより、ジョブマネージャごと
に、管理対象のネットワークを分割して管理できるようになります。</p>
<section id="id46">
<h4><span class="section-number">5.3.12.1. </span>フィールド<a class="headerlink" href="#id46" title="この見出しへのパーマリンク">¶</a></h4>
<p>管理領域型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Realm.range">
<span class="sig-prename descclassname"><span class="pre">Realm.</span></span><span class="sig-name descname"><span class="pre">range</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-Realm.range" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">対象範囲</span></li>
</ul>
<p>この管理領域が管轄するネットワークアドレスの対象範囲を指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Realm.disabled">
<span class="sig-prename descclassname"><span class="pre">Realm.</span></span><span class="sig-name descname"><span class="pre">disabled</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-Realm.disabled" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">無効</span></li>
</ul>
<p>この値を true に設定すると、管理領域の設定が無効化されます。</p>
</dd></dl>

</section>
<section id="id47">
<h4><span class="section-number">5.3.12.2. </span>メソッド<a class="headerlink" href="#id47" title="この見出しへのパーマリンク">¶</a></h4>
<p>管理領域型に特有のメソッドは特に定義されていません。</p>
</section>
</section>
<section id="attachedfile">
<span id="type_object-AttachedFile"></span><h3><span class="section-number">5.3.13. </span>添付ファイル (AttachedFile)<a class="headerlink" href="#attachedfile" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/AttachedFile">添付ファイル型</a> は、添付ファイルオブジェ
クトの型を規定します。</p>
<section id="id49">
<h4><span class="section-number">5.3.13.1. </span>フィールド<a class="headerlink" href="#id49" title="この見出しへのパーマリンク">¶</a></h4>
<p>添付ファイル型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-AttachedFile.attached1">
<span class="sig-prename descclassname"><span class="pre">AttachedFile.</span></span><span class="sig-name descname"><span class="pre">attached1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-File"><span class="pre">File</span></a></em><a class="headerlink" href="#type_field-AttachedFile.attached1" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">添付ファイル1</span></li>
</ul>
<p>1番目の添付ファイルオブジェクトが格納されるフィールドです。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-AttachedFile.attached2">
<span class="sig-prename descclassname"><span class="pre">AttachedFile.</span></span><span class="sig-name descname"><span class="pre">attached2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-File"><span class="pre">File</span></a></em><a class="headerlink" href="#type_field-AttachedFile.attached2" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">添付ファイル2</span></li>
</ul>
<p>2番目の添付ファイルオブジェクトが格納されるフィールドです。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-AttachedFile.attached3">
<span class="sig-prename descclassname"><span class="pre">AttachedFile.</span></span><span class="sig-name descname"><span class="pre">attached3</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-File"><span class="pre">File</span></a></em><a class="headerlink" href="#type_field-AttachedFile.attached3" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">添付ファイル3</span></li>
</ul>
<p>3番目の添付ファイルオブジェクトが格納されるフィールドです。</p>
</dd></dl>

</section>
<section id="id50">
<h4><span class="section-number">5.3.13.2. </span>メソッド<a class="headerlink" href="#id50" title="この見出しへのパーマリンク">¶</a></h4>
<p>添付ファイル型に特有のメソッドは特に定義されていません。</p>
</section>
</section>
<section id="nodeinfo">
<span id="type_object-NodeInfo"></span><h3><span class="section-number">5.3.14. </span>ノード情報 (NodeInfo)<a class="headerlink" href="#nodeinfo" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/NodeInfo">ノード情報型</a> は、ノード情報オブジェクトの型
を規定します。ノード情報オブジェクトをジョブフロー中の __node__ 制御変
数に指定することで、コマンドを実行する対象ノードを指定することができま
す。</p>
<section id="id52">
<h4><span class="section-number">5.3.14.1. </span>フィールド<a class="headerlink" href="#id52" title="この見出しへのパーマリンク">¶</a></h4>
<p>ノード情報型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-NodeInfo.nodetype">
<span class="sig-prename descclassname"><span class="pre">NodeInfo.</span></span><span class="sig-name descname"><span class="pre">nodetype</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#type_field-NodeInfo.nodetype" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ノード種別</span></li>
<li><a class="reference internal" href="#field_qualifier-object">オブジェクトによる選択肢</a><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#type_object-NodeType">NodeType</a></li>
</ul>
<p>Kompira で定義されているノード種別を選択します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-NodeInfo.conntype">
<span class="sig-prename descclassname"><span class="pre">NodeInfo.</span></span><span class="sig-name descname"><span class="pre">conntype</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Enum"><span class="pre">Enum</span></a></em><a class="headerlink" href="#type_field-NodeInfo.conntype" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">接続種別</span></li>
<li><a class="reference internal" href="#field_qualifier-enum">選択肢</a><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#type_field-NodeInfo.nodetype">nodetype</a> フィールドで選択したオブジェクトの <a class="reference internal" href="#type_field-NodeType.conntypes">NodeType.conntypes</a> フィールドに依存します</li>
</ul>
<p>ノードの接続種別を選択します。指定できる接続種別は上で選択したノード種別ごとに切り替わります。詳細は <a class="reference internal" href="admin.html#node"><span class="std std-ref">ノードの設定</span></a> を参照してください。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-NodeInfo.hostname">
<span class="sig-prename descclassname"><span class="pre">NodeInfo.</span></span><span class="sig-name descname"><span class="pre">hostname</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-NodeInfo.hostname" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ホスト名</span></li>
</ul>
<p>ノードのホスト名を指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-NodeInfo.ipaddr">
<span class="sig-prename descclassname"><span class="pre">NodeInfo.</span></span><span class="sig-name descname"><span class="pre">ipaddr</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-IPAddress"><span class="pre">IPAddress</span></a></em><a class="headerlink" href="#type_field-NodeInfo.ipaddr" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">IPアドレス</span></li>
</ul>
<p>ノードのIPアドレスを指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-NodeInfo.port">
<span class="sig-prename descclassname"><span class="pre">NodeInfo.</span></span><span class="sig-name descname"><span class="pre">port</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#type_field-NodeInfo.port" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ポート番号</span></li>
<li><a class="reference internal" href="#field_qualifier-min_value">最小値</a><span class="p">:</span><span class="w"> </span>0</li>
<li><a class="reference internal" href="#field_qualifier-max_value">最大値</a><span class="p">:</span><span class="w"> </span>65535</li>
</ul>
<p>ノードのポート番号を指定します。指定しない場合、接続種別に応じたデ
フォルトのポート番号が使用されます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-NodeInfo.shell">
<span class="sig-prename descclassname"><span class="pre">NodeInfo.</span></span><span class="sig-name descname"><span class="pre">shell</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-NodeInfo.shell" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">シェル</span></li>
</ul>
<p>リモート接続時に使用するシェルを指定します。指定しない場合、デフォ
ルトとして '/bin/bash' が使用されます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-NodeInfo.use_shell">
<span class="sig-prename descclassname"><span class="pre">NodeInfo.</span></span><span class="sig-name descname"><span class="pre">use_shell</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-NodeInfo.use_shell" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">シェル使用</span></li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>false</li>
</ul>
<p>リモート接続時にシェルを使用しない場合、false に設定します。ネット
ワーク機器など、シェルを備えていない機器への接続時には、false を設
定すると良いでしょう。 デフォルトは false です。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-NodeInfo.proxy">
<span class="sig-prename descclassname"><span class="pre">NodeInfo.</span></span><span class="sig-name descname"><span class="pre">proxy</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#type_field-NodeInfo.proxy" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">プロキシ</span></li>
<li><a class="reference internal" href="#field_qualifier-object">オブジェクトによる選択肢</a><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#type_object-NodeInfo">NodeInfo</a></li>
</ul>
<p>踏み台サーバ経由で SSH 接続する場合、踏み台サーバとなるノード情報オ
ブジェクトを指定します。SSH 接続時のみ使用されます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-NodeInfo.account">
<span class="sig-prename descclassname"><span class="pre">NodeInfo.</span></span><span class="sig-name descname"><span class="pre">account</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#type_field-NodeInfo.account" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">アカウント</span></li>
<li><a class="reference internal" href="#field_qualifier-object">オブジェクトによる選択肢</a><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#type_object-AccountInfo">AccountInfo</a></li>
</ul>
<p>リモート接続時に使用するアカウント情報を指定します。ジョブフローの
__account__ 制御変数を明示的に指定した場合は、そちらが優先されます。</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.4 で追加: </span>ノード種別フィールドが追加されました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.4 で変更: </span>接続種別フィールドの選択肢がノード種別によって切り替わるようになりました。</p>
</div>
</section>
<section id="id53">
<h4><span class="section-number">5.3.14.2. </span>メソッド<a class="headerlink" href="#id53" title="この見出しへのパーマリンク">¶</a></h4>
<p>ノード情報型に特有のメソッドは特に定義されていません。</p>
</section>
</section>
<section id="accountinfo">
<span id="type_object-AccountInfo"></span><h3><span class="section-number">5.3.15. </span>アカウント情報 (AccountInfo)<a class="headerlink" href="#accountinfo" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/AccountInfo">アカウント情報型</a> は、アカウント情報オブ
ジェクトの型を規定します。アカウント情報オブジェクトをジョブフロー中の
__account__ 制御変数にセットすることで、リモート接続時に使用するアカウ
ント情報を指定することができます。</p>
<section id="id55">
<h4><span class="section-number">5.3.15.1. </span>フィールド<a class="headerlink" href="#id55" title="この見出しへのパーマリンク">¶</a></h4>
<p>アカウント情報型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-AccountInfo.user">
<span class="sig-prename descclassname"><span class="pre">AccountInfo.</span></span><span class="sig-name descname"><span class="pre">user</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-AccountInfo.user" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ユーザ名</span></li>
</ul>
<p>アカウントのユーザ名を設定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-AccountInfo.password">
<span class="sig-prename descclassname"><span class="pre">AccountInfo.</span></span><span class="sig-name descname"><span class="pre">password</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Password"><span class="pre">Password</span></a></em><a class="headerlink" href="#type_field-AccountInfo.password" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">パスワード</span></li>
</ul>
<p>アカウントのパスワードを設定します。パスフレーズ付きのSSH鍵ファイル
が設定されている場合、パスフレーズとしても使用されます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-AccountInfo.keyfile">
<span class="sig-prename descclassname"><span class="pre">AccountInfo.</span></span><span class="sig-name descname"><span class="pre">keyfile</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-File"><span class="pre">File</span></a></em><a class="headerlink" href="#type_field-AccountInfo.keyfile" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">SSH鍵ファイル</span></li>
</ul>
<p>SSH鍵ファイルを使ってログインする場合、鍵ファイルを添付します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-AccountInfo.passphrase">
<span class="sig-prename descclassname"><span class="pre">AccountInfo.</span></span><span class="sig-name descname"><span class="pre">passphrase</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Password"><span class="pre">Password</span></a></em><a class="headerlink" href="#type_field-AccountInfo.passphrase" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">SSH鍵パスフレーズ</span></li>
</ul>
<p>パスフレーズ付きのSSH鍵の場合に指定するパスフレーズです。パスフレー
ズ無しの場合やパスワードと同じ場合には指定を省略することができます。</p>
</dd></dl>

</section>
<section id="id56">
<h4><span class="section-number">5.3.15.2. </span>メソッド<a class="headerlink" href="#id56" title="この見出しへのパーマリンク">¶</a></h4>
<p>アカウント情報型に特有のメソッドは特に定義されていません。</p>
</section>
</section>
<section id="repository">
<span id="type_object-Repository"></span><h3><span class="section-number">5.3.16. </span>リポジトリ (Repository)<a class="headerlink" href="#repository" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/Repository">リポジトリ型</a> は、リポジトリオブジェクトの
型を規定します。リポジトリオブジェクトを用いて、外部のVCSリポジトリと連
携することができ、Kompiraのディレクトリのデータをリポジトリにプッシュし
たり、逆にリポジトリ上のデータをKompiraディレクトリにプルしたりといった、
データの同期が可能となります。</p>
<section id="id58">
<h4><span class="section-number">5.3.16.1. </span>フィールド<a class="headerlink" href="#id58" title="この見出しへのパーマリンク">¶</a></h4>
<p>リポジトリ型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Repository.URL">
<span class="sig-prename descclassname"><span class="pre">Repository.</span></span><span class="sig-name descname"><span class="pre">URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-URL"><span class="pre">URL</span></a></em><a class="headerlink" href="#type_field-Repository.URL" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">URL</span></li>
</ul>
<p>同期対象リポジトリのURLを設定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Repository.repositoryType">
<span class="sig-prename descclassname"><span class="pre">Repository.</span></span><span class="sig-name descname"><span class="pre">repositoryType</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Enum"><span class="pre">Enum</span></a></em><a class="headerlink" href="#type_field-Repository.repositoryType" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">リポジトリ種別</span></li>
<li><a class="reference internal" href="#field_qualifier-enum">選択肢</a><span class="p">:</span><span class="w"> </span>&quot;git&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;mercurial&quot;</li>
</ul>
<p>リポジトリ種別を指定します。現バージョンでは、'git'と'mercurial' のみサポー
トしています。デフォルトは'git'です。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Repository.port">
<span class="sig-prename descclassname"><span class="pre">Repository.</span></span><span class="sig-name descname"><span class="pre">port</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#type_field-Repository.port" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ポート番号</span></li>
<li><a class="reference internal" href="#field_qualifier-min_value">最小値</a><span class="p">:</span><span class="w"> </span>0</li>
<li><a class="reference internal" href="#field_qualifier-max_value">最大値</a><span class="p">:</span><span class="w"> </span>65535</li>
</ul>
<p>外部リポジトリに接続するポート番号を指定します。未指定の場合、デフォ
ルトのポート番号が使用されます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Repository.username">
<span class="sig-prename descclassname"><span class="pre">Repository.</span></span><span class="sig-name descname"><span class="pre">username</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-Repository.username" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ユーザー名</span></li>
</ul>
<p>リポジトリ接続時のユーザー名を指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Repository.password">
<span class="sig-prename descclassname"><span class="pre">Repository.</span></span><span class="sig-name descname"><span class="pre">password</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Password"><span class="pre">Password</span></a></em><a class="headerlink" href="#type_field-Repository.password" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">パスワード</span></li>
</ul>
<p>リポジトリ接続時のパスワードを指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Repository.directory">
<span class="sig-prename descclassname"><span class="pre">Repository.</span></span><span class="sig-name descname"><span class="pre">directory</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#type_field-Repository.directory" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ディレクトリ</span></li>
<li><a class="reference internal" href="#field_qualifier-object">オブジェクトによる選択肢</a><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#type_object-Directory">Directory</a></li>
</ul>
<p>同期対象のKompiraディレクトリを指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Repository.updateConfig">
<span class="sig-prename descclassname"><span class="pre">Repository.</span></span><span class="sig-name descname"><span class="pre">updateConfig</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-Repository.updateConfig" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">設定データを上書きする</span></li>
</ul>
<p>外部リポジトリからオブジェクトデータをプルする際に Config型オブジェクトの設定データも上書きします。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Repository.log">
<span class="sig-prename descclassname"><span class="pre">Repository.</span></span><span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-LargeText"><span class="pre">LargeText</span></a></em><a class="headerlink" href="#type_field-Repository.log" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ログ</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>同期実行時のログが格納されます。</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.7 で追加: </span>フィールド updateConfig が追加されました。</p>
</div>
</section>
<section id="id59">
<h4><span class="section-number">5.3.16.2. </span>メソッド<a class="headerlink" href="#id59" title="この見出しへのパーマリンク">¶</a></h4>
<p>リポジトリ型に特有のメソッドは特に定義されていません。</p>
<span class="target" id="lib-mailchannel"></span></section>
</section>
<section id="mailchannel">
<span id="type_object-MailChannel"></span><h3><span class="section-number">5.3.17. </span>メールチャネル (MailChannel)<a class="headerlink" href="#mailchannel" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/MailChannel">メールチャネル型</a> は、IMAP4/POP3 サーバからメールをチャネルに取り込むメールチャネルオブジェクトの型を規定します。</p>
<p>ジョブフローがメールチャネルからメール受信待ち状態になる、あるいはメールチャネルに何らかの動作を伴うアクションが設定されているとき、メールチャネルは設定されている IMAP4/POP3 サーバからメールを受信するポーリングを開始します。</p>
<p>ポーリングにおいて IMAP4/POP3 サーバからメールを受信できたとき、以下のように動作します。</p>
<ul class="simple">
<li><p>メールチャネルを待つジョブフローが1つ以上ある場合は、最も長く待っているジョブフローに受信したメールが渡され、そのジョブフローは処理を継続します。</p></li>
<li><p>上記に該当せず、メールチャネルにアクションが設定されている場合は、受信したメールをもとにアクションが開始されます。</p></li>
<li><p>メールを受信したときに上記のいずれにも該当しない場合は、受信したメールはメールチャネルのメッセージキューに蓄積されます。</p></li>
</ul>
<p>受信する対象のメール（全てのメールまたは未読メール）、および、受信したメールを削除するかについては、受信モードで指定できます。</p>
<p>メールボックスに受信する対象のメールがなかった場合は、checkInterval で設定された時間が経過した後に再度、IMAP4/POP3 サーバからメールを取り込みます。ただし、メールチャネルを待つジョブフローが存在しない、かつメールチャネルにアクションが設定されていない場合は、メール受信のポーリング処理は休止します。</p>
<section id="id61">
<h4><span class="section-number">5.3.17.1. </span>フィールド<a class="headerlink" href="#id61" title="この見出しへのパーマリンク">¶</a></h4>
<p>メールチャネル型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.message_queue">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">message_queue</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#field_type-Binary"><span class="pre">Binary</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#type_field-MailChannel.message_queue" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">メッセージキュー</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>メールチャネルに送信されたメッセージが格納されるキューです。
ブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.event_queue">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">event_queue</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#field_type-Binary"><span class="pre">Binary</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#type_field-MailChannel.event_queue" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">イベントキュー</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>メールチャネルでメッセージの受信を待っているイベントが格納されるキューです。
ブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.serverName">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">serverName</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-MailChannel.serverName" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">サーバ名</span></li>
</ul>
<p>接続する IMAP4/POP3 サーバのホスト名かIPアドレスを設定します。
空にした場合は localhost に接続します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.protocol">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">protocol</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Enum"><span class="pre">Enum</span></a></em><a class="headerlink" href="#type_field-MailChannel.protocol" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">プロトコル</span></li>
<li><a class="reference internal" href="#field_qualifier-enum">選択肢</a><span class="p">:</span><span class="w"> </span>&quot;IMAP4&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;POP3&quot;</li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>&quot;IMAP4&quot;</li>
</ul>
<p>メール受信のプロトコルとして、IMAP4 もしくは POP3 のいずれかを設定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.SSL">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">SSL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-MailChannel.SSL" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">SSL</span></li>
</ul>
<p>SSL による通信を行う場合 true にセットします。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.port">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">port</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#type_field-MailChannel.port" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ポート番号</span></li>
<li><a class="reference internal" href="#field_qualifier-min_value">最小値</a><span class="p">:</span><span class="w"> </span>0</li>
<li><a class="reference internal" href="#field_qualifier-max_value">最大値</a><span class="p">:</span><span class="w"> </span>65535</li>
</ul>
<p>IMAP サーバのポート番号を設定します。指定しない場合デフォルトのポー
ト番号が使用されます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.username">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">username</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-MailChannel.username" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ユーザ名</span></li>
</ul>
<p>IMAP4/POP3 サーバに接続するユーザー名を設定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.password">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">password</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Password"><span class="pre">Password</span></a></em><a class="headerlink" href="#type_field-MailChannel.password" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">パスワード</span></li>
</ul>
<p>IMAP4/POP3 サーバに接続する際のパスワードを設定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.timeout">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">timeout</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#type_field-MailChannel.timeout" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">接続タイムアウト</span></li>
<li><a class="reference internal" href="#field_qualifier-min_value">最小値</a><span class="p">:</span><span class="w"> </span>0</li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>60</li>
</ul>
<p>IMAP4/POP3 サーバに対する接続タイムアウトを秒単位で指定します。
空、もしくは、0を設定すると、TCP/IP接続におけるシステムのデフォルトのタイムアウトとなります。
デフォルトは 60 秒です。負の値を設定することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.use_oauth2">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">use_oauth2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-MailChannel.use_oauth2" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">OAuth2使用</span></li>
</ul>
<p>OAuth2 を用いて認証する場合はチェックします。この場合、パスワードの設定は不要となります。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.oauth2_provider">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">oauth2_provider</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#type_field-MailChannel.oauth2_provider" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">OAuth2プロバイダ</span></li>
<li><a class="reference internal" href="#field_qualifier-object">オブジェクトによる選択肢</a><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#type_object-OAuth2Provider">OAuth2Provider</a></li>
</ul>
<p>OAuth2 のサービスプロバイダを選択します。OAuth2 認証を利用する場合には必須です。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.refresh_token">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">refresh_token</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Password"><span class="pre">Password</span></a></em><a class="headerlink" href="#type_field-MailChannel.refresh_token" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">リフレッシュトークン</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>OAuth2 認証によって取得したリフレッシュトークンが格納されます。
隠しフィールドとなっており、ブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.access_token">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">access_token</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Password"><span class="pre">Password</span></a></em><a class="headerlink" href="#type_field-MailChannel.access_token" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">アクセストークン</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>OAuth2 認証によって取得したアクセストークンが格納されます。
隠しフィールドとなっており、ブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.token_expires_at">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">token_expires_at</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Datetime"><span class="pre">Datetime</span></a></em><a class="headerlink" href="#type_field-MailChannel.token_expires_at" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">トークン有効期限</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>アクセストークンの有効期限が格納されます。
隠しフィールドとなっており、ブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.mailbox">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">mailbox</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-MailChannel.mailbox" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">メールボックス</span></li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>&quot;INBOX&quot;</li>
</ul>
<p>受信するメールボックスを設定します。デフォルトは &quot;INBOX&quot; です。
POP3 プロトコルの場合、メールボックスの設定は無視されます。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>日本語のメールボックス名を設定することはできません。</p>
</div>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.receive_mode">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">receive_mode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Enum"><span class="pre">Enum</span></a></em><a class="headerlink" href="#type_field-MailChannel.receive_mode" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">受信モード</span></li>
<li><a class="reference internal" href="#field_qualifier-enum">選択肢</a><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#type_field-MailChannel.protocol">protocol</a> フィールドに依存します</li>
</ul>
<p>メールチャネルがメールを受信するときの動作を指定します。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>受信モード</p></th>
<th class="head"><p>メール受信時の動作</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ReceiveAllAndDelete</p></td>
<td><p>全てのメールを受信して削除する</p></td>
</tr>
<tr class="row-odd"><td><p>ReceiveUnseenAndSetSeen</p></td>
<td><p>未読のメールを受信して既読にする</p></td>
</tr>
</tbody>
</table>
<p>デフォルトの受信モードは ReceiveAllAndDelete となります。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>ReceiveUnseenAndSetSeen はプロトコルが POP3 のときは指定できません。</p>
</div>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.checkInterval">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">checkInterval</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#type_field-MailChannel.checkInterval" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">受信チェック間隔</span></li>
<li><a class="reference internal" href="#field_qualifier-min_value">最小値</a><span class="p">:</span><span class="w"> </span>0</li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>10</li>
</ul>
<p>IMAP4/POP3 サーバに対して新着メッセージを確認する間隔を分単位で指定します。
デフォルトは10分です。0 を指定するとデフォルトの値となります。
負の値を設定することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.action_type">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">action_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Enum"><span class="pre">Enum</span></a></em><a class="headerlink" href="#type_field-MailChannel.action_type" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">アクション種別</span></li>
<li><a class="reference internal" href="#field_qualifier-enum">選択肢</a><span class="p">:</span><span class="w"> </span>&quot;NoAction&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;ExecuteJobflow&quot;</li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>&quot;NoAction&quot;</li>
</ul>
<p>メールチャネルがメッセージを受信したときに動作するアクションの種別を指定します。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>アクション種別</p></th>
<th class="head"><p>アクションの動作</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NoAction</p></td>
<td><p>何もしない</p></td>
</tr>
<tr class="row-odd"><td><p>ExecuteJobflow</p></td>
<td><p>アクションターゲットで指定したジョブフローを実行する</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.action_target">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">action_target</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#type_field-MailChannel.action_target" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">アクションターゲット</span></li>
<li><a class="reference internal" href="#field_qualifier-object">オブジェクトによる選択肢</a><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#type_field-MailChannel.action_type">action_type</a> フィールドに依存します</li>
</ul>
<p>アクション種別に応じて、処理対象となるアクションターゲットを指定します。
アクション種別が ExecuteJobflow の場合、実行するジョブフローを指定します。
そのジョブフローは第一パラメータに受信したメッセージを渡して、メールチャネルオブジェクトの所有者をユーザとして実行されます。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>アクション種別が ExecuteJobflow のときに指定するジョブフローは、
パラメータが少なくとも1つは必要で、2つめ以降のパラメータがある場合はデフォルト値定義が必要です。</p>
</div>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.log">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-LargeText"><span class="pre">LargeText</span></a></em><a class="headerlink" href="#type_field-MailChannel.log" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ログ</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>IMAP4/POP3 サーバの接続ログが格納されます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.logSize">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">logSize</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#type_field-MailChannel.logSize" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ログサイズ</span></li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>65536</li>
</ul>
<p>ログの最大サイズを指定します。最大サイズを超えた場合、古いログメッ
セージから削除されます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailChannel.disabled">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">disabled</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-MailChannel.disabled" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">無効</span></li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>true</li>
</ul>
<p>IMAP4/POP3 サーバへの接続を無効化します。</p>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.6 で変更: </span>timeout (受信タイムアウト) の表示名を接続タイムアウトに変更しました。
timeout と checkInterval に負の値を設定できないようにしました。
use_oauth2, oauth2_provider, refresh_token, access_token, token_expires_at の各フィールドが追加されました。
新しいフィールド receive_mode が追加されました。
新しいフィールド action_type, action_target が追加されました。
いくつかのフィールドの並び順が変更されました。</p>
</div>
</section>
<section id="id62">
<h4><span class="section-number">5.3.17.2. </span>メソッド<a class="headerlink" href="#id62" title="この見出しへのパーマリンク">¶</a></h4>
<p>メールチャネル型には以下のメソッドが定義されています。</p>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-MailChannel.conn_check">
<span class="sig-prename descclassname"><span class="pre">MailChannel.</span></span><span class="sig-name descname"><span class="pre">conn_check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#method-MailChannel.conn_check" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>設定されているIMAP4/POP3サーバに対して接続テスト(ユーザ名とパスワードによる認証、および、メールボックスの確認も含む)を行います。
接続に成功した場合は、<code class="docutils literal notranslate"><span class="pre">$STATUS</span></code> に 0 がセットされます。
失敗した場合には、<code class="docutils literal notranslate"><span class="pre">$STATUS</span></code> に 1 がセットされ、失敗の理由を示す文字列が <code class="docutils literal notranslate"><span class="pre">$ERROR</span></code> にセットされます。
disabled (無効) フラグがセットされている状態でも接続テストは実行されます。</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.6 で追加: </span>新規に conn_check メソッドが追加されました。</p>
</div>
</section>
</section>
<section id="form">
<span id="type_object-Form"></span><h3><span class="section-number">5.3.18. </span>フォーム (Form)<a class="headerlink" href="#form" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/Form">フォーム型</a> は、ユーザ入力フォームのビューを提供
するフォームオブジェクトの型を規定します。入力フォームの項目は、ユーザー
が自由に定義することができます。</p>
<p>ユーザがフォームを提出するとフォームに入力された情報は、辞書型のデータ
として、指定した提出オブジェクトに提出されます。提出オブジェクトがチャ
ネル型の場合、データはそのチャネルオブジェクトのメッセージキューに置か
れます。提出オブジェクトがジョブフローの場合、辞書データはそのジョブフ
ローのパラメータに展開され、実行を開始します。</p>
<section id="id64">
<h4><span class="section-number">5.3.18.1. </span>フィールド<a class="headerlink" href="#id64" title="この見出しへのパーマリンク">¶</a></h4>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Form.submitObject">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">submitObject</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#type_field-Form.submitObject" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">提出オブジェクト</span></li>
<li><a class="reference internal" href="#field_qualifier-object">オブジェクトによる選択肢</a><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#type_object-Jobflow">Jobflow</a><span class="w"> </span><span class="p">|</span><span class="w"> </span><a class="reference internal" href="#type_object-Channel">Channel</a></li>
<li><a class="reference internal" href="#field_qualifier-no_empty">選択必須フィールド</a></li>
</ul>
<p>フォームに入力されたデータの提出先オブジェクトを指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Form.fieldNames">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">fieldNames</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-Form.fieldNames" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">フィールド名の列</span></li>
</ul>
<p>入力フォームが持つフィールド名の一覧を配列として指定します。フィー
ルド名で使用できる文字列の規則は、ジョブフロー言語の識別子と同じで
す。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Form.fieldDisplayNames">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">fieldDisplayNames</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-Form.fieldDisplayNames" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">フィールド表示名の列</span></li>
</ul>
<p>入力フォームが持つフィールド表示名の一覧を配列として指定します。
フィールド表示名には任意の文字列を使用することができます。配列要素
の順序は、フィールド名の列と対応させる必要があります。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Form.fieldTypes">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">fieldTypes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-Form.fieldTypes" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">フィールド型の列</span></li>
</ul>
<p>入力フォームが持つフィールド型の一覧を配列として指定します。配列要
素の順序は、フィールド名の列と対応させる必要があります。</p>
</dd></dl>

</section>
<section id="id65">
<h4><span class="section-number">5.3.18.2. </span>メソッド<a class="headerlink" href="#id65" title="この見出しへのパーマリンク">¶</a></h4>
<p>フォーム型に特有のメソッドは特に定義されていません。</p>
<span class="target" id="lib-config"></span></section>
</section>
<section id="config">
<span id="type_object-Config"></span><h3><span class="section-number">5.3.19. </span>設定 (Config)<a class="headerlink" href="#config" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/Config">設定型</a> は、設定フォームのビューを提供する設定
オブジェクトの型を規定します。設定フォームの項目は、ユーザーが自由に定
義することができます。</p>
<p>ユーザが設定フォームを保存するとフォームに入力された情報は、辞書型のデー
タとして、設定オブジェクトの data プロパティに保存されます。</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">注釈</p>
<p>設定オブジェクトの設定情報(dataプロパティ)の変更には、当該オブ
ジェクトに対する実行可能(executable)権限が必要です。</p>
</div>
</div></blockquote>
<section id="id67">
<h4><span class="section-number">5.3.19.1. </span>フィールド<a class="headerlink" href="#id67" title="この見出しへのパーマリンク">¶</a></h4>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Config.fieldNames">
<span class="sig-prename descclassname"><span class="pre">Config.</span></span><span class="sig-name descname"><span class="pre">fieldNames</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-Config.fieldNames" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">フィールド名の列</span></li>
</ul>
<p>設定フォームが持つフィールド名の一覧を配列として指定します。フィー
ルド名で使用できる文字列の規則は、ジョブフロー言語の識別子と同じで
す。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Config.fieldDisplayNames">
<span class="sig-prename descclassname"><span class="pre">Config.</span></span><span class="sig-name descname"><span class="pre">fieldDisplayNames</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-Config.fieldDisplayNames" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">フィールド表示名の列</span></li>
</ul>
<p>設定フォームが持つフィールド表示名の一覧を配列として指定します。
フィールド表示名には任意の文字列を使用することができます。配列要素
の順序は、フィールド名の列と対応させる必要があります。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Config.fieldTypes">
<span class="sig-prename descclassname"><span class="pre">Config.</span></span><span class="sig-name descname"><span class="pre">fieldTypes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-Config.fieldTypes" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">フィールド型の列</span></li>
</ul>
<p>設定フォームが持つフィールド型の一覧を配列として指定します。配列要
素の順序は、フィールド名の列と対応させる必要があります。</p>
</dd></dl>

</section>
<section id="id68">
<h4><span class="section-number">5.3.19.2. </span>プロパティ<a class="headerlink" href="#id68" title="この見出しへのパーマリンク">¶</a></h4>
<p>設定型オブジェクトは、以下のプロパティを提供しています。</p>
<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Config.data">
<span class="sig-prename descclassname"><span class="pre">Config.</span></span><span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Dictionary"><span class="pre">Dictionary</span></a></em><a class="headerlink" href="#property-Config.data" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>設定フォームに入力されたデータ辞書の値です。</p>
</dd></dl>

</section>
<section id="id69">
<h4><span class="section-number">5.3.19.3. </span>メソッド<a class="headerlink" href="#id69" title="この見出しへのパーマリンク">¶</a></h4>
<p>設定型に特有のメソッドは特に定義されていません。</p>
</section>
</section>
<section id="library">
<span id="type_object-Library"></span><h3><span class="section-number">5.3.20. </span>ライブラリ (Library)<a class="headerlink" href="#library" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/Library">ライブラリ型</a> は、ジョブフローから呼び出し可
能な Python で実装されたライブラリを定義します。</p>
<section id="id71">
<h4><span class="section-number">5.3.20.1. </span>フィールド<a class="headerlink" href="#id71" title="この見出しへのパーマリンク">¶</a></h4>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Library.libraryType">
<span class="sig-prename descclassname"><span class="pre">Library.</span></span><span class="sig-name descname"><span class="pre">libraryType</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Enum"><span class="pre">Enum</span></a></em><a class="headerlink" href="#type_field-Library.libraryType" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ライブラリ種別</span></li>
<li><a class="reference internal" href="#field_qualifier-enum">選択肢</a><span class="p">:</span><span class="w"> </span>&quot;source&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;safe_source&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;module&quot;</li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>&quot;source&quot;</li>
</ul>
<p>ライブラリの定義方法を指定します。
'source' を選択すると、ソーステキストに格納された文字列が Python の
モジュールプログラムとしてロードされます。
'safe_source' を選択すると、ソーステキストに格納された文字列が安全
な Python のモジュールプログラムとしてロードされます。
'module' を選択すると、モジュールパスに指定された文字列が、Kompira
パッケージ内の kompira.library 以下のモジュールとしてロードされます。
デフォルト値は 'source' です。このフィールドはブラウザ上から編集す
ることはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Library.modulePath">
<span class="sig-prename descclassname"><span class="pre">Library.</span></span><span class="sig-name descname"><span class="pre">modulePath</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-Library.modulePath" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">モジュールパス</span></li>
</ul>
<p>ロードする Python ライブラリのモジュールパスを指定します。
libraryType が 'module' の時に使用されるフィールドです。
このフィールドはブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Library.sourceText">
<span class="sig-prename descclassname"><span class="pre">Library.</span></span><span class="sig-name descname"><span class="pre">sourceText</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-LargeText"><span class="pre">LargeText</span></a></em><a class="headerlink" href="#type_field-Library.sourceText" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ソーステキスト</span></li>
</ul>
<p>Python のソースコードを記述します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Library.document">
<span class="sig-prename descclassname"><span class="pre">Library.</span></span><span class="sig-name descname"><span class="pre">document</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-LargeText"><span class="pre">LargeText</span></a></em><a class="headerlink" href="#type_field-Library.document" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ドキュメント</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>Python モジュールのドキュメント文字列が格納されます。ロードエラー時
にはエラーメッセージが格納されます。
このフィールドはブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Library.executable">
<span class="sig-prename descclassname"><span class="pre">Library.</span></span><span class="sig-name descname"><span class="pre">executable</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-Library.executable" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">実行可能</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>Python モジュールが正しくロードされ、ジョブフローから呼び出し可能な
場合は true となります。ロードに失敗した場合は、false となります。
このフィールドはブラウザ上から編集することはできません。</p>
</dd></dl>

</section>
<section id="id72">
<h4><span class="section-number">5.3.20.2. </span>メソッド<a class="headerlink" href="#id72" title="この見出しへのパーマリンク">¶</a></h4>
<p>設定型に特有のメソッドは特に定義されていません。</p>
</section>
<section id="id73">
<h4><span class="section-number">5.3.20.3. </span>呼び出し例<a class="headerlink" href="#id73" title="この見出しへのパーマリンク">¶</a></h4>
<p>ライブラリオブジェクトでは、定義した Python の関数をジョブフローから呼
び出すことができます。たとえば、以下のような Python のプログラムをソー
ステキストとして test_lib オブジェクトを定義します。</p>
<p>Pythonプログラム</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def split(s):
    return s.split():

def hello():
    print(&#39;Hello, world!&#39;)
</pre></div>
</div>
<p>このライブラリで定義された関数を呼び出すジョブフローは以下のようになります。:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[str = &#39;foo bar baz&#39;]
-&gt; [result = ./test_lib.split(s)]
-&gt; [./test_lib.hello]
</pre></div>
</div>
<p>上記のジョブフローを実行すると、result 変数にはsplitの結果のリスト
['foo', 'bar', 'baz']が格納されます。また、ジョブフロープロセスのコンソー
ルには、&quot;Hello, world!&quot; が出力されます。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>ライブラリオブジェクトで定義する Python の関数名に、display_name や
update や delete といった、 Kompira オブジェクトにあらかじめ組み込
まれているプロパティ名 (<a class="reference internal" href="#lib-property"><span class="std std-ref">プロパティ</span></a>) やメソッド名
(<a class="reference internal" href="#lib-method"><span class="std std-ref">メソッド</span></a>) を使った場合、名前が衝突するため、その関数は呼
び出すことができません。</p>
</div>
</section>
</section>
<section id="mailtemplate">
<span id="type_object-MailTemplate"></span><h3><span class="section-number">5.3.21. </span>メールテンプレート (MailTemplate)<a class="headerlink" href="#mailtemplate" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/MailTemplate">メールテンプレート型</a> は、メールテンプレー
トオブジェクトの型を規定します。</p>
<section id="id75">
<h4><span class="section-number">5.3.21.1. </span>フィールド<a class="headerlink" href="#id75" title="この見出しへのパーマリンク">¶</a></h4>
<p>メールテンプレート型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailTemplate.subject">
<span class="sig-prename descclassname"><span class="pre">MailTemplate.</span></span><span class="sig-name descname"><span class="pre">subject</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-MailTemplate.subject" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">件名</span></li>
</ul>
<p>メールの件名となるテンプレート文字列を格納します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-MailTemplate.body">
<span class="sig-prename descclassname"><span class="pre">MailTemplate.</span></span><span class="sig-name descname"><span class="pre">body</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-LargeText"><span class="pre">LargeText</span></a></em><a class="headerlink" href="#type_field-MailTemplate.body" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">本文</span></li>
</ul>
<p>メールの本文となるテンプレート文字列を格納します。</p>
</dd></dl>

</section>
<section id="id76">
<h4><span class="section-number">5.3.21.2. </span>メソッド<a class="headerlink" href="#id76" title="この見出しへのパーマリンク">¶</a></h4>
<p>メールテンプレート型に特有のメソッドは特に定義されていません。</p>
</section>
</section>
<section id="text">
<span id="type_object-Text"></span><h3><span class="section-number">5.3.22. </span>テキスト (Text)<a class="headerlink" href="#text" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/Text">テキスト型</a> は、プレインテキストや HTML テキスト
を保持するテキストオブジェクトの型を規定します。</p>
<p>テキストオブジェクトは、http://&lt;Kompiraサーバ&gt;/&lt;テキストオブジェクト
&gt;.render にブラウザからアクセスすることで、テンプレートエンジンによって
レンダリングされたレンダービューを表示させることができます。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>テンプレートエンジンには、Jinja2 を使用しています。
テンプレートの記法については <a class="reference external" href="https://jinja.palletsprojects.com/en/latest/templates/">Jinja2 のドキュメント</a> を参照してください。</p>
<p>include や extends タグで、別のテキストオブジェクトのパス指定することで、テンプレートの取り込みや継承も可能です。</p>
</div>
<section id="id78">
<h4><span class="section-number">5.3.22.1. </span>フィールド<a class="headerlink" href="#id78" title="この見出しへのパーマリンク">¶</a></h4>
<p>テキスト型では、以下のフィールドを定義しています。</p>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Text.text">
<span class="sig-prename descclassname"><span class="pre">Text.</span></span><span class="sig-name descname"><span class="pre">text</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-LargeText"><span class="pre">LargeText</span></a></em><a class="headerlink" href="#type_field-Text.text" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">テキスト</span></li>
</ul>
<p>テキスト文字列を格納します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Text.ext">
<span class="sig-prename descclassname"><span class="pre">Text.</span></span><span class="sig-name descname"><span class="pre">ext</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-Text.ext" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">拡張子</span></li>
</ul>
<p>レンダービューを表示するブラウザアクセス用の拡張子を指定します。た
とえば、拡張子として &quot;html&quot; を指定すると、http://&lt;Kompiraサーバ&gt;/&lt;
テキストオブジェクトパス&gt;.html にアクセスするとレンダービューが表示
され、http://&lt;Kompiraサーバ&gt;/&lt;テキストオブジェクトパス&gt; にアクセス
すると通常のビューが表示されます。</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">注釈</p>
<p><code class="docutils literal notranslate"><span class="pre">update</span></code>, <code class="docutils literal notranslate"><span class="pre">delete</span></code>, <code class="docutils literal notranslate"><span class="pre">rename</span></code>, <code class="docutils literal notranslate"><span class="pre">property</span></code> は拡張子として設定することはできません。</p>
</div>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Text.contentType">
<span class="sig-prename descclassname"><span class="pre">Text.</span></span><span class="sig-name descname"><span class="pre">contentType</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-Text.contentType" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">コンテントタイプ</span></li>
</ul>
<p>テキストのコンテントタイプを指定します。コンテントタイプの指定を省
略した場合は、拡張子からコンテントタイプが推測されます。また、拡張
子の指定を省略し、コンテントタイプのみ指定した場合は、拡張子なしで
ブラウザアクセスした場合でも、通常ビューではなくレンダービューが表
示されます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-Text.context">
<span class="sig-prename descclassname"><span class="pre">Text.</span></span><span class="sig-name descname"><span class="pre">context</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#type_field-Text.context" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">コンテキスト</span></li>
<li><a class="reference internal" href="#field_qualifier-object">オブジェクトによる選択肢</a><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#type_object-Environment">Environment</a></li>
</ul>
<p>テンプレートに渡すコンテキストとして環境変数オブジェクトを指定しま
す。テンプレート中から環境変数のキー値を変数として参照することがで
きます。</p>
</dd></dl>

</section>
<section id="id79">
<h4><span class="section-number">5.3.22.2. </span>メソッド<a class="headerlink" href="#id79" title="この見出しへのパーマリンク">¶</a></h4>
<p>テキスト型には以下のメソッドが定義されています。</p>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Text.render">
<span class="sig-prename descclassname"><span class="pre">Text.</span></span><span class="sig-name descname"><span class="pre">render</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#method-Text.render" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>テンプレートエンジンによってレンダリングされたテキストを取得します。</p>
</dd></dl>

</section>
<section id="id80">
<h4><span class="section-number">5.3.22.3. </span>プロパティ<a class="headerlink" href="#id80" title="この見出しへのパーマリンク">¶</a></h4>
<p>テキスト型オブジェクトは、以下のプロパティを提供しています。</p>
<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Text.content_type">
<span class="sig-prename descclassname"><span class="pre">Text.</span></span><span class="sig-name descname"><span class="pre">content_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Text.content_type" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>推測されたコンテントタイプを示します。</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.4.7 で追加: </span>新規にテキスト型が追加されました。</p>
</div>
</section>
</section>
<section id="systeminfo">
<span id="type_object-SystemInfo"></span><h3><span class="section-number">5.3.23. </span>システム情報型 (SystemInfo)<a class="headerlink" href="#systeminfo" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/SystemInfo">システム情報型</a> は Kompira のシステム情報を提供するオブジェクトを定義します。</p>
<section id="id82">
<h4><span class="section-number">5.3.23.1. </span>フィールド<a class="headerlink" href="#id82" title="この見出しへのパーマリンク">¶</a></h4>
<p>システム情報型には固有のフィールドは定義されていません。</p>
</section>
<section id="id83">
<h4><span class="section-number">5.3.23.2. </span>メソッド<a class="headerlink" href="#id83" title="この見出しへのパーマリンク">¶</a></h4>
<p>システム情報型には固有のメソッドは定義されていません。</p>
</section>
<section id="id84">
<h4><span class="section-number">5.3.23.3. </span>プロパティ<a class="headerlink" href="#id84" title="この見出しへのパーマリンク">¶</a></h4>
<p>システム情報型オブジェクトは、以下のプロパティを提供しています。</p>
<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-SystemInfo.engine_started">
<span class="sig-prename descclassname"><span class="pre">SystemInfo.</span></span><span class="sig-name descname"><span class="pre">engine_started</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Datetime"><span class="pre">Datetime</span></a></em><a class="headerlink" href="#property-SystemInfo.engine_started" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Kompira エンジンの起動日時を示します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-SystemInfo.server_datetime">
<span class="sig-prename descclassname"><span class="pre">SystemInfo.</span></span><span class="sig-name descname"><span class="pre">server_datetime</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Datetime"><span class="pre">Datetime</span></a></em><a class="headerlink" href="#property-SystemInfo.server_datetime" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Kompira サーバの現在日時を示します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-SystemInfo.version">
<span class="sig-prename descclassname"><span class="pre">SystemInfo.</span></span><span class="sig-name descname"><span class="pre">version</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-SystemInfo.version" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Kompira のバージョン番号を示します。</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.4.8.post2 で追加: </span>新規にシステム情報型が追加されました。</p>
</div>
</section>
</section>
<section id="nodetype">
<span id="type_object-NodeType"></span><h3><span class="section-number">5.3.24. </span>ノード種別型 (NodeType)<a class="headerlink" href="#nodetype" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/NodeType">ノード種別型</a> は Kompira がリモートジョブで利用できる接続相手の情報を定義するものです。作成したノード種別型のオブジェクトは、ノード情報型オブジェクトの編集画面において、ノード種別フィールドの選択肢の一つとして表示されます。Kompira がサポートするノード種別オブジェクトは /system/nodetypes に定義されています。</p>
<section id="id86">
<h4><span class="section-number">5.3.24.1. </span>フィールド<a class="headerlink" href="#id86" title="この見出しへのパーマリンク">¶</a></h4>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-NodeType.conntypes">
<span class="sig-prename descclassname"><span class="pre">NodeType.</span></span><span class="sig-name descname"><span class="pre">conntypes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Dictionary"><span class="pre">Dictionary</span></a></em><a class="headerlink" href="#type_field-NodeType.conntypes" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">接続種別</span></li>
</ul>
<p>このノード種別が対応する接続種別を定義します。ノード情報オブジェクトの接続種別フィールドはこのフィールドをもとに選択肢を表示します。</p>
</dd></dl>

</section>
<section id="id87">
<h4><span class="section-number">5.3.24.2. </span>メソッド<a class="headerlink" href="#id87" title="この見出しへのパーマリンク">¶</a></h4>
<p>ノード種別型には固有のメソッドは定義されていません。</p>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.4 で追加: </span>新規にノード種別型が追加されました。</p>
</div>
</section>
</section>
<section id="customstyle">
<span id="type_object-CustomStyle"></span><h3><span class="section-number">5.3.25. </span>カスタムスタイル型 (CustomStyle)<a class="headerlink" href="#customstyle" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/CustomStyle">カスタムスタイル型</a> はブラウザで表示される画面の配色などを設定するカスタムスタイルオブジェクトの型を規定します。</p>
<section id="id89">
<h4><span class="section-number">5.3.25.1. </span>フィールド<a class="headerlink" href="#id89" title="この見出しへのパーマリンク">¶</a></h4>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-CustomStyle.mainBackColor">
<span class="sig-prename descclassname"><span class="pre">CustomStyle.</span></span><span class="sig-name descname"><span class="pre">mainBackColor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-CustomStyle.mainBackColor" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">メイン背景色</span></li>
</ul>
<p>メニューバー以外の領域の背景色を設定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-CustomStyle.menubarBackColor">
<span class="sig-prename descclassname"><span class="pre">CustomStyle.</span></span><span class="sig-name descname"><span class="pre">menubarBackColor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-CustomStyle.menubarBackColor" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">メニューバー背景色</span></li>
</ul>
<p>メニューバーの領域の背景色を設定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-CustomStyle.menubarTextColor">
<span class="sig-prename descclassname"><span class="pre">CustomStyle.</span></span><span class="sig-name descname"><span class="pre">menubarTextColor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-CustomStyle.menubarTextColor" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">メニューバー文字色</span></li>
</ul>
<p>メニューバーの領域の文字色を設定します。マウスオーバーしていないときは少し暗くなります。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-CustomStyle.invertMode">
<span class="sig-prename descclassname"><span class="pre">CustomStyle.</span></span><span class="sig-name descname"><span class="pre">invertMode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-CustomStyle.invertMode" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">反転モード</span></li>
</ul>
<p>チェックするとメニューバーを含む画面全体を反転されます。</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>背景色や文字色などの色情報については Web Colors を文字列で指定することが出来ます。<code class="docutils literal notranslate"><span class="pre">#000000</span></code>, <code class="docutils literal notranslate"><span class="pre">rgb(255,255,255)</span></code>, <code class="docutils literal notranslate"><span class="pre">blue</span></code> などが指定できます。</p>
</div>
</section>
<section id="id90">
<h4><span class="section-number">5.3.25.2. </span>メソッド<a class="headerlink" href="#id90" title="この見出しへのパーマリンク">¶</a></h4>
<p>カスタムスタイル型には固有のメソッドは定義されていません。</p>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.6 で追加: </span>新規にカスタムスタイル型が追加されました。</p>
</div>
</section>
</section>
<section id="oauth2-oauth2provider">
<span id="type_object-OAuth2Provider"></span><h3><span class="section-number">5.3.26. </span>OAuth2プロバイダ型 (OAuth2Provider)<a class="headerlink" href="#oauth2-oauth2provider" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/OAuth2Provider">OAuth2プロバイダ型</a> は OAuth2 認証で使用するサービスプロバイダの設定情報を定義するものです。
OAuth2 認証を利用する場合、サービスプロバイダへ Kompira をアプリケーションとして事前に登録しておき、登録情報にもとづいて OAuth2プロバイダ型オブジェクトを作成する必要があります。</p>
<section id="id91">
<h4><span class="section-number">5.3.26.1. </span>フィールド<a class="headerlink" href="#id91" title="この見出しへのパーマリンク">¶</a></h4>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-OAuth2Provider.client_id">
<span class="sig-prename descclassname"><span class="pre">OAuth2Provider.</span></span><span class="sig-name descname"><span class="pre">client_id</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-OAuth2Provider.client_id" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">クライアントID</span></li>
</ul>
<p>サービスプロバイダに登録したアプリケーションのクライアントIDを格納します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-OAuth2Provider.client_secret">
<span class="sig-prename descclassname"><span class="pre">OAuth2Provider.</span></span><span class="sig-name descname"><span class="pre">client_secret</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Password"><span class="pre">Password</span></a></em><a class="headerlink" href="#type_field-OAuth2Provider.client_secret" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">クライアントシークレット</span></li>
</ul>
<p>サービスプロバイダに登録したアプリケーションのクライアントシークレットを格納します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-OAuth2Provider.auth_endpoint">
<span class="sig-prename descclassname"><span class="pre">OAuth2Provider.</span></span><span class="sig-name descname"><span class="pre">auth_endpoint</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-URL"><span class="pre">URL</span></a></em><a class="headerlink" href="#type_field-OAuth2Provider.auth_endpoint" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">認証エンドポイント</span></li>
</ul>
<p>サービスプロバイダの認証エンドポイントを指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-OAuth2Provider.token_endpoint">
<span class="sig-prename descclassname"><span class="pre">OAuth2Provider.</span></span><span class="sig-name descname"><span class="pre">token_endpoint</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-URL"><span class="pre">URL</span></a></em><a class="headerlink" href="#type_field-OAuth2Provider.token_endpoint" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">トークンエンドポイント</span></li>
</ul>
<p>サービスプロバイダのトークンエンドポイントを指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-OAuth2Provider.scope">
<span class="sig-prename descclassname"><span class="pre">OAuth2Provider.</span></span><span class="sig-name descname"><span class="pre">scope</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-OAuth2Provider.scope" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">スコープ</span></li>
</ul>
<p>Kompira からのアクセスを許可するメール送受信のスコープを指定します。
スコープ名はサービスプロバイダ毎に固有に定義されているため、サービスプロバイダ側のドキュメントを参照して、メール送受信に必要なスコープ名を指定してください。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-OAuth2Provider.redirect_url">
<span class="sig-prename descclassname"><span class="pre">OAuth2Provider.</span></span><span class="sig-name descname"><span class="pre">redirect_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-URL"><span class="pre">URL</span></a></em><a class="headerlink" href="#type_field-OAuth2Provider.redirect_url" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">リダイレクトURL</span></li>
</ul>
<p>承認フロー完了後のリダイレクト先の URL を指定します。空の場合は自Kompiraサーバにリダイレクトします。</p>
</dd></dl>

</section>
<section id="id92">
<h4><span class="section-number">5.3.26.2. </span>メソッド<a class="headerlink" href="#id92" title="この見出しへのパーマリンク">¶</a></h4>
<p>OAuth2プロバイダ型には固有のメソッドは定義されていません。</p>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.6 で追加: </span>新規に OAuth2プロバイダ型が追加されました。</p>
</div>
</section>
</section>
<section id="smtp-smtpserver">
<span id="type_object-SmtpServer"></span><h3><span class="section-number">5.3.27. </span>SMTPサーバ型 (SmtpServer)<a class="headerlink" href="#smtp-smtpserver" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/SmtpServer">SMTPサーバ型</a> は Kompira からメール送信時に利用できる SMTP サーバの設定情報を定義するものです。
作成した SMTP サーバ型オブジェクトは、mailto 組み込みジョブの smtp_server パラメータに渡すことで、ジョブフローからのメール送信時に利用する SMTP サーバを指定できます。</p>
<section id="id93">
<h4><span class="section-number">5.3.27.1. </span>フィールド<a class="headerlink" href="#id93" title="この見出しへのパーマリンク">¶</a></h4>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-SmtpServer.hostname">
<span class="sig-prename descclassname"><span class="pre">SmtpServer.</span></span><span class="sig-name descname"><span class="pre">hostname</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-SmtpServer.hostname" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ホスト名</span></li>
</ul>
<p>SMTP サーバのホスト名を指定します。空に設定した場合は localhost として扱われます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-SmtpServer.port">
<span class="sig-prename descclassname"><span class="pre">SmtpServer.</span></span><span class="sig-name descname"><span class="pre">port</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#type_field-SmtpServer.port" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ポート番号</span></li>
<li><a class="reference internal" href="#field_qualifier-min_value">最小値</a><span class="p">:</span><span class="w"> </span>0</li>
<li><a class="reference internal" href="#field_qualifier-max_value">最大値</a><span class="p">:</span><span class="w"> </span>65535</li>
</ul>
<p>SMTP サーバの接続ポート番号を指定します。空に設定した場合、通常は 25 番ポート、TLS接続の場合は 587 番ポート、SSL (SMTPS) 接続の場合は 465 番ポートで接続します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-SmtpServer.username">
<span class="sig-prename descclassname"><span class="pre">SmtpServer.</span></span><span class="sig-name descname"><span class="pre">username</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-SmtpServer.username" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ユーザー名</span></li>
</ul>
<p>SMTP サーバの接続に認証が必要な場合、ユーザー名を設定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-SmtpServer.password">
<span class="sig-prename descclassname"><span class="pre">SmtpServer.</span></span><span class="sig-name descname"><span class="pre">password</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Password"><span class="pre">Password</span></a></em><a class="headerlink" href="#type_field-SmtpServer.password" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">パスワード</span></li>
</ul>
<p>SMTP サーバの接続に認証が必要な場合、パスワードを設定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-SmtpServer.timeout">
<span class="sig-prename descclassname"><span class="pre">SmtpServer.</span></span><span class="sig-name descname"><span class="pre">timeout</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#type_field-SmtpServer.timeout" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">接続タイムアウト</span></li>
<li><a class="reference internal" href="#field_qualifier-min_value">最小値</a><span class="p">:</span><span class="w"> </span>0</li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>60</li>
</ul>
<p>SMTP サーバに対する接続タイムアウトを秒単位で指定します。
空、もしくは、0を設定すると、TCP/IP接続におけるシステムのデフォルトのタイムアウトとなります。
デフォルトは 60 秒です。負の値を設定することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-SmtpServer.use_tls">
<span class="sig-prename descclassname"><span class="pre">SmtpServer.</span></span><span class="sig-name descname"><span class="pre">use_tls</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-SmtpServer.use_tls" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">TLS使用</span></li>
</ul>
<p>SMTP サーバへ TLS を用いて接続する場合はチェックします。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-SmtpServer.use_ssl">
<span class="sig-prename descclassname"><span class="pre">SmtpServer.</span></span><span class="sig-name descname"><span class="pre">use_ssl</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-SmtpServer.use_ssl" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">SSL使用</span></li>
</ul>
<p>SMTP サーバへ SSL (SMTPS) を用いて接続する場合はチェックします。
TLS と同時に使用することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-SmtpServer.use_oauth2">
<span class="sig-prename descclassname"><span class="pre">SmtpServer.</span></span><span class="sig-name descname"><span class="pre">use_oauth2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-SmtpServer.use_oauth2" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">OAuth2使用</span></li>
</ul>
<p>OAuth2 を用いて認証する場合はチェックします。この場合、パスワードの設定は不要となります。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-SmtpServer.oauth2_provider">
<span class="sig-prename descclassname"><span class="pre">SmtpServer.</span></span><span class="sig-name descname"><span class="pre">oauth2_provider</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#type_field-SmtpServer.oauth2_provider" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">OAuth2プロバイダ</span></li>
<li><a class="reference internal" href="#field_qualifier-object">オブジェクトによる選択肢</a><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#type_object-OAuth2Provider">OAuth2Provider</a></li>
</ul>
<p>OAuth2 のサービスプロバイダを選択します。OAuth2 認証を利用する場合には必須です。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-SmtpServer.refresh_token">
<span class="sig-prename descclassname"><span class="pre">SmtpServer.</span></span><span class="sig-name descname"><span class="pre">refresh_token</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Password"><span class="pre">Password</span></a></em><a class="headerlink" href="#type_field-SmtpServer.refresh_token" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">リフレッシュトークン</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>OAuth2 認証によって取得したリフレッシュトークンが格納されます。
隠しフィールドとなっており、ブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-SmtpServer.access_token">
<span class="sig-prename descclassname"><span class="pre">SmtpServer.</span></span><span class="sig-name descname"><span class="pre">access_token</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Password"><span class="pre">Password</span></a></em><a class="headerlink" href="#type_field-SmtpServer.access_token" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">アクセストークン</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>OAuth2 認証によって取得したアクセストークンが格納されます。
隠しフィールドとなっており、ブラウザ上から編集することはできません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-SmtpServer.token_expires_at">
<span class="sig-prename descclassname"><span class="pre">SmtpServer.</span></span><span class="sig-name descname"><span class="pre">token_expires_at</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Datetime"><span class="pre">Datetime</span></a></em><a class="headerlink" href="#type_field-SmtpServer.token_expires_at" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">トークン有効期限</span></li>
<li><a class="reference internal" href="#field_qualifier-invisible">不可視フィールド</a></li>
</ul>
<p>アクセストークンの有効期限が格納されます。
隠しフィールドとなっており、ブラウザ上から編集することはできません。</p>
</dd></dl>

</section>
<section id="id94">
<h4><span class="section-number">5.3.27.2. </span>メソッド<a class="headerlink" href="#id94" title="この見出しへのパーマリンク">¶</a></h4>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-SmtpServer.conn_check">
<span class="sig-prename descclassname"><span class="pre">SmtpServer.</span></span><span class="sig-name descname"><span class="pre">conn_check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#method-SmtpServer.conn_check" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>設定されているSMTPサーバに対して接続テストを行います。
接続に成功した場合は、<code class="docutils literal notranslate"><span class="pre">$STATUS</span></code> に 0 がセットされます。
失敗した場合には、<code class="docutils literal notranslate"><span class="pre">$STATUS</span></code> に 1 がセットされ、失敗の理由を示す文字列が <code class="docutils literal notranslate"><span class="pre">$ERROR</span></code> にセットされます。
ユーザー名とパスワードのいずれかの設定が空の場合、SMTPサーバに対する接続確認は行いますが、ユーザー認証の確認までは行わないません。
このため、ログインが必要なSMTPサーバではメール送信時にエラーとなることがあります。</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.6 で追加: </span>新規に SMTP サーバ型が追加されました。</p>
</div>
</section>
</section>
<section id="ldap-ldapserver">
<span id="type_object-LdapServer"></span><h3><span class="section-number">5.3.28. </span>LDAPサーバ型 (LdapServer)<a class="headerlink" href="#ldap-ldapserver" title="この見出しへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="/system/types/LdapServer">LDAPサーバ型</a> は Kompira ログインアカウントを LDAP 連携するために利用する LDAP サーバの設定情報を定義するものです。</p>
<section id="id95">
<h4><span class="section-number">5.3.28.1. </span>フィールド<a class="headerlink" href="#id95" title="この見出しへのパーマリンク">¶</a></h4>
<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.server_url">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">server_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-URL"><span class="pre">URL</span></a></em><a class="headerlink" href="#type_field-LdapServer.server_url" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">サーバURL</span></li>
<li><a class="reference internal" href="#lib-qualifier"><span class="std std-ref">その他のフィールド修飾子</span></a><span class="p">:</span><span class="w"> </span>{&quot;schemes&quot;: [&quot;ldap&quot;, &quot;ldaps&quot;]}</li>
</ul>
<p>LDAP サーバの接続URLを指定します。URLスキームとして ldap もしくは ldaps のいずれかを指定することができます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.timeout">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">timeout</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#type_field-LdapServer.timeout" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">接続タイムアウト(秒)</span></li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>10</li>
</ul>
<p>LDAP サーバに対する接続タイムアウトを秒単位で指定します。空、もしくは、負の値に設定した場合、システムのTCP接続タイムアウトが用いられます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.use_starttls">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">use_starttls</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-LdapServer.use_starttls" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">STARTTLS使用</span></li>
</ul>
<p>LDAP サーバへの接続に STARTTLS を用いる場合にセットします。ldaps で接続する場合には、この設定は無視されます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.fallback_login">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">fallback_login</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#type_field-LdapServer.fallback_login" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">フォールバックログイン</span></li>
</ul>
<p>LDAPログイン失敗時に、直近にログインした際のパスワードによるログインを許可する場合にセットします。
この場合、LDAP側でユーザが削除された場合でも、過去に一度でもLDAPユーザでログインしていれば、
引き続きログインできることに注意してください。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.session_expiration">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">session_expiration</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Float"><span class="pre">Float</span></a></em><a class="headerlink" href="#type_field-LdapServer.session_expiration" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">セッション有効期間(時間)</span></li>
<li><a class="reference internal" href="#field_qualifier-min_value">最小値</a><span class="p">:</span><span class="w"> </span>0</li>
<li><a class="reference internal" href="#field_qualifier-max_value">最大値</a><span class="p">:</span><span class="w"> </span>10000000</li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>0</li>
</ul>
<p>LDAPユーザでログインした場合のセッションの有効期間を時間単位で指定します。
0 をセットするとブラウザを閉じたときにセッションが破棄されます。
空にした場合は、有効期間はシステムのデフォルト(2週間=336時間)となります。
デフォルトは 0 です。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.bind_dn">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">bind_dn</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-LdapServer.bind_dn" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">バインドDN</span></li>
</ul>
<p>LDAP サーバへのバインド DN を指定します。空にした場合、匿名バインドを用います。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.bind_password">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">bind_password</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Password"><span class="pre">Password</span></a></em><a class="headerlink" href="#type_field-LdapServer.bind_password" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">バインドパスワード</span></li>
</ul>
<p>LDAP サーバへのバインド時のパスワードを指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.user_search_dn">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">user_search_dn</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-LdapServer.user_search_dn" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ユーザー検索DN</span></li>
</ul>
<p>ユーザ検索の基点となる DN を指定します。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.user_search_scope">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">user_search_scope</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Enum"><span class="pre">Enum</span></a></em><a class="headerlink" href="#type_field-LdapServer.user_search_scope" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ユーザー検索スコープ</span></li>
<li><a class="reference internal" href="#field_qualifier-enum">選択肢</a><span class="p">:</span><span class="w"> </span>&quot;BASE&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;ONELEVEL&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;SUBTREE&quot;</li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>&quot;SUBTREE&quot;</li>
</ul>
<p>ユーザ検索の基点からのスコープを BASE, ONELEVEL, SUBTREE の中から指定します。BASEはユーザ検索DNが示すオブジェクト自身が対象、
ONELEVELはオブジェクトの直下の子オブジェクトが対象、SUBTREEはオブジェクト自身とその子孫オブジェクト全てが対象となります。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.user_search_attribute">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">user_search_attribute</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-LdapServer.user_search_attribute" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ユーザー検索属性</span></li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>&quot;name&quot;</li>
</ul>
<p>ユーザ検索の対象となるオブジェクトの属性中からユーザ名が格納されているものを指定します。
ログイン時に入力したユーザ名でオブジェクトを検索する際に、ここで指定した属性が用いられます。
デフォルトは &quot;name&quot; です。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.target_users">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">target_users</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-LdapServer.target_users" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">対象ユーザ</span></li>
</ul>
<p>LDAP連携するユーザ名のリストを指定します。空の場合、検索対象に含まれる全てのユーザが対象となります。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.required_group_dn">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">required_group_dn</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-LdapServer.required_group_dn" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">所属グループDN</span></li>
</ul>
<p>LDAP連携するユーザが所属するグループのDNを指定します。複数指定した場合、ユーザはいずれかのグループに所属している必要があります。
空の場合、検索対象に含まれる全てのユーザが対象となります。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.group_search_dn">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">group_search_dn</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-LdapServer.group_search_dn" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">グループ検索DN</span></li>
</ul>
<p>グループ検索の基点となる DN を指定します。
空の場合、LDAPのグループはKompiraのグループに反映されません。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.group_search_scope">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">group_search_scope</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Enum"><span class="pre">Enum</span></a></em><a class="headerlink" href="#type_field-LdapServer.group_search_scope" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">グループ検索スコープ</span></li>
<li><a class="reference internal" href="#field_qualifier-enum">選択肢</a><span class="p">:</span><span class="w"> </span>&quot;BASE&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;ONELEVEL&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;SUBTREE&quot;</li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>&quot;SUBTREE&quot;</li>
</ul>
<p>グループ検索の基点からの検索対象のスコープを BASE, ONELEVEL, SUBTREE の中から指定します。BASEはユーザ検索DNが示すオブジェクト自身が対象、
ONELEVELはオブジェクトの直下の子オブジェクトが対象、SUBTREEはオブジェクト自身とその子孫オブジェクト全てが対象となります。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.group_search_class">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">group_search_class</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-LdapServer.group_search_class" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">グループ検索クラス</span></li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>&quot;group&quot;</li>
</ul>
<p>グループ検索の対象となるオブジェクト中からフィルタするクラス (objectClass) を指定します。デフォルトは &quot;group&quot; です。
空にした場合は、すべてのオブジェクトが対象となります。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.group_type">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">group_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Enum"><span class="pre">Enum</span></a></em><a class="headerlink" href="#type_field-LdapServer.group_type" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">グループ種別</span></li>
<li><a class="reference internal" href="#field_qualifier-enum">選択肢</a><span class="p">:</span><span class="w"> </span>&quot;PosixGroup&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;GroupOfNames&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;NestedGroupOfNames&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;GroupOfUniqueNames&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;NestedGroupOfUniqueNames&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;ActiveDirectoryGroup&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;NestedActiveDirectoryGroup&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;OrganizationalRoleGroup&quot;<span class="w"> </span><span class="p">|</span><span class="w"> </span>&quot;NestedOrganizationalRoleGroup&quot;</li>
</ul>
<p>グループ検索の対象となるグループの種類を指定します。種類によってグループに所属するメンバーの判定に使用する属性名が異なります。
<cite>Nested</cite> で始まる種類を選択すると、グループが他のグループを含むような場合も対象となります。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.mirror_groups">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">mirror_groups</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-Array"><span class="pre">Array</span></a></em><a class="headerlink" href="#type_field-LdapServer.mirror_groups" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">反映グループ</span></li>
</ul>
<p>LDAPユーザが所属するLDAPのグループをKompiraのグループに反映させるグループ名を指定します。
空の場合は、すべてのグループが反映されます。
Kompiraにグループオブジェクトが登録されていない場合は自動的に作成されます。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.user_data_first_name">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">user_data_first_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-LdapServer.user_data_first_name" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ユーザデータ(名)</span></li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>&quot;givenName&quot;</li>
</ul>
<p>LDAPユーザの名 (first name) をKompiraのユーザオブジェクトに反映させる場合に、名が格納されているLDAPユーザの属性を指定します。
デフォルトは &quot;givenName&quot; です。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.user_data_last_name">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">user_data_last_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-LdapServer.user_data_last_name" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ユーザデータ(姓)</span></li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>&quot;sn&quot;</li>
</ul>
<p>LDAPユーザの姓 (last name) をKompiraのユーザオブジェクトに反映させる場合に、姓が格納されているLDAPユーザの属性を指定します。
デフォルトは &quot;sn&quot; です。</p>
</dd></dl>

<dl class="kompira type_field">
<dt class="sig sig-object kompira" id="type_field-LdapServer.user_data_email">
<span class="sig-prename descclassname"><span class="pre">LdapServer.</span></span><span class="sig-name descname"><span class="pre">user_data_email</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#field_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#type_field-LdapServer.user_data_email" title="この定義へのパーマリンク">¶</a></dt>
<dd><ul>
<li>表示名<span class="p">:</span><span class="w"> </span><span class="sig-name descname">ユーザデータ(Email)</span></li>
<li><a class="reference internal" href="#field_qualifier-default">デフォルト値</a><span class="p">:</span><span class="w"> </span>&quot;mail&quot;</li>
</ul>
<p>LDAPユーザのEメールアドレスをKompiraのユーザオブジェクトに反映させる場合に、Eメールアドレスが格納されているLDAPユーザの属性を指定します。
デフォルトは &quot;mail&quot; です。</p>
</dd></dl>

</section>
<section id="id96">
<h4><span class="section-number">5.3.28.2. </span>メソッド<a class="headerlink" href="#id96" title="この見出しへのパーマリンク">¶</a></h4>
<p>LDAPサーバ型には固有のメソッドは定義されていません。</p>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.8 で追加: </span>新規に LDAP サーバ型が追加されました。</p>
</div>
</section>
</section>
</section>
<section id="id97">
<h2><span class="section-number">5.4. </span>特殊オブジェクト<a class="headerlink" href="#id97" title="この見出しへのパーマリンク">¶</a></h2>
<p>特殊オブジェクトは、通常のオブジェクトとは異なり、Kompiraの型オブジェク
トによって規定されていない組み込みのオブジェクトです。その種類毎に固有
のプロパティとメソッドを備えています。フィールドは持ちません。</p>
<section id="process">
<span id="virtual_model-Process"></span><h3><span class="section-number">5.4.1. </span>プロセス (Process)<a class="headerlink" href="#process" title="この見出しへのパーマリンク">¶</a></h3>
<p>ジョブフローの実行時のプロセス情報を表すオブジェクトです。</p>
<section id="id98">
<h4><span class="section-number">5.4.1.1. </span>プロパティ<a class="headerlink" href="#id98" title="この見出しへのパーマリンク">¶</a></h4>
<p>プロセスオブジェクトで定義されているフィールドは以下のとおりです。</p>
<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.checkpoint_mode">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">checkpoint_mode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#property-Process.checkpoint_mode" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスがチェックポイントモードで実行している場合は true、そうでな
い場合は false が設定されます。書き込み可能なプロパティです。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.children">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">children</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-LazyArray"><span class="pre">LazyArray</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#virtual_model-Process"><span class="pre">Process</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#property-Process.children" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>子プロセスの一覧となる検索結果を返します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.console">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">console</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Process.console" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>コンソールに表示されている文字列です。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.current_job">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">current_job</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#property-Process.current_job" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスの現在実行しているジョブフローオブジェクト、もしくはスクリ
プトジョブオブジェクトが格納されます。ジョブフローの中から別のジョ
ブフローを呼び出すと、current_job の値が変更されます。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.elapsed_time">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">elapsed_time</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Timedelta"><span class="pre">Timedelta</span></a></em><a class="headerlink" href="#property-Process.elapsed_time" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスの実行経過時間を表します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.error">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">error</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">any</span></em><a class="headerlink" href="#property-Process.error" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセス終了時の $ERROR の値が格納されます。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.exit_status">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">exit_status</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#property-Process.exit_status" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセス終了時のステータスコードが格納されます。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.finished_time">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">finished_time</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Datetime"><span class="pre">Datetime</span></a></em><a class="headerlink" href="#property-Process.finished_time" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスの実行終了した日時です。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.invoker">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">invoker</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#property-Process.invoker" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスがオブジェクトから起動された場合、該当するオブジェクトが格納されます。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>プロセスの起動方法</p></th>
<th class="head"><p>invoker に記録されるオブジェクト</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>スタートアップジョブフロー</p></td>
<td><p>スタートアップディレクトリ</p></td>
</tr>
<tr class="row-odd"><td><p>フォームからジョブフロー実行</p></td>
<td><p>フォームオブジェクト</p></td>
</tr>
<tr class="row-even"><td><p>テーブルからジョブフロー実行</p></td>
<td><p>テーブルオブジェクト</p></td>
</tr>
<tr class="row-odd"><td><p>チャネルのアクションによるジョブフロー実行</p></td>
<td><p>チャネルオブジェクト</p></td>
</tr>
<tr class="row-even"><td><p>メールチャネルのアクションによるジョブフロー実行</p></td>
<td><p>メールチャネルオブジェクト</p></td>
</tr>
</tbody>
</table>
<p>上記以外の、ジョブフローを直接実行した場合やスケジューラから起動された場合などは null が格納されます。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.job">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">job</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#property-Process.job" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスを開始したジョブフロー、もしくは、スクリプトジョブオブジェ
クトを表します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.monitoring_mode">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">monitoring_mode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Process.monitoring_mode" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスの監視モードを表す文字列です。書き込み可能なプロパティです。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>文字列</p></th>
<th class="head"><p>監視モード</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NOTHING</p></td>
<td><p>メール通知しない</p></td>
</tr>
<tr class="row-odd"><td><p>MAIL</p></td>
<td><p>プロセス終了時にメール通知する</p></td>
</tr>
<tr class="row-even"><td><p>ABORT_MAIL</p></td>
<td><p>プロセス異常終了時にメール通知する</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.pid">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">pid</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Integer"><span class="pre">Integer</span></a></em><a class="headerlink" href="#property-Process.pid" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセス IDです。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.parent">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">parent</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#property-Process.parent" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>親プロセスのジョブフローオブジェクトです。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.result">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">result</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">any</span></em><a class="headerlink" href="#property-Process.result" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセス終了時の $RESULT の値が格納されます。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.schedule">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">schedule</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#virtual_model-Schedule"><span class="pre">Schedule</span></a></em><a class="headerlink" href="#property-Process.schedule" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスがスケジューラから起動された場合、該当するスケジュールオブジェクトが格納されます。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.started_time">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">started_time</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Datetime"><span class="pre">Datetime</span></a></em><a class="headerlink" href="#property-Process.started_time" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスを実行開始した日時です。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.status">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">status</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Process.status" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスの実行状態を表す文字列です。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>文字列</p></th>
<th class="head"><p>実行状態</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NEW</p></td>
<td><p>新規（開始待ち）</p></td>
</tr>
<tr class="row-odd"><td><p>READY</p></td>
<td><p>実行可能</p></td>
</tr>
<tr class="row-even"><td><p>RUNNING</p></td>
<td><p>実行中</p></td>
</tr>
<tr class="row-odd"><td><p>WAITING</p></td>
<td><p>入力/コマンド完了待ち</p></td>
</tr>
<tr class="row-even"><td><p>ABORTED</p></td>
<td><p>異常終了</p></td>
</tr>
<tr class="row-odd"><td><p>DONE</p></td>
<td><p>実行完了</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.step_mode">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">step_mode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#property-Process.step_mode" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスがステップ実行モードで実行している場合は true、そうでない場
合は false が設定されます。書き込み可能なプロパティです。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.suspended">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">suspended</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#property-Process.suspended" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスが一時停止状態の場合は true、そうでない場合はfalseとなります。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Process.user">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">user</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#virtual_model-User"><span class="pre">User</span></a></em><a class="headerlink" href="#property-Process.user" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスの実行ユーザーです。特権ユーザーに限り、実行ユーザーを変更することができます。</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.5.0.post1 で追加: </span>monitoring_mode が追加されました。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.6 で追加: </span>プロパティ invoker が追加されました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.8 で変更: </span>プロパティ children を LazyArray 型に変更しました。</p>
</div>
</section>
<section id="id99">
<h4><span class="section-number">5.4.1.2. </span>メソッド<a class="headerlink" href="#id99" title="この見出しへのパーマリンク">¶</a></h4>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Process.delete">
<span class="sig-prename descclassname"><span class="pre">Process.</span></span><span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#method-Process.delete" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスオブジェクトを削除します。</p>
</dd></dl>

</section>
</section>
<section id="virtual_object-ProcessRoot">
<span id="id100"></span><h3><span class="section-number">5.4.2. </span>プロセス一覧 (/process)<a class="headerlink" href="#virtual_object-ProcessRoot" title="この見出しへのパーマリンク">¶</a></h3>
<p>プロセス一覧 (/process) は、プロセスオブジェクトのリストを保持するオブ
ジェクトであり、仮想オブジェクト (Virtual) として実装されています。</p>
<p>以下のように for や pfor ブロックにおいて、各プロセスオブジェクトに対し
て繰り返し処理を行うことが可能です。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{ for p in /process |
    print(p)
}
</pre></div>
</div>
<section id="id101">
<h4><span class="section-number">5.4.2.1. </span>メソッド<a class="headerlink" href="#id101" title="この見出しへのパーマリンク">¶</a></h4>
<p>プロセス一覧 には以下のメソッドが定義されています。</p>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-ProcessRoot.find">
<span class="sig-prename descclassname"><span class="pre">ProcessRoot.</span></span><span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">...params</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-LazyArray"><span class="pre">LazyArray</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#virtual_model-Process"><span class="pre">Process</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#method-ProcessRoot.find" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセス一覧の中から params で指定したフィルタリング条件に該当するプロセスの検索結果を返します。
params には <a class="reference internal" href="#directory-find"><span class="std std-ref">Directory.find()</span></a> メソッドと同様にフィルタリングを指定することができます。</p>
<p>指定可能な属性とルックアップは以下のとおりです。</p>
<table class="longtable docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>属性名</p></th>
<th class="head"><p>指定できるルックアップ</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">job</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">started_time</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">gt</span></code>, <code class="docutils literal notranslate"><span class="pre">gte</span></code>, <code class="docutils literal notranslate"><span class="pre">lt</span></code>, <code class="docutils literal notranslate"><span class="pre">lte</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">finished_time</span></code></p></td>
<td><p>同上</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">status</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">schedule</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">invoker</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">isnull</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">parent</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">current_job</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">suspended</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lineno</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">gt</span></code>, <code class="docutils literal notranslate"><span class="pre">gte</span></code>, <code class="docutils literal notranslate"><span class="pre">lt</span></code>, <code class="docutils literal notranslate"><span class="pre">lte</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">console</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">iexact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code>, <code class="docutils literal notranslate"><span class="pre">icontains</span></code>, <code class="docutils literal notranslate"><span class="pre">startswith</span></code>, <code class="docutils literal notranslate"><span class="pre">istartswith</span></code>,
<code class="docutils literal notranslate"><span class="pre">endswith</span></code>, <code class="docutils literal notranslate"><span class="pre">iendswith</span></code>, <code class="docutils literal notranslate"><span class="pre">regex</span></code>, <code class="docutils literal notranslate"><span class="pre">iregex</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.3 で追加: </span>find メソッドが追加されました。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.6 で追加: </span>指定可能な属性に invoker が追加されました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.8 で変更: </span>find() メソッドの結果を LazyArray 型に変更しました。</p>
</div>
</section>
</section>
<section id="schedule">
<span id="virtual_model-Schedule"></span><h3><span class="section-number">5.4.3. </span>スケジュール (Schedule)<a class="headerlink" href="#schedule" title="この見出しへのパーマリンク">¶</a></h3>
<p>スケジュールオブジェクトは、Kompira のスケジューラに登録されたスケジュー
ルを表します。</p>
<section id="id102">
<h4><span class="section-number">5.4.3.1. </span>プロパティ<a class="headerlink" href="#id102" title="この見出しへのパーマリンク">¶</a></h4>
<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Schedule.day">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">day</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Schedule.day" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュールを実行する日(1 ～ 31)を表します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Schedule.day_of_week">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">day_of_week</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Schedule.day_of_week" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュールを実行する曜日名、もしくは、曜日番号を表します。0(月曜日)-6(日曜日)、または mon,tue,wed,thu,fri,sat,sunを指定します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Schedule.description">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Schedule.description" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュールの内容を説明する文字列が格納されます。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Schedule.disabled">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">disabled</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#property-Schedule.disabled" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュールの無効化を示すフィールドです。スケジュールが無効な場合はtrue、有効な場合はfalseとなります。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Schedule.hour">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">hour</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Schedule.hour" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュールを実行する時(0 ～ 23)を表します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Schedule.job">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">job</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a></em><a class="headerlink" href="#property-Schedule.job" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュールによって実行されるジョブフロー、もしくは、スクリプトジョブが格納されます。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Schedule.minute">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">minute</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Schedule.minute" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュールを実行する分(0 ～ 59)を表します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Schedule.month">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">month</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Schedule.month" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュールを実行する月(1 ～ 12)を表します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Schedule.name">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Schedule.name" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュールの名称を表す文字列です。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Schedule.next_run_time">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">next_run_time</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Datetime"><span class="pre">Datetime</span></a></em><a class="headerlink" href="#property-Schedule.next_run_time" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュールが有効な場合、次に実行される日時が格納されます。(読み取り専用)</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Schedule.parameters">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">parameters</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Array"><span class="pre">Array</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#property-Schedule.parameters" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ジョブフローやスクリプトに渡すパラメータの文字列が可能されます。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Schedule.user">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">user</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#virtual_model-User"><span class="pre">User</span></a></em><a class="headerlink" href="#property-Schedule.user" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュールのユーザーです。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Schedule.week">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">week</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Schedule.week" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュールを実行するISO週番号(1 ～ 53)を表します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Schedule.year">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">year</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Schedule.year" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュールを実行する年(4桁の数字)を表します。</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>上記、プロパティのうち、実行日時を指定するフィールドについては、<a class="reference internal" href="usage.html#scheduler-format"><span class="std std-ref">日時設定フィールドの書式</span></a>
が使用できます。</p>
</div>
</section>
<section id="id103">
<h4><span class="section-number">5.4.3.2. </span>メソッド<a class="headerlink" href="#id103" title="この見出しへのパーマリンク">¶</a></h4>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-Schedule.delete">
<span class="sig-prename descclassname"><span class="pre">Schedule.</span></span><span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#method-Schedule.delete" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュールオブジェクトを削除します。</p>
</dd></dl>

</section>
</section>
<section id="scheduler">
<span id="virtual_object-SchedulerRoot"></span><h3><span class="section-number">5.4.4. </span>スケジュール一覧 (/scheduler)<a class="headerlink" href="#scheduler" title="この見出しへのパーマリンク">¶</a></h3>
<p>スケジュール一覧 (/scheduler) は、スケジュールオブジェクトのリストを保
持するオブジェクトであり、仮想オブジェクト (Virtual) として実装されてい
ます。スケジュール一覧は、for や pfor ブロックで用いることで、各スケ
ジュールオブジェクトを繰り返し処理することが可能です。</p>
<section id="id104">
<h4><span class="section-number">5.4.4.1. </span>メソッド<a class="headerlink" href="#id104" title="この見出しへのパーマリンク">¶</a></h4>
<p>スケジュール一覧 には以下のメソッドが定義されています。</p>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-SchedulerRoot.add">
<span class="sig-prename descclassname"><span class="pre">SchedulerRoot.</span></span><span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datetime</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#virtual_model-Schedule"><span class="pre">Schedule</span></a></em><a class="headerlink" href="#method-SchedulerRoot.add" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュール一覧に、name で指定された名前を持ち、job で指定されたジョ
ブフローまたはスクリプトジョブを実行するスケジュールを追加します。
parameters 引数にジョブフローやスクリプトジョブの実行時に与えるパラ
メータリストをオプションとして指定することができます。オプショナル
な datetime 引数にジョブの実行日時を表す日時型の値を指定することが
できます。</p>
</dd></dl>

<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-SchedulerRoot.find">
<span class="sig-prename descclassname"><span class="pre">SchedulerRoot.</span></span><span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">...params</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-LazyArray"><span class="pre">LazyArray</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#virtual_model-Schedule"><span class="pre">Schedule</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#method-SchedulerRoot.find" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>スケジュール一覧の中から params で指定したフィルタリング条件に該当するスケジュールの検索結果を返します。
params には <a class="reference internal" href="#directory-find"><span class="std std-ref">Directory.find()</span></a> メソッドと同様にフィルタリングを指定することができます。</p>
<p>指定可能な属性とルックアップは以下のとおりです。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>属性名</p></th>
<th class="head"><p>指定できるルックアップ</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">iexact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code>, <code class="docutils literal notranslate"><span class="pre">icontains</span></code>, <code class="docutils literal notranslate"><span class="pre">startswith</span></code>, <code class="docutils literal notranslate"><span class="pre">istartswith</span></code>,
<code class="docutils literal notranslate"><span class="pre">endswith</span></code>, <code class="docutils literal notranslate"><span class="pre">iendswith</span></code>, <code class="docutils literal notranslate"><span class="pre">regex</span></code>, <code class="docutils literal notranslate"><span class="pre">iregex</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">description</span></code></p></td>
<td><p>同上</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">job</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">year</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">month</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">day</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">week</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">day_of_week</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">hour</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">minute</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">disabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.3 で追加: </span>find メソッドが追加されました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.8 で変更: </span>find() メソッドの結果を LazyArray 型に変更しました。</p>
</div>
</section>
</section>
<section id="user">
<span id="virtual_model-User"></span><h3><span class="section-number">5.4.5. </span>ユーザー (User)<a class="headerlink" href="#user" title="この見出しへのパーマリンク">¶</a></h3>
<p>Kompiraのユーザーを表すオブジェクトです。</p>
<section id="id105">
<h4><span class="section-number">5.4.5.1. </span>プロパティ<a class="headerlink" href="#id105" title="この見出しへのパーマリンク">¶</a></h4>
<p>ユーザーオブジェクトで定義されているプロパティは以下のとおりです。</p>
<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-User.username">
<span class="sig-prename descclassname"><span class="pre">User.</span></span><span class="sig-name descname"><span class="pre">username</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-User.username" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ユーザー名です。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-User.first_name">
<span class="sig-prename descclassname"><span class="pre">User.</span></span><span class="sig-name descname"><span class="pre">first_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-User.first_name" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ユーザーの姓名の名の部分を表します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-User.last_name">
<span class="sig-prename descclassname"><span class="pre">User.</span></span><span class="sig-name descname"><span class="pre">last_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-User.last_name" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ユーザーの姓名の姓の部分を表します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-User.full_name">
<span class="sig-prename descclassname"><span class="pre">User.</span></span><span class="sig-name descname"><span class="pre">full_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-User.full_name" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ユーザーの姓名を表します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-User.mailbox">
<span class="sig-prename descclassname"><span class="pre">User.</span></span><span class="sig-name descname"><span class="pre">mailbox</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-User.mailbox" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>以下の形式のアドレスを表します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ユーザー名 &lt;メールアドレス&gt;
</pre></div>
</div>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-User.email">
<span class="sig-prename descclassname"><span class="pre">User.</span></span><span class="sig-name descname"><span class="pre">email</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-User.email" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ユーザーのメールアドレスです。書き込み可能なプロパティです。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-User.environment">
<span class="sig-prename descclassname"><span class="pre">User.</span></span><span class="sig-name descname"><span class="pre">environment</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#type_object-Environment"><span class="pre">Environment</span></a><span class="p"><span class="pre">)</span></span></em><a class="headerlink" href="#property-User.environment" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>環境変数オブジェクトです。書き込み可能なプロパティです。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-User.home_directory">
<span class="sig-prename descclassname"><span class="pre">User.</span></span><span class="sig-name descname"><span class="pre">home_directory</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Object"><span class="pre">Object</span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#type_object-Directory"><span class="pre">Directory</span></a><span class="p"><span class="pre">)</span></span></em><a class="headerlink" href="#property-User.home_directory" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ユーザーのホームです。書き込み可能なプロパティです。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-User.groups">
<span class="sig-prename descclassname"><span class="pre">User.</span></span><span class="sig-name descname"><span class="pre">groups</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Array"><span class="pre">Array</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#virtual_model-Group"><span class="pre">Group</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#property-User.groups" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ユーザーが所属するグループ一覧です。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-User.is_active">
<span class="sig-prename descclassname"><span class="pre">User.</span></span><span class="sig-name descname"><span class="pre">is_active</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#property-User.is_active" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>有効なユーザかどうかを示します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-User.is_ldap_user">
<span class="sig-prename descclassname"><span class="pre">User.</span></span><span class="sig-name descname"><span class="pre">is_ldap_user</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#property-User.is_ldap_user" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>LDAPユーザかどうかを示します。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-User.enable_restapi">
<span class="sig-prename descclassname"><span class="pre">User.</span></span><span class="sig-name descname"><span class="pre">enable_restapi</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#property-User.enable_restapi" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>REST API を有効化するかどうかを示します。書き込み可能なプロパティです。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-User.auth_token">
<span class="sig-prename descclassname"><span class="pre">User.</span></span><span class="sig-name descname"><span class="pre">auth_token</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-User.auth_token" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ユーザーの認証トークンです。読み込み専用のプロパティです。REST API が無効の時は null となります。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-User.last_login">
<span class="sig-prename descclassname"><span class="pre">User.</span></span><span class="sig-name descname"><span class="pre">last_login</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Datetime"><span class="pre">Datetime</span></a></em><a class="headerlink" href="#property-User.last_login" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ユーザーの最終ログイン日時です。</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.3 で追加: </span>last_login プロパティが追加されました。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.8 で追加: </span>is_active と is_ldap_user プロパティが追加されました。</p>
</div>
</section>
<section id="id106">
<h4><span class="section-number">5.4.5.2. </span>メソッド<a class="headerlink" href="#id106" title="この見出しへのパーマリンク">¶</a></h4>
<p>公開されているメソッドはありません。</p>
</section>
</section>
<section id="config-user">
<span id="virtual_object-UserRoot"></span><h3><span class="section-number">5.4.6. </span>ユーザー一覧 (/config/user)<a class="headerlink" href="#config-user" title="この見出しへのパーマリンク">¶</a></h3>
<p>ユーザー一覧 (/config/user) は、ユーザーの一覧を保持するオブジェクトで
あり、仮想オブジェクト (Virtual) として実装されています。</p>
<section id="id107">
<h4><span class="section-number">5.4.6.1. </span>メソッド<a class="headerlink" href="#id107" title="この見出しへのパーマリンク">¶</a></h4>
<p>ユーザー一覧 には以下のメソッドが定義されています。</p>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-UserRoot.find">
<span class="sig-prename descclassname"><span class="pre">UserRoot.</span></span><span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">...params</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-LazyArray"><span class="pre">LazyArray</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#virtual_model-User"><span class="pre">User</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#method-UserRoot.find" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ユーザ一覧の中から params で指定したフィルタリング条件に該当するユーザーの検索結果を返します。
params には <a class="reference internal" href="#directory-find"><span class="std std-ref">Directory.find()</span></a> メソッドと同様にフィルタリングを指定することができます。</p>
<p>指定可能な属性とルックアップは以下のとおりです。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>属性名</p></th>
<th class="head"><p>指定できるルックアップ</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">username</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">iexact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code>, <code class="docutils literal notranslate"><span class="pre">icontains</span></code>, <code class="docutils literal notranslate"><span class="pre">startswith</span></code>, <code class="docutils literal notranslate"><span class="pre">istartswith</span></code>,
<code class="docutils literal notranslate"><span class="pre">endswith</span></code>, <code class="docutils literal notranslate"><span class="pre">iendswith</span></code>, <code class="docutils literal notranslate"><span class="pre">regex</span></code>, <code class="docutils literal notranslate"><span class="pre">iregex</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">first_name</span></code></p></td>
<td><p>同上</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">last_name</span></code></p></td>
<td><p>同上</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">email</span></code></p></td>
<td><p>同上</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">last_login</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">gt</span></code>, <code class="docutils literal notranslate"><span class="pre">gte</span></code>, <code class="docutils literal notranslate"><span class="pre">lt</span></code>, <code class="docutils literal notranslate"><span class="pre">lte</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">is_active</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">is_ldap_user</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">home_directory</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">environment</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.3 で追加: </span>find メソッドが追加されました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.8 で変更: </span>find() メソッドの結果を LazyArray 型に変更しました。</p>
</div>
</section>
</section>
<section id="group">
<span id="virtual_model-Group"></span><h3><span class="section-number">5.4.7. </span>グループ (Group)<a class="headerlink" href="#group" title="この見出しへのパーマリンク">¶</a></h3>
<p>Kompiraのグループを表すオブジェクトです。</p>
<section id="id108">
<h4><span class="section-number">5.4.7.1. </span>プロパティ<a class="headerlink" href="#id108" title="この見出しへのパーマリンク">¶</a></h4>
<p>グループオブジェクトで定義されているプロパティは以下のとおりです。</p>
<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Group.name">
<span class="sig-prename descclassname"><span class="pre">Group.</span></span><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-String"><span class="pre">String</span></a></em><a class="headerlink" href="#property-Group.name" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>グループ名です。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Group.users">
<span class="sig-prename descclassname"><span class="pre">Group.</span></span><span class="sig-name descname"><span class="pre">users</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Array"><span class="pre">Array</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#virtual_model-User"><span class="pre">User</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#property-Group.users" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このグループに所属するユーザー一覧です。</p>
</dd></dl>

<dl class="kompira property">
<dt class="sig sig-object kompira" id="property-Group.is_ldap_group">
<span class="sig-prename descclassname"><span class="pre">Group.</span></span><span class="sig-name descname"><span class="pre">is_ldap_group</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-Boolean"><span class="pre">Boolean</span></a></em><a class="headerlink" href="#property-Group.is_ldap_group" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>LDAPグループかどうかを示します。</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.3 で追加: </span>name と users プロパティが追加されました。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.8 で追加: </span>is_ldap_group プロパティが追加されました。</p>
</div>
</section>
<section id="id109">
<h4><span class="section-number">5.4.7.2. </span>メソッド<a class="headerlink" href="#id109" title="この見出しへのパーマリンク">¶</a></h4>
<p>公開されているメソッドはありません。</p>
</section>
</section>
<section id="config-group">
<span id="virtual_object-GroupRoot"></span><h3><span class="section-number">5.4.8. </span>グループ一覧 (/config/group)<a class="headerlink" href="#config-group" title="この見出しへのパーマリンク">¶</a></h3>
<p>グループ一覧 (/config/group) は、グループの一覧を保持するオブジェクトで
あり、仮想オブジェクト (Virtual) として実装されています。</p>
<section id="id110">
<h4><span class="section-number">5.4.8.1. </span>メソッド<a class="headerlink" href="#id110" title="この見出しへのパーマリンク">¶</a></h4>
<p>グループ一覧 には以下のメソッドが定義されています。</p>
<dl class="kompira method">
<dt class="sig sig-object kompira" id="method-GroupRoot.find">
<span class="sig-prename descclassname"><span class="pre">GroupRoot.</span></span><span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">...params</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="reference.html#data_type-LazyArray"><span class="pre">LazyArray</span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#virtual_model-Group"><span class="pre">Group</span></a><span class="p"><span class="pre">&gt;</span></span></em><a class="headerlink" href="#method-GroupRoot.find" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>グループ一覧の中から params で指定したフィルタリング条件に該当するグループの検索結果を返します。
params には <a class="reference internal" href="#directory-find"><span class="std std-ref">Directory.find()</span></a> メソッドと同様にフィルタリングを指定することができます。</p>
<p>指定可能な属性とルックアップは以下のとおりです。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>属性名</p></th>
<th class="head"><p>指定できるルックアップ</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code>, <code class="docutils literal notranslate"><span class="pre">iexact</span></code>, <code class="docutils literal notranslate"><span class="pre">contains</span></code>, <code class="docutils literal notranslate"><span class="pre">icontains</span></code>, <code class="docutils literal notranslate"><span class="pre">startswith</span></code>, <code class="docutils literal notranslate"><span class="pre">istartswith</span></code>,
<code class="docutils literal notranslate"><span class="pre">endswith</span></code>, <code class="docutils literal notranslate"><span class="pre">iendswith</span></code>, <code class="docutils literal notranslate"><span class="pre">regex</span></code>, <code class="docutils literal notranslate"><span class="pre">iregex</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">is_ldap_group</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">exact</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">バージョン 1.6.3 で追加: </span>find メソッドが追加されました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 1.6.8 で変更: </span>find() メソッドの結果を LazyArray 型に変更しました。</p>
</div>
</section>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">目次</a></h3>
    <ul>
<li><a class="reference internal" href="#">5. Kompira 標準ライブラリ</a><ul>
<li><a class="reference internal" href="#id1">5.1. 組み込み関数/ジョブ</a><ul>
<li><a class="reference internal" href="#id2">5.1.1. ローカル組み込みジョブ</a></li>
<li><a class="reference internal" href="#id3">5.1.2. リモート組み込みジョブ</a></li>
<li><a class="reference internal" href="#library-functions">5.1.3. 組み込み関数</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base_object-Object">5.2. Kompiraオブジェクト</a><ul>
<li><a class="reference internal" href="#fields-types">5.2.1. フィールド型</a></li>
<li><a class="reference internal" href="#lib-qualifier">5.2.2. フィールド修飾子</a></li>
<li><a class="reference internal" href="#lib-property">5.2.3. プロパティ</a></li>
<li><a class="reference internal" href="#lib-method">5.2.4. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#builtin-type-object">5.3. 組み込み型オブジェクト</a><ul>
<li><a class="reference internal" href="#typeobject">5.3.1. 型オブジェクト (TypeObject)</a><ul>
<li><a class="reference internal" href="#id12">5.3.1.1. フィールド</a></li>
<li><a class="reference internal" href="#id13">5.3.1.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#directory">5.3.2. ディレクトリ (Directory)</a><ul>
<li><a class="reference internal" href="#id15">5.3.2.1. フィールド</a></li>
<li><a class="reference internal" href="#dir-method">5.3.2.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#license">5.3.3. ライセンス (License)</a><ul>
<li><a class="reference internal" href="#id18">5.3.3.1. フィールド</a></li>
<li><a class="reference internal" href="#id19">5.3.3.2. メソッド</a></li>
<li><a class="reference internal" href="#id20">5.3.3.3. プロパティ</a></li>
</ul>
</li>
<li><a class="reference internal" href="#virtual">5.3.4. 仮想オブジェクト (Virtual)</a><ul>
<li><a class="reference internal" href="#id22">5.3.4.1. フィールド</a></li>
<li><a class="reference internal" href="#id23">5.3.4.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#jobflow">5.3.5. ジョブフロー(Jobflow)</a><ul>
<li><a class="reference internal" href="#id25">5.3.5.1. フィールド</a></li>
<li><a class="reference internal" href="#id26">5.3.5.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#channel">5.3.6. チャネル (Channel)</a><ul>
<li><a class="reference internal" href="#id28">5.3.6.1. フィールド</a></li>
<li><a class="reference internal" href="#id29">5.3.6.2. メソッド</a></li>
<li><a class="reference internal" href="#id30">5.3.6.3. プロパティ</a></li>
</ul>
</li>
<li><a class="reference internal" href="#wiki-wiki">5.3.7. Wikiページ (Wiki)</a><ul>
<li><a class="reference internal" href="#id31">5.3.7.1. フィールド</a></li>
<li><a class="reference internal" href="#id32">5.3.7.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scriptjob">5.3.8. スクリプトジョブ (ScriptJob)</a><ul>
<li><a class="reference internal" href="#id34">5.3.8.1. フィールド</a></li>
<li><a class="reference internal" href="#id35">5.3.8.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#environment">5.3.9. 環境変数 (Environment)</a><ul>
<li><a class="reference internal" href="#id37">5.3.9.1. フィールド</a></li>
<li><a class="reference internal" href="#id38">5.3.9.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#template">5.3.10. テンプレート (Template)</a><ul>
<li><a class="reference internal" href="#id40">5.3.10.1. フィールド</a></li>
<li><a class="reference internal" href="#id41">5.3.10.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#table">5.3.11. テーブル (Table)</a><ul>
<li><a class="reference internal" href="#id43">5.3.11.1. フィールド</a></li>
<li><a class="reference internal" href="#id44">5.3.11.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#realm">5.3.12. 管理領域 (Realm)</a><ul>
<li><a class="reference internal" href="#id46">5.3.12.1. フィールド</a></li>
<li><a class="reference internal" href="#id47">5.3.12.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#attachedfile">5.3.13. 添付ファイル (AttachedFile)</a><ul>
<li><a class="reference internal" href="#id49">5.3.13.1. フィールド</a></li>
<li><a class="reference internal" href="#id50">5.3.13.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodeinfo">5.3.14. ノード情報 (NodeInfo)</a><ul>
<li><a class="reference internal" href="#id52">5.3.14.1. フィールド</a></li>
<li><a class="reference internal" href="#id53">5.3.14.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#accountinfo">5.3.15. アカウント情報 (AccountInfo)</a><ul>
<li><a class="reference internal" href="#id55">5.3.15.1. フィールド</a></li>
<li><a class="reference internal" href="#id56">5.3.15.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#repository">5.3.16. リポジトリ (Repository)</a><ul>
<li><a class="reference internal" href="#id58">5.3.16.1. フィールド</a></li>
<li><a class="reference internal" href="#id59">5.3.16.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mailchannel">5.3.17. メールチャネル (MailChannel)</a><ul>
<li><a class="reference internal" href="#id61">5.3.17.1. フィールド</a></li>
<li><a class="reference internal" href="#id62">5.3.17.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#form">5.3.18. フォーム (Form)</a><ul>
<li><a class="reference internal" href="#id64">5.3.18.1. フィールド</a></li>
<li><a class="reference internal" href="#id65">5.3.18.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#config">5.3.19. 設定 (Config)</a><ul>
<li><a class="reference internal" href="#id67">5.3.19.1. フィールド</a></li>
<li><a class="reference internal" href="#id68">5.3.19.2. プロパティ</a></li>
<li><a class="reference internal" href="#id69">5.3.19.3. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#library">5.3.20. ライブラリ (Library)</a><ul>
<li><a class="reference internal" href="#id71">5.3.20.1. フィールド</a></li>
<li><a class="reference internal" href="#id72">5.3.20.2. メソッド</a></li>
<li><a class="reference internal" href="#id73">5.3.20.3. 呼び出し例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mailtemplate">5.3.21. メールテンプレート (MailTemplate)</a><ul>
<li><a class="reference internal" href="#id75">5.3.21.1. フィールド</a></li>
<li><a class="reference internal" href="#id76">5.3.21.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#text">5.3.22. テキスト (Text)</a><ul>
<li><a class="reference internal" href="#id78">5.3.22.1. フィールド</a></li>
<li><a class="reference internal" href="#id79">5.3.22.2. メソッド</a></li>
<li><a class="reference internal" href="#id80">5.3.22.3. プロパティ</a></li>
</ul>
</li>
<li><a class="reference internal" href="#systeminfo">5.3.23. システム情報型 (SystemInfo)</a><ul>
<li><a class="reference internal" href="#id82">5.3.23.1. フィールド</a></li>
<li><a class="reference internal" href="#id83">5.3.23.2. メソッド</a></li>
<li><a class="reference internal" href="#id84">5.3.23.3. プロパティ</a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodetype">5.3.24. ノード種別型 (NodeType)</a><ul>
<li><a class="reference internal" href="#id86">5.3.24.1. フィールド</a></li>
<li><a class="reference internal" href="#id87">5.3.24.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#customstyle">5.3.25. カスタムスタイル型 (CustomStyle)</a><ul>
<li><a class="reference internal" href="#id89">5.3.25.1. フィールド</a></li>
<li><a class="reference internal" href="#id90">5.3.25.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#oauth2-oauth2provider">5.3.26. OAuth2プロバイダ型 (OAuth2Provider)</a><ul>
<li><a class="reference internal" href="#id91">5.3.26.1. フィールド</a></li>
<li><a class="reference internal" href="#id92">5.3.26.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#smtp-smtpserver">5.3.27. SMTPサーバ型 (SmtpServer)</a><ul>
<li><a class="reference internal" href="#id93">5.3.27.1. フィールド</a></li>
<li><a class="reference internal" href="#id94">5.3.27.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ldap-ldapserver">5.3.28. LDAPサーバ型 (LdapServer)</a><ul>
<li><a class="reference internal" href="#id95">5.3.28.1. フィールド</a></li>
<li><a class="reference internal" href="#id96">5.3.28.2. メソッド</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id97">5.4. 特殊オブジェクト</a><ul>
<li><a class="reference internal" href="#process">5.4.1. プロセス (Process)</a><ul>
<li><a class="reference internal" href="#id98">5.4.1.1. プロパティ</a></li>
<li><a class="reference internal" href="#id99">5.4.1.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#virtual_object-ProcessRoot">5.4.2. プロセス一覧 (/process)</a><ul>
<li><a class="reference internal" href="#id101">5.4.2.1. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#schedule">5.4.3. スケジュール (Schedule)</a><ul>
<li><a class="reference internal" href="#id102">5.4.3.1. プロパティ</a></li>
<li><a class="reference internal" href="#id103">5.4.3.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scheduler">5.4.4. スケジュール一覧 (/scheduler)</a><ul>
<li><a class="reference internal" href="#id104">5.4.4.1. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#user">5.4.5. ユーザー (User)</a><ul>
<li><a class="reference internal" href="#id105">5.4.5.1. プロパティ</a></li>
<li><a class="reference internal" href="#id106">5.4.5.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#config-user">5.4.6. ユーザー一覧 (/config/user)</a><ul>
<li><a class="reference internal" href="#id107">5.4.6.1. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#group">5.4.7. グループ (Group)</a><ul>
<li><a class="reference internal" href="#id108">5.4.7.1. プロパティ</a></li>
<li><a class="reference internal" href="#id109">5.4.7.2. メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#config-group">5.4.8. グループ一覧 (/config/group)</a><ul>
<li><a class="reference internal" href="#id110">5.4.8.1. メソッド</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>前のトピックへ</h4>
    <p class="topless"><a href="reference.html"
                          title="前の章へ"><span class="section-number">4. </span>Kompira ジョブフロー言語リファレンス</a></p>
  </div>
  <div>
    <h4>次のトピックへ</h4>
    <p class="topless"><a href="coordination.html"
                          title="次の章へ"><span class="section-number">6. </span>他システムとの連携</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/library.rst.txt"
            rel="nofollow">ソースコードを表示</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="検索" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="coordination.html" title="6. 他システムとの連携"
             >次へ</a> |</li>
        <li class="right" >
          <a href="reference.html" title="4. Kompira ジョブフロー言語リファレンス"
             >前へ</a> |</li>
<li class="nav-item nav-item-0"><a href="index.html">Kompira 1.6.11 ドキュメント</a> [<a href="../en/library.html">en</a>|<a href="./kompira.pdf" target="_blank">pdf</a>] &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">5. </span>Kompira 標準ライブラリ</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2012, Kompira development team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>